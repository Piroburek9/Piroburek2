import{r as l,b as Ot,R as Qe,c as gs,a as Ba}from"./vendor-dd3c4855.js";import{c as xs}from"./charts-3c6eb5ce.js";import{B as ot,G as vs,L as Fa,a as gt,H as En,b as _n,c as yr,U as ys,d as Tn,S as Wa,u as Z,e as Pr,f as qt,M as Pn,T as Kt,g as Jr,C as kt,h as kr,A as Rr,i as Zr,j as Ua,k as bs,l as ws,m as Va,n as Ha,X as js,o as qa,p as Qa,q as Ga,r as Ya,P as Ka,s as Xa,t as Ja,v as Za,F as ei,w as ti,$ as ri,x as ni}from"./ui-ae324378.js";import{_ as Ye,a as Ss,b as si}from"./motion-6ccf754a.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();var Ns={exports:{}},ar={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oi=l,ai=Symbol.for("react.element"),ii=Symbol.for("react.fragment"),ci=Object.prototype.hasOwnProperty,li=oi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,di={key:!0,ref:!0,__self:!0,__source:!0};function Cs(e,t,n){var s,o={},a=null,i=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(i=t.ref);for(s in t)ci.call(t,s)&&!di.hasOwnProperty(s)&&(o[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)o[s]===void 0&&(o[s]=t[s]);return{$$typeof:ai,type:e,key:a,ref:i,props:o,_owner:li.current}}ar.Fragment=ii;ar.jsx=Cs;ar.jsxs=Cs;Ns.exports=ar;var r=Ns.exports,Mr={},kn=Ot;Mr.createRoot=kn.createRoot,Mr.hydrateRoot=kn.hydrateRoot;const ui="modulepreload",fi=function(e){return"/"+e},Rn={},pt=function(t,n,s){if(!n||n.length===0)return t();const o=document.getElementsByTagName("link");return Promise.all(n.map(a=>{if(a=fi(a),a in Rn)return;Rn[a]=!0;const i=a.endsWith(".css"),c=i?'[rel="stylesheet"]':"";if(!!s)for(let f=o.length-1;f>=0;f--){const m=o[f];if(m.href===a&&(!i||m.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${c}`))return;const u=document.createElement("link");if(u.rel=i?"stylesheet":ui,i||(u.as="script",u.crossOrigin=""),u.href=a,document.head.appendChild(u),i)return new Promise((f,m)=>{u.addEventListener("load",f),u.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${a}`)))})})).then(()=>t()).catch(a=>{const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=a,window.dispatchEvent(i),!i.defaultPrevented)throw a})};class mi{constructor(){this.users=new Map,this.tests=new Map,this.customQuestionsBySubject={},this.results=new Map,this.currentUser=null,this.authToken=null,this.initializeMockData(),this.authToken=localStorage.getItem("auth_token"),pt(()=>import("./historyKZSeed-1e35efc6.js"),[]).then(t=>{this.customQuestionsBySubject.history_kz=[...this.customQuestionsBySubject.history_kz||[],...t.historyKZSeed]}).catch(()=>{}),pt(()=>import("./historyKZSeed_kz-968f65d3.js"),[]).then(t=>{this.customQuestionsBySubject.history_kz=[...this.customQuestionsBySubject.history_kz||[],...t.historyKZSeedKZ]}).catch(()=>{}),pt(()=>import("./mathLiteracySeed-b68decab.js"),[]).then(t=>{this.customQuestionsBySubject.math_literacy=[...this.customQuestionsBySubject.math_literacy||[],...t.mathLiteracySeed]}).catch(()=>{}),pt(()=>import("./mathLiteracySeed_kz-480a7885.js"),[]).then(t=>{this.customQuestionsBySubject.math_literacy=[...this.customQuestionsBySubject.math_literacy||[],...t.mathLiteracySeedKZ]}).catch(()=>{})}initializeMockData(){[{id:"test-1",title:"Математика - Алгебра",subject:"mathematics",difficulty:"medium",time_limit:1800,questions:[{id:"q1",question:"Решите уравнение: 2x + 5 = 13",type:"multiple_choice",options:["x = 4","x = 3","x = 5","x = 6"],correct_answer:0,explanation:"2x + 5 = 13, значит 2x = 8, откуда x = 4"},{id:"q2",question:"Найдите значение выражения: (3 + 2) × 4",type:"multiple_choice",options:["20","18","14","16"],correct_answer:0,explanation:"Сначала вычисляем в скобках: 3 + 2 = 5, затем 5 × 4 = 20"},{id:"q3",question:"Что больше: 0.5 или 1/3?",type:"multiple_choice",options:["0.5","1/3","Равны","Невозможно определить"],correct_answer:0,explanation:"0.5 = 1/2 = 3/6, а 1/3 = 2/6. Значит 0.5 > 1/3"}]},{id:"test-2",title:"История России - 19 век",subject:"history",difficulty:"easy",time_limit:1200,questions:[{id:"q1",question:"В каком году была отменена крепостное право в России?",type:"multiple_choice",options:["1861","1860","1862","1859"],correct_answer:0,explanation:"Крепостное право было отменено Александром II в 1861 году"},{id:"q2",question:"Кто был императором России в начале 19 века?",type:"multiple_choice",options:["Александр I","Николай I","Александр II","Павел I"],correct_answer:0,explanation:"Александр I правил с 1801 по 1825 год"}]},{id:"test-3",title:"Физика - Механика",subject:"physics",difficulty:"hard",time_limit:2400,questions:[{id:"q1",question:"Второй закон Ньютона формулируется как:",type:"multiple_choice",options:["F = ma","F = mv","F = mg","F = ma²"],correct_answer:0,explanation:"Второй закон Ньютона: сила равна произведению массы на ускорение"},{id:"q2",question:"Единица измерения силы в СИ:",type:"multiple_choice",options:["Ньютон","Джоуль","Ватт","Паскаль"],correct_answer:0,explanation:"Сила измеряется в ньютонах (Н) в системе СИ"}]}].forEach(n=>this.tests.set(n.id,n))}async isBackendAvailable(){try{return(await fetch("/api/health",{method:"GET",headers:{"Content-Type":"application/json"}})).ok}catch{return!1}}async login(t,n){try{if(await this.isBackendAvailable()){const o=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,password:n})});if(o.ok){const a=await o.json();return this.currentUser=a.user,this.authToken=a.token,localStorage.setItem("auth_token",this.authToken),a.user}}}catch{console.log("Backend login failed, using local auth")}if(t==="demo@example.com"&&n==="password123"){const o={id:"demo-user",email:"demo@example.com",name:"Demo User",role:"student",tests_completed:3,average_score:85,study_streak:5,total_study_time:180};return this.currentUser=o,this.users.set(o.id,o),o}const s={id:Date.now().toString(),email:t,name:t.split("@")[0],role:"student",tests_completed:0,average_score:0,study_streak:0,total_study_time:0};return this.currentUser=s,this.users.set(s.id,s),s}async register(t,n,s,o){try{if(await this.isBackendAvailable()){const i=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,password:n,name:s,role:o})});if(i.ok){const c=await i.json();return this.currentUser=c.user,c.user}}}catch{console.log("Backend registration failed, using local auth")}const a={id:Date.now().toString(),email:t,name:s,role:o,tests_completed:0,average_score:0,study_streak:0,total_study_time:0};return this.currentUser=a,this.users.set(a.id,a),a}async logout(){try{this.authToken&&await this.isBackendAvailable()&&await fetch("/api/auth/logout",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.authToken}`}})}catch{console.log("Backend logout failed")}this.currentUser=null,this.authToken=null,localStorage.removeItem("auth_token")}getCurrentUser(){return this.currentUser}async getTests(){try{if(await this.isBackendAvailable()){const t=await fetch("/api/tests");if(t.ok)return await t.json()}}catch{console.log("Backend tests failed, using local data")}return Array.from(this.tests.values())}async getTest(t){return this.tests.get(t)}async createTest(t){const n={...t,id:`test-${Date.now()}`,created_at:new Date().toISOString()};return this.tests.set(n.id,n),n}async getQuestions(){try{if(await this.isBackendAvailable()){const n=await fetch("/api/questions");if(n.ok)return await n.json()}}catch{console.log("Backend questions failed, using local data")}const t=[];return this.tests.forEach(n=>{n.questions.forEach(s=>{t.push({...s,subject:n.subject,difficulty:n.difficulty,explanation:s.explanation,correctAnswer:typeof s.correct_answer=="number"?s.correct_answer:0})})}),Object.entries(this.customQuestionsBySubject).forEach(([n,s])=>{s.forEach(o=>{t.push({...o,subject:n,correctAnswer:typeof o.correct_answer=="number"?o.correct_answer:0})})}),t}async generateQuiz(t,n,s){try{if(await this.isBackendAvailable()){const a=await fetch("/api/ai/generate-quiz",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.authToken}`},body:JSON.stringify({subject:t,difficulty:n,count:s})});if(a.ok)return{questions:(await a.json()).questions,isDemo:!1}}}catch(a){console.error("AI quiz generation error:",a)}return await new Promise(a=>setTimeout(a,2e3)),{questions:[{id:"ai-q1",question:`Вопрос по теме "${t}" (сложность: ${n})`,type:"multiple_choice",options:["Вариант 1","Вариант 2","Вариант 3","Вариант 4"],correct_answer:0,explanation:"Это демонстрационный вопрос, сгенерированный ИИ."},{id:"ai-q2",question:`Ещё один вопрос по "${t}"`,type:"multiple_choice",options:["Ответ A","Ответ B","Ответ C","Ответ D"],correct_answer:1,explanation:"Демо-объяснение для второго вопроса."}].slice(0,s),isDemo:!0}}async generateENTQuiz(t,n){try{if(await this.isBackendAvailable()){const p={"Content-Type":"application/json"};this.authToken&&(p.Authorization=`Bearer ${this.authToken}`);const v=await fetch("/api/ai/generate-ent-quiz",{method:"POST",headers:p,body:JSON.stringify({track:t})});if(v.ok)return{questions:((await v.json()).questions||[]).map(w=>({...w,correctAnswer:typeof w.correct_answer=="number"?w.correct_answer:0})),isDemo:!1}}}catch{console.warn("ENT generator API failed, using local generator")}const{loadEntTemplate:s}=await pt(()=>Promise.resolve().then(()=>Qu),void 0),a=s().tracks[t].sections,i=Math.max(1,(n==null?void 0:n.maxPerSection)??Number.POSITIVE_INFINITY),c=(p,v)=>Math.floor(Math.random()*(v-p+1))+p,d=p=>{const v=[...p];for(let y=v.length-1;y>0;y--){const b=Math.floor(Math.random()*(y+1));[v[y],v[b]]=[v[b],v[y]]}return v},u=(p,v,y,b,w)=>({id:`ent-${Date.now()}-${Math.random().toString(36).slice(2)}`,question:p,type:"multiple_choice",options:v,correct_answer:y,correctAnswer:y,explanation:b,subject:w,difficulty:"medium"}),f=p=>{const v=[u("Когда была принята первая Конституция Республики Казахстан?",["1991","1993","1995","1998"],1,"Первая Конституция независимого Казахстана была принята в 1993 году.","history_kz"),u("Столицей Казахстана с 1997 года является:",["Алматы","Астана (Нур-Султан)","Шымкент","Караганда"],1,"Столица была перенесена из Алматы в Акмолу (ныне Астана) в 1997 году.","history_kz"),u("Кто является автором гимна Республики Казахстан (слова, 2006)?",["Н. Назарбаев и Ж. Нажмеденов","А. Байтұрсынұлы","М. Әуезов","А. Кунаев"],0,"Слова современного гимна написали Н. Назарбаев и Ж. Нажмеденов.","history_kz")],y=[];for(;y.length<p;)y.push(v[y.length%v.length]);return y},m=p=>{const b=[()=>{const w=c(2e3,1e4),S=[5,10,15,20][c(0,3)],C=Math.round(w*(1-S/100)),_=[C+c(50,250),C-c(50,250),Math.round(w*(S/100))],A=d([C,..._]).map(String),R=A.indexOf(String(C));return u(`Товар стоит ${w} тг. Скидка ${S}%. Какова новая цена?`,A,R,`Новая цена = ${w} × (1 − ${S}/100) = ${C} тг`,"math_literacy")},()=>{const w=c(2,9),S=c(2,9),C=c(20,60),_=w+S,A=Math.round(w/_*C),R=d([A,A+1,Math.max(0,A-1),A+2]).map(String),k=R.indexOf(String(A));return u(`В классе соотношение мальчиков и девочек ${w}:${S}. Всего ${C} учеников. Сколько мальчиков?`,R,k,`Доля мальчиков = ${w}/(${w}+${S}) · ${C} = ${A}.`,"math_literacy")}];return Array.from({length:p},()=>b[c(0,b.length-1)]())},h=p=>{const v=()=>{const j=c(2,7),E=c(-9,9),N=c(-10,20),P=(N-E)/j,T=Number.isInteger(P)?P:+P.toFixed(2),O=[T+1,T-1,T+2].map(L=>String(L)),M=d([String(T),...O]),D=M.indexOf(String(T));return u(`Решите уравнение: ${j}x ${E>=0?"+ "+E:"- "+Math.abs(E)} = ${N}`,M,D,`x = (${N} − ${E}) / ${j} = ${T}`,"math_profile")},y=()=>{const j=c(-5,5),E=c(-5,5),N=-(j+E),P=j*E,T=`Найдите корни уравнения: x^2 ${N>=0?"+ "+N:"- "+Math.abs(N)}x ${P>=0?"+ "+P:"- "+Math.abs(P)} = 0`,O=`{${Math.min(j,E)}; ${Math.max(j,E)}}`,M=d([O,`{${j}; ${j}}`,`{${E}; ${E}}`,"{0; 0}"]),D=M.indexOf(O);return u(T,M,D,"Коэффициенты соответствуют (x − r1)(x − r2) = 0.","math_profile")},b=()=>u("Производная функции в точке — это:",["Предел отношения приращений функции и аргумента","Средняя скорость изменения функции","Интеграл функции","Значение функции в точке"],0,"Определение производной через предел отношения приращений.","math_profile"),w=()=>{const j=c(1,3),N=[...["верно A","верно B","верно C","неверно D","неверно E","неверно F"]],P=[];for(;P.length<j;){const T=c(0,2);P.includes(T)||P.push(T)}return{id:`ent-${Date.now()}-${Math.random().toString(36).slice(2)}`,question:"Выберите все верные утверждения (демо)",type:"multi_select",options:N,correct_answer:P,correctAnswer:0,explanation:"1–3 верных утверждений среди первых трёх пунктов.",subject:"math_profile",difficulty:"hard"}},S=[v,y,b],C=[w],_=Math.min(30,p),A=Math.max(0,p-_),R=Array.from({length:_},()=>S[c(0,S.length-1)]()),k=Array.from({length:A},()=>C[c(0,C.length-1)]());return[...R,...k]},x=p=>{const v=()=>u("Второй закон Ньютона формулируется как:",["F = ma","F = mv","F = mg","F = ma²"],0,"Сила равна произведению массы на ускорение.","physics_profile"),y=()=>u("Единица измерения энергии в СИ:",["Джоуль","Ньютон","Ватт","Паскаль"],0,"Энергия измеряется в Джоулях (J).","physics_profile"),b=()=>{const j=c(5,20),E=c(2,10),N=j*E,P=d([N,N+c(1,5),Math.max(0,N-c(1,5)),N+2]).map(String),T=P.indexOf(String(N));return u(`Тело движется равномерно со скоростью ${j} м/с в течение ${E} с. Какой путь пройден?`,P,T,`s = v·t = ${j}·${E} = ${N} м`,"physics_profile")},w=()=>{const j=["Вакуум проводит ток","Закон Ома: I = U/R","Единица мощности — Вт","Энергия в Н","Сопротивление в Ом","W = U·I"],E=[1,2,4];return{id:`ent-${Date.now()}-${Math.random().toString(36).slice(2)}`,question:"Выберите все верные утверждения (демо, физика)",type:"multi_select",options:j,correct_answer:E,correctAnswer:0,explanation:"Выберите корректные утверждения из списка.",subject:"physics_profile",difficulty:"hard"}},S=[v,y,b],C=[w],_=Math.min(30,p),A=Math.max(0,p-_),R=Array.from({length:_},()=>S[c(0,S.length-1)]()),k=Array.from({length:A},()=>C[c(0,C.length-1)]());return[...R,...k]},g=[];for(const p of a){const v=Math.min(p.numQuestions,i);if(p.key==="history_kz"){const y=(this.customQuestionsBySubject.history_kz||[]).slice(0,v);g.push(...y.length?y:f(v))}else if(p.key==="math_literacy"){const y=(this.customQuestionsBySubject.math_literacy||[]).slice(0,v);g.push(...y.length?y:m(v))}else if(p.key==="math_profile"){const y=(this.customQuestionsBySubject.math_profile||[]).slice(0,v);g.push(...y.length?y:h(v))}else if(p.key==="physics_profile"){const y=(this.customQuestionsBySubject.physics_profile||[]).slice(0,v);g.push(...y.length?y:x(v))}}return{questions:g,isDemo:!0}}async importENTQuestions(t,n){this.customQuestionsBySubject[t]||(this.customQuestionsBySubject[t]=[]);const s=n.map(o=>({...o,correctAnswer:typeof o.correct_answer=="number"?o.correct_answer:0,subject:t}));return this.customQuestionsBySubject[t].push(...s),this.customQuestionsBySubject[t].length}async submitTest(t){try{if(await this.isBackendAvailable()&&(await fetch("/api/tests/submit",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.authToken}`},body:JSON.stringify(t)})).ok)return}catch{console.log("Backend submit failed, storing locally")}if(this.currentUser){const n={id:`result-${Date.now()}`,user_id:this.currentUser.id,test_id:`test-${t.subject}`,answers:t.answers,score:t.score/t.total*100,time_spent:t.timeSpent,completed_at:new Date().toISOString()};this.results.set(n.id,n);const s=this.users.get(this.currentUser.id);s&&(s.tests_completed=(s.tests_completed||0)+1,s.average_score=s.tests_completed>1?Math.round(((s.average_score||0)*(s.tests_completed-1)+t.score/t.total*100)/s.tests_completed):Math.round(t.score/t.total*100),s.total_study_time=(s.total_study_time||0)+Math.round(t.timeSpent/60),this.users.set(s.id,s),this.currentUser=s)}}async submitTestResult(t,n,s,o){if(!this.currentUser)throw new Error("User not authenticated");const a={id:`result-${Date.now()}`,user_id:this.currentUser.id,test_id:t,answers:n,score:s,time_spent:o,completed_at:new Date().toISOString()};this.results.set(a.id,a);const i=this.users.get(this.currentUser.id);return i&&(i.tests_completed=(i.tests_completed||0)+1,i.average_score=i.tests_completed>1?Math.round(((i.average_score||0)*(i.tests_completed-1)+s)/i.tests_completed):s,i.total_study_time=(i.total_study_time||0)+Math.round(o/60),this.users.set(i.id,i),this.currentUser=i),a}async getResults(t){var s;const n=t||((s=this.currentUser)==null?void 0:s.id);return n?Array.from(this.results.values()).filter(o=>o.user_id===n):[]}async getUserStats(){const t=this.currentUser,n=await this.getResults();if(!t)throw new Error("User not authenticated");const s=n.length,o=s>0?Math.round(n.reduce((x,g)=>x+g.score,0)/s):0;let a=0,i=0;n.forEach(x=>{x.answers&&Array.isArray(x.answers)&&(a+=x.answers.length,i+=x.answers.filter(g=>g.correct).length)});const c=n.reduce((x,g)=>x+g.time_spent,0);let d=0;const u=n.sort((x,g)=>new Date(g.completed_at).getTime()-new Date(x.completed_at).getTime());for(const x of u)if(x.score>=60)d++;else break;let f="Начинающий";o>=90?f="Эксперт":o>=80?f="Продвинутый":o>=70?f="Средний":o>=60&&(f="Развивающийся");const m=[];s>=1&&m.push("Первый тест"),s>=5&&m.push("Активный ученик"),s>=10&&m.push("Настойчивый"),d>=3&&m.push("Серия побед"),o>=90&&m.push("Отличник"),c>=3600&&m.push("Час изучения");const h=u.slice(0,5).map(x=>({subject:x.test_id.replace("test-",""),score:Math.round(x.score/100*10),total:10,percentage:Math.round(x.score),completedAt:x.completed_at}));return{testsCompleted:s,averageScore:o,totalQuestions:a,correctAnswers:i,studyTime:c,streak:d,rank:f,achievements:m,recentTests:h}}async getAnalytics(t){const n=await this.getResults(t),s=this.currentUser;if(!n.length)return{totalTests:0,averageScore:0,recentActivity:[],progressTrend:[],studyStreak:(s==null?void 0:s.study_streak)||0,totalStudyTime:(s==null?void 0:s.total_study_time)||0};const o=n.length,a=Math.round(n.reduce((f,m)=>f+m.score,0)/o),i=n.sort((f,m)=>new Date(m.completed_at).getTime()-new Date(f.completed_at).getTime()).slice(0,10),c=new Date;c.setDate(c.getDate()-30);const u=n.filter(f=>new Date(f.completed_at)>=c).map(f=>({date:f.completed_at.split("T")[0],score:f.score}));return{totalTests:o,averageScore:a,recentActivity:i,progressTrend:u,studyStreak:(s==null?void 0:s.study_streak)||0,totalStudyTime:(s==null?void 0:s.total_study_time)||0}}async sendAIMessage(t,n,s){try{if(await this.isBackendAvailable()){const o={"Content-Type":"application/json"};this.authToken&&(o.Authorization=`Bearer ${this.authToken}`);const a=localStorage.getItem("deepseek_api_key");a&&(o["x-deepseek-api-key"]=a);const i=localStorage.getItem("gemini_api_key");i&&(o["x-gemini-api-key"]=i);const c=await fetch("/api/ai/chat",{method:"POST",headers:o,body:JSON.stringify({message:t,context:n,language:s})});if(c.ok)return{response:(await c.json()).response,isDemo:!1};if(c.status===402)return await this._generateLocalAIResponse(t,n,s)}}catch(o){console.error("AI chat error:",o)}return this._generateLocalAIResponse(t,n,s)}async chatWithAI(t,n,s){return this.sendAIMessage(t,n,s)}async _generateLocalAIResponse(t,n,s){await new Promise(f=>setTimeout(f,1e3+Math.random()*2e3));const o=s||this._detectLanguageFromText(t),a=["Отличный вопрос! Для лучшего понимания этой темы рекомендую разбить её на части и изучать постепенно.","Я вижу, что вы изучаете сложную тему. Давайте разберём её по шагам. Что именно вызывает затруднения?","Это интересная область! Попробуйте найти практические примеры — они помогут лучше усвоить материал.","Хороший подход к обучению! Не забывайте делать перерывы и повторять изученное через определённые интервалы.","Для закрепления материала рекомендую пройти дополнительные тесты по этой теме.","Помните: постоянная практика — ключ к успеху. Попробуйте решать задачи каждый день.","Если у вас есть вопросы по конкретной теме, я готов помочь с объяснениями.","Отличная работа! Продолжайте в том же духе. Какую тему изучаем дальше?"],i=["Тамаша сұрақ! Тақырыпты бөліктерге бөліп, біртіндеп оқуды ұсынамын.","Күрделі тақырыпты оқып жатырсыз екен. Қадамдап талдайық. Нақты қай жерде қиындық бар?","Өте қызық тақырып! Тәжірибелік мысалдармен байланыстыру материалды жақсы меңгеруге көмектеседі.","Оқу тәсіліңіз жақсы! Үзіліс жасап, қайталауды ұмытпаңыз.","Материалды бекіту үшін осы тақырып бойынша қосымша тесттерді орындаңыз.","Үздіксіз тәжірибе — табыстың кілті. Күн сайын тапсырмалар шешуге тырысыңыз.","Егер нақты тақырып бойынша сұрақтар болса, түсіндіруге дайынмын.","Жұмысыңыз жақсы! Сол қалпында жалғастыра беріңіз. Келесі тақырып қандай?"],c=t.toLowerCase();let d="";const u="ANALYZE_TEST_RESULTS:";if(n&&n.includes(u))try{const f=n.substring(n.indexOf(u)+u.length).trim(),m=JSON.parse(f),h=o==="kz"?"Тест нәтижелерінің талдауы":"Анализ результатов теста",x=o==="kz"?"Күшті жақтары":"Сильные стороны",g=o==="kz"?"Әлсіз жақтары":"Слабые стороны",p=o==="kz"?"Үй жұмысы":"Домашнее задание",v=o==="kz"?"Ұсынылатын тақырыптар":"Рекомендуемые темы",y=o==="kz"?`Ұпай: ${m.percentage}% (${m.correct}/${m.total})`:`Баллы: ${m.percentage}% (${m.correct}/${m.total})`,b=m.timeSpent?o==="kz"?`Уақыт: ${Math.round(m.timeSpent/60)} мин`:`Время: ${Math.round(m.timeSpent/60)} мин`:"",w=S=>S.map(C=>`- ${C}`).join(`
`);return d=`${h}
${y}${b?`
${b}`:""}

${x}:
${w(m.strengths||[])}

${g}:
${w(m.weaknesses||[])}

${p}:
${w(m.homework||[])}

${v}:
${w(m.topics||[])}`,{response:d,isDemo:!0}}catch{}if(c.includes("математика")||c.includes("алгебра"))d=o==="kz"?"Математика тұрақты тәжірибені талап етеді. Қарапайым мысалдардан бастап күн сайын есеп шығарыңыз.":"Математика требует постоянной практики. Рекомендую решать задачи каждый день, начиная с простых примеров.";else if(c.includes("физика")||c.includes("физика"))d=o==="kz"?"Физика — табиғат заңдарын түсіну. Теорияны өмірдегі мысалдармен байланыстырып көріңіз.":"Физика — это понимание законов природы. Попробуйте связать теорию с практическими примерами из жизни.";else if(c.includes("история")||c.includes("тарих"))d=o==="kz"?"Тарих қазіргі уақытты түсінуге көмектеседі. Даталар мен оқиғаларды жақсы есте сақтау үшін уақыт сызықтарын жасаңыз.":"История помогает понять настоящее. Создайте временные линии для лучшего запоминания дат и событий.";else if(c.includes("как")||c.includes("помощь")||c.includes("совет")||c.includes("қалай")||c.includes("көмек")||c.includes("кеңес"))d=o==="kz"?"Көмек беруге әрқашан дайынмын! Нақты мәселені сипаттаңыз, бірге шешім табамыз.":"Я всегда готов помочь! Опишите конкретную проблему, и мы найдём решение вместе.";else if(n&&this.currentUser){const f=o==="kz"?`${this.currentUser.name}, прогрессіңізге қарағанда (${this.currentUser.tests_completed||0} тест, орташа ұпай ${this.currentUser.average_score||0}%), жақсы алға жылжып жатырсыз!`:`${this.currentUser.name}, судя по вашему прогрессу (${this.currentUser.tests_completed||0} тестов, средний балл ${this.currentUser.average_score||0}%), вы хорошо продвигаетесь в обучении!`,m=o==="kz"?i:a;d=`${f} ${m[Math.floor(Math.random()*m.length)]}`}else{const f=o==="kz"?i:a;d=f[Math.floor(Math.random()*f.length)]}return{response:d,isDemo:!0}}_detectLanguageFromText(t){const n=/[әғқңөұүһі]/i,s=/(сәлем|қалай|ия|жоқ|үй|тапсырма|талдау)/i;return n.test(t)||s.test(t)?"kz":"ru"}}const be=new mi,As=l.createContext(void 0),hi=({children:e})=>{const[t,n]=l.useState(null),[s,o]=l.useState(!0);l.useEffect(()=>{(()=>{try{const m=localStorage.getItem("demo-user");if(m){const h=JSON.parse(m);n(h)}}catch(m){console.error("Error loading stored user:",m)}finally{o(!1)}})()},[]);const u={user:t,isLoading:s,login:async(f,m)=>{o(!0);try{const h=await be.login(f,m);n(h),localStorage.setItem("demo-user",JSON.stringify(h))}catch(h){throw new Error(h.message||"Ошибка входа")}finally{o(!1)}},register:async(f,m,h,x)=>{o(!0);try{const g=await be.register(f,m,h,x);n(g),localStorage.setItem("demo-user",JSON.stringify(g))}catch(g){throw new Error(g.message||"Ошибка регистрации")}finally{o(!1)}},logout:async()=>{o(!0);try{await be.logout(),n(null),localStorage.removeItem("demo-user")}catch(f){console.error("Logout error:",f)}finally{o(!1)}},refreshProfile:async()=>{if(t)try{const f=be.getCurrentUser();f&&(n(f),localStorage.setItem("demo-user",JSON.stringify(f)))}catch(f){console.error("Error refreshing profile:",f)}}};return r.jsx(As.Provider,{value:u,children:e})},Ze=()=>{const e=l.useContext(As);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},Es=l.createContext(void 0),pi={ru:{"nav.home":"Главная","nav.tests":"Тесты","nav.profile":"Профиль","nav.admin":"Админ","nav.logout":"Выйти","nav.login":"Войти","nav.register":"Регистрация","auth.login":"Вход в систему","auth.register":"Регистрация","auth.email":"Email","auth.password":"Пароль","auth.name":"Имя","auth.role":"Роль","auth.student":"Ученик","auth.teacher":"Учитель","auth.tutor":"Репетитор","auth.submit":"Подтвердить","auth.switchToLogin":"Уже есть аккаунт? Войти","auth.switchToRegister":"Нет аккаунта? Зарегистрироваться","auth.insufficientPermissions":"Недостаточно прав доступа","home.title":"Образовательная платформа","home.subtitle":"Изучайте, тестируйтесь, развивайтесь","home.startTesting":"Начать тестирование","home.features.title":"Возможности платформы","home.features.tests":"Интерактивные тесты","home.features.progress":"Отслеживание прогресса","home.features.ai":"ИИ-помощник","tests.title":"Тесты","tests.start":"Начать тест","tests.question":"Вопрос","tests.next":"Далее","tests.submit":"Отправить","tests.results":"Результаты","tests.score":"Результат","tests.correct":"Правильно","tests.incorrect":"Неправильно","tests.timeLeft":"Осталось времени","tests.practiceMode":"Режим практики","tests.timedMode":"Тест на время","tests.aiMode":"ИИ тест","tests.generateAI":"Создать ИИ тест","tests.showExplanations":"Показать объяснения","tests.hideExplanations":"Скрыть объяснения","tests.retakeTest":"Пройти еще раз","tests.explanation":"Объяснение","profile.title":"Профиль","profile.statistics":"Статистика","profile.testsCompleted":"Тестов завершено","profile.averageScore":"Средний балл","profile.progress":"Прогресс","profile.achievements":"Достижения","profile.rank":"Уровень","profile.streak":"Серия побед","profile.studyTime":"Время обучения","profile.recentTests":"Последние тесты","admin.title":"Панель администратора","admin.addQuestion":"Добавить вопрос","admin.questionText":"Текст вопроса","admin.answers":"Варианты ответов","admin.correctAnswer":"Правильный ответ","admin.save":"Сохранить","admin.questions":"Вопросы","admin.edit":"Редактировать","admin.delete":"Удалить","admin.subject":"Предмет","admin.difficulty":"Сложность","admin.totalQuestions":"Всего вопросов","admin.totalUsers":"Всего пользователей","admin.totalTests":"Всего тестов","ai.title":"ИИ Помощник","ai.placeholder":"Задайте вопрос или опишите, с чем нужна помощь...","ai.quickActions":"Быстрые действия","ai.explainTopic":"Объясни тему","ai.testPrep":"Подготовка к тесту","ai.askQuestion":"Задать вопрос","ai.studyTips":"Советы по учебе","ai.typing":"ИИ печатает...","ai.error":"Ошибка при обращении к ИИ","ai.features.explain":"Объяснение сложных тем","ai.features.testPrep":"Подготовка к тестам","ai.features.questions":"Ответы на вопросы","ai.features.tips":"Советы по обучению","common.loading":"Загрузка...","common.error":"Ошибка","common.success":"Успешно","common.cancel":"Отмена","common.confirm":"Подтвердить","common.language":"Язык","common.save":"Сохранить","common.delete":"Удалить","common.edit":"Редактировать","common.add":"Добавить","common.search":"Поиск","common.filter":"Фильтр","common.sort":"Сортировка","common.close":"Закрыть","common.open":"Открыть","common.show":"Показать","common.hide":"Скрыть"},kz:{"nav.home":"Басты бет","nav.tests":"Тесттер","nav.profile":"Профиль","nav.admin":"Админ","nav.logout":"Шығу","nav.login":"Кіру","nav.register":"Тіркелу","auth.login":"Жүйеге кіру","auth.register":"Тіркелу","auth.email":"Электрондық пошта","auth.password":"Құпия сөз","auth.name":"Аты","auth.role":"Рөлі","auth.student":"Оқушы","auth.teacher":"Мұғалім","auth.tutor":"Тәлімгер","auth.submit":"Растау","auth.switchToLogin":"Аккаунт бар ма? Кіру","auth.switchToRegister":"Аккаунт жоқ па? Тіркелу","auth.insufficientPermissions":"Қол жетімділік құқығы жеткіліксіз","home.title":"Білім беру платформасы","home.subtitle":"Үйреніңіз, тест тапсырыңыз, дамыңыз","home.startTesting":"Тестілеуді бастау","home.features.title":"Платформа мүмкіндіктері","home.features.tests":"Интерактивті тесттер","home.features.progress":"Прогресті бақылау","home.features.ai":"ИИ-көмекші","tests.title":"Тесттер","tests.start":"Тестті бастау","tests.question":"Сұрақ","tests.next":"Келесі","tests.submit":"Жіберу","tests.results":"Нәтижелер","tests.score":"Нәтиже","tests.correct":"Дұрыс","tests.incorrect":"Қате","tests.timeLeft":"Қалған уақыт","tests.practiceMode":"Практика режимі","tests.timedMode":"Уақытпен тест","tests.aiMode":"ИИ тест","tests.generateAI":"ИИ тест жасау","tests.showExplanations":"Түсініктемелерді көрсету","tests.hideExplanations":"Түсініктемелерді жасыру","tests.retakeTest":"Қайта тапсыру","tests.explanation":"Түсініктеме","profile.title":"Профиль","profile.statistics":"Статистика","profile.testsCompleted":"Аяқталған тесттер","profile.averageScore":"Орташа ұпай","profile.progress":"Прогресс","profile.achievements":"Жетістіктер","profile.rank":"Деңгей","profile.streak":"Жеңістер сериясы","profile.studyTime":"Оқу уақыты","profile.recentTests":"Соңғы тесттер","admin.title":"Әкімші панелі","admin.addQuestion":"Сұрақ қосу","admin.questionText":"Сұрақ мәтіні","admin.answers":"Жауап нұсқалары","admin.correctAnswer":"Дұрыс жауап","admin.save":"Сақтау","admin.questions":"Сұрақтар","admin.edit":"Өңдеу","admin.delete":"Жою","admin.subject":"Пән","admin.difficulty":"Қиындық","admin.totalQuestions":"Барлық сұрақтар","admin.totalUsers":"Барлық пайдаланушылар","admin.totalTests":"Барлық тесттер","ai.title":"ИИ Көмекші","ai.placeholder":"Сұрақ қойыңыз немесе көмек керек екенін айтыңыз...","ai.quickActions":"Жылдам әрекеттер","ai.explainTopic":"Тақырыпты түсіндіру","ai.testPrep":"Тестке дайындық","ai.askQuestion":"Сұрақ қою","ai.studyTips":"Оқу кеңестері","ai.typing":"ИИ жазуда...","ai.error":"ИИ-ға жүгінуде қате","ai.features.explain":"Күрделі тақырыптарды түсіндіру","ai.features.testPrep":"Тесттерге дайындық","ai.features.questions":"Сұрақтарға жауап","ai.features.tips":"Оқыту бойынша кеңестер","common.loading":"Жүктелуде...","common.error":"Қате","common.success":"Сәтті","common.cancel":"Болдырмау","common.confirm":"Растау","common.language":"Тіл","common.save":"Сақтау","common.delete":"Жою","common.edit":"Өңдеу","common.add":"Қосу","common.search":"Іздеу","common.filter":"Сүзгі","common.sort":"Сұрыптау","common.close":"Жабу","common.open":"Ашу","common.show":"Көрсету","common.hide":"Жасыру"}},gi=({children:e})=>{const[t,n]=l.useState(()=>localStorage.getItem("language")||"ru");l.useEffect(()=>{localStorage.setItem("language",t)},[t]);const s=o=>pi[t][o]||o;return r.jsx(Es.Provider,{value:{language:t,setLanguage:n,t:s},children:e})},$e=()=>{const e=l.useContext(Es);if(!e)throw new Error("useLanguage must be used within a LanguageProvider");return e};function Mn(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function _s(...e){return t=>{let n=!1;const s=e.map(o=>{const a=Mn(o,t);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let o=0;o<s.length;o++){const a=s[o];typeof a=="function"?a():Mn(e[o],null)}}}}function re(...e){return l.useCallback(_s(...e),e)}function bt(e){const t=xi(e),n=l.forwardRef((s,o)=>{const{children:a,...i}=s,c=l.Children.toArray(a),d=c.find(yi);if(d){const u=d.props.children,f=c.map(m=>m===d?l.Children.count(u)>1?l.Children.only(null):l.isValidElement(u)?u.props.children:null:m);return r.jsx(t,{...i,ref:o,children:l.isValidElement(u)?l.cloneElement(u,void 0,f):null})}return r.jsx(t,{...i,ref:o,children:a})});return n.displayName=`${e}.Slot`,n}var Ts=bt("Slot");function xi(e){const t=l.forwardRef((n,s)=>{const{children:o,...a}=n;if(l.isValidElement(o)){const i=wi(o),c=bi(a,o.props);return o.type!==l.Fragment&&(c.ref=s?_s(s,i):i),l.cloneElement(o,c)}return l.Children.count(o)>1?l.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var vi=Symbol("radix.slottable");function yi(e){return l.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===vi}function bi(e,t){const n={...t};for(const s in t){const o=e[s],a=t[s];/^on[A-Z]/.test(s)?o&&a?n[s]=(...c)=>{const d=a(...c);return o(...c),d}:o&&(n[s]=o):s==="style"?n[s]={...o,...a}:s==="className"&&(n[s]=[o,a].filter(Boolean).join(" "))}return{...e,...n}}function wi(e){var s,o;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}const In=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,On=xs,Ps=(e,t)=>n=>{var s;if((t==null?void 0:t.variants)==null)return On(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:o,defaultVariants:a}=t,i=Object.keys(o).map(u=>{const f=n==null?void 0:n[u],m=a==null?void 0:a[u];if(f===null)return null;const h=In(f)||In(m);return o[u][h]}),c=n&&Object.entries(n).reduce((u,f)=>{let[m,h]=f;return h===void 0||(u[m]=h),u},{}),d=t==null||(s=t.compoundVariants)===null||s===void 0?void 0:s.reduce((u,f)=>{let{class:m,className:h,...x}=f;return Object.entries(x).every(g=>{let[p,v]=g;return Array.isArray(v)?v.includes({...a,...c}[p]):{...a,...c}[p]===v})?[...u,m,h]:u},[]);return On(e,i,d,n==null?void 0:n.class,n==null?void 0:n.className)};function ji(){for(var e=0,t,n,s="";e<arguments.length;)(t=arguments[e++])&&(n=ks(t))&&(s&&(s+=" "),s+=n);return s}function ks(e){if(typeof e=="string")return e;for(var t,n="",s=0;s<e.length;s++)e[s]&&(t=ks(e[s]))&&(n&&(n+=" "),n+=t);return n}var en="-";function Si(e){var t=Ci(e),n=e.conflictingClassGroups,s=e.conflictingClassGroupModifiers,o=s===void 0?{}:s;function a(c){var d=c.split(en);return d[0]===""&&d.length!==1&&d.shift(),Rs(d,t)||Ni(c)}function i(c,d){var u=n[c]||[];return d&&o[c]?[].concat(u,o[c]):u}return{getClassGroupId:a,getConflictingClassGroupIds:i}}function Rs(e,t){var i;if(e.length===0)return t.classGroupId;var n=e[0],s=t.nextPart.get(n),o=s?Rs(e.slice(1),s):void 0;if(o)return o;if(t.validators.length!==0){var a=e.join(en);return(i=t.validators.find(function(c){var d=c.validator;return d(a)}))==null?void 0:i.classGroupId}}var Ln=/^\[(.+)\]$/;function Ni(e){if(Ln.test(e)){var t=Ln.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}}function Ci(e){var t=e.theme,n=e.prefix,s={nextPart:new Map,validators:[]},o=Ei(Object.entries(e.classGroups),n);return o.forEach(function(a){var i=a[0],c=a[1];Ir(c,s,i,t)}),s}function Ir(e,t,n,s){e.forEach(function(o){if(typeof o=="string"){var a=o===""?t:Dn(t,o);a.classGroupId=n;return}if(typeof o=="function"){if(Ai(o)){Ir(o(s),t,n,s);return}t.validators.push({validator:o,classGroupId:n});return}Object.entries(o).forEach(function(i){var c=i[0],d=i[1];Ir(d,Dn(t,c),n,s)})})}function Dn(e,t){var n=e;return t.split(en).forEach(function(s){n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n}function Ai(e){return e.isThemeGetter}function Ei(e,t){return t?e.map(function(n){var s=n[0],o=n[1],a=o.map(function(i){return typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(function(c){var d=c[0],u=c[1];return[t+d,u]})):i});return[s,a]}):e}function _i(e){if(e<1)return{get:function(){},set:function(){}};var t=0,n=new Map,s=new Map;function o(a,i){n.set(a,i),t++,t>e&&(t=0,s=n,n=new Map)}return{get:function(i){var c=n.get(i);if(c!==void 0)return c;if((c=s.get(i))!==void 0)return o(i,c),c},set:function(i,c){n.has(i)?n.set(i,c):o(i,c)}}}var Ms="!";function Ti(e){var t=e.separator||":",n=t.length===1,s=t[0],o=t.length;return function(i){for(var c=[],d=0,u=0,f,m=0;m<i.length;m++){var h=i[m];if(d===0){if(h===s&&(n||i.slice(m,m+o)===t)){c.push(i.slice(u,m)),u=m+o;continue}if(h==="/"){f=m;continue}}h==="["?d++:h==="]"&&d--}var x=c.length===0?i:i.substring(u),g=x.startsWith(Ms),p=g?x.substring(1):x,v=f&&f>u?f-u:void 0;return{modifiers:c,hasImportantModifier:g,baseClassName:p,maybePostfixModifierPosition:v}}}function Pi(e){if(e.length<=1)return e;var t=[],n=[];return e.forEach(function(s){var o=s[0]==="[";o?(t.push.apply(t,n.sort().concat([s])),n=[]):n.push(s)}),t.push.apply(t,n.sort()),t}function ki(e){return{cache:_i(e.cacheSize),splitModifiers:Ti(e),...Si(e)}}var Ri=/\s+/;function Mi(e,t){var n=t.splitModifiers,s=t.getClassGroupId,o=t.getConflictingClassGroupIds,a=new Set;return e.trim().split(Ri).map(function(i){var c=n(i),d=c.modifiers,u=c.hasImportantModifier,f=c.baseClassName,m=c.maybePostfixModifierPosition,h=s(m?f.substring(0,m):f),x=!!m;if(!h){if(!m)return{isTailwindClass:!1,originalClassName:i};if(h=s(f),!h)return{isTailwindClass:!1,originalClassName:i};x=!1}var g=Pi(d).join(":"),p=u?g+Ms:g;return{isTailwindClass:!0,modifierId:p,classGroupId:h,originalClassName:i,hasPostfixModifier:x}}).reverse().filter(function(i){if(!i.isTailwindClass)return!0;var c=i.modifierId,d=i.classGroupId,u=i.hasPostfixModifier,f=c+d;return a.has(f)?!1:(a.add(f),o(d,u).forEach(function(m){return a.add(c+m)}),!0)}).reverse().map(function(i){return i.originalClassName}).join(" ")}function Ii(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var s,o,a,i=c;function c(u){var f=t[0],m=t.slice(1),h=m.reduce(function(x,g){return g(x)},f());return s=ki(h),o=s.cache.get,a=s.cache.set,i=d,d(u)}function d(u){var f=o(u);if(f)return f;var m=Mi(u,s);return a(u,m),m}return function(){return i(ji.apply(null,arguments))}}function ne(e){var t=function(s){return s[e]||[]};return t.isThemeGetter=!0,t}var Is=/^\[(?:([a-z-]+):)?(.+)\]$/i,Oi=/^\d+\/\d+$/,Li=new Set(["px","full","screen"]),Di=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,$i=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,zi=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function Te(e){return st(e)||Li.has(e)||Oi.test(e)||Or(e)}function Or(e){return dt(e,"length",Hi)}function Bi(e){return dt(e,"size",Os)}function Fi(e){return dt(e,"position",Os)}function Wi(e){return dt(e,"url",qi)}function zt(e){return dt(e,"number",st)}function st(e){return!Number.isNaN(Number(e))}function Ui(e){return e.endsWith("%")&&st(e.slice(0,-1))}function _t(e){return $n(e)||dt(e,"number",$n)}function Q(e){return Is.test(e)}function Tt(){return!0}function qe(e){return Di.test(e)}function Vi(e){return dt(e,"",Qi)}function dt(e,t,n){var s=Is.exec(e);return s?s[1]?s[1]===t:n(s[2]):!1}function Hi(e){return $i.test(e)}function Os(){return!1}function qi(e){return e.startsWith("url(")}function $n(e){return Number.isInteger(Number(e))}function Qi(e){return zi.test(e)}function Gi(){var e=ne("colors"),t=ne("spacing"),n=ne("blur"),s=ne("brightness"),o=ne("borderColor"),a=ne("borderRadius"),i=ne("borderSpacing"),c=ne("borderWidth"),d=ne("contrast"),u=ne("grayscale"),f=ne("hueRotate"),m=ne("invert"),h=ne("gap"),x=ne("gradientColorStops"),g=ne("gradientColorStopPositions"),p=ne("inset"),v=ne("margin"),y=ne("opacity"),b=ne("padding"),w=ne("saturate"),S=ne("scale"),C=ne("sepia"),_=ne("skew"),A=ne("space"),R=ne("translate"),k=function(){return["auto","contain","none"]},j=function(){return["auto","hidden","clip","visible","scroll"]},E=function(){return["auto",Q,t]},N=function(){return[Q,t]},P=function(){return["",Te]},T=function(){return["auto",st,Q]},O=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},M=function(){return["solid","dashed","dotted","double","none"]},D=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},L=function(){return["start","end","center","between","around","evenly","stretch"]},V=function(){return["","0",Q]},ce=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},oe=function(){return[st,zt]},ve=function(){return[st,Q]};return{cacheSize:500,theme:{colors:[Tt],spacing:[Te],blur:["none","",qe,Q],brightness:oe(),borderColor:[e],borderRadius:["none","","full",qe,Q],borderSpacing:N(),borderWidth:P(),contrast:oe(),grayscale:V(),hueRotate:ve(),invert:V(),gap:N(),gradientColorStops:[e],gradientColorStopPositions:[Ui,Or],inset:E(),margin:E(),opacity:oe(),padding:N(),saturate:oe(),scale:oe(),sepia:V(),skew:ve(),space:N(),translate:N()},classGroups:{aspect:[{aspect:["auto","square","video",Q]}],container:["container"],columns:[{columns:[qe]}],"break-after":[{"break-after":ce()}],"break-before":[{"break-before":ce()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(O(),[Q])}],overflow:[{overflow:j()}],"overflow-x":[{"overflow-x":j()}],"overflow-y":[{"overflow-y":j()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",_t]}],basis:[{basis:E()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Q]}],grow:[{grow:V()}],shrink:[{shrink:V()}],order:[{order:["first","last","none",_t]}],"grid-cols":[{"grid-cols":[Tt]}],"col-start-end":[{col:["auto",{span:["full",_t]},Q]}],"col-start":[{"col-start":T()}],"col-end":[{"col-end":T()}],"grid-rows":[{"grid-rows":[Tt]}],"row-start-end":[{row:["auto",{span:[_t]},Q]}],"row-start":[{"row-start":T()}],"row-end":[{"row-end":T()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Q]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Q]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal"].concat(L())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(L(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(L(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[A]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[A]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",Q,t]}],"min-w":[{"min-w":["min","max","fit",Q,Te]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[qe]},qe,Q]}],h:[{h:[Q,t,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",Q,Te]}],"max-h":[{"max-h":[Q,t,"min","max","fit"]}],"font-size":[{text:["base",qe,Or]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",zt]}],"font-family":[{font:[Tt]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Q]}],"line-clamp":[{"line-clamp":["none",st,zt]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Q,Te]}],"list-image":[{"list-image":["none",Q]}],"list-style-type":[{list:["none","disc","decimal",Q]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(M(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",Te]}],"underline-offset":[{"underline-offset":["auto",Q,Te]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:N()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Q]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Q]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(O(),[Fi])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Bi]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Wi]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[x]}],"gradient-via":[{via:[x]}],"gradient-to":[{to:[x]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[c]}],"border-w-x":[{"border-x":[c]}],"border-w-y":[{"border-y":[c]}],"border-w-s":[{"border-s":[c]}],"border-w-e":[{"border-e":[c]}],"border-w-t":[{"border-t":[c]}],"border-w-r":[{"border-r":[c]}],"border-w-b":[{"border-b":[c]}],"border-w-l":[{"border-l":[c]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[].concat(M(),["hidden"])}],"divide-x":[{"divide-x":[c]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[c]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:M()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:[""].concat(M())}],"outline-offset":[{"outline-offset":[Q,Te]}],"outline-w":[{outline:[Te]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:P()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[Te]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",qe,Vi]}],"shadow-color":[{shadow:[Tt]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":D()}],"bg-blend":[{"bg-blend":D()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[s]}],contrast:[{contrast:[d]}],"drop-shadow":[{"drop-shadow":["","none",qe,Q]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[m]}],saturate:[{saturate:[w]}],sepia:[{sepia:[C]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[d]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[m]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[C]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Q]}],duration:[{duration:ve()}],ease:[{ease:["linear","in","out","in-out",Q]}],delay:[{delay:ve()}],animate:[{animate:["none","spin","ping","pulse","bounce",Q]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[_t,Q]}],"translate-x":[{"translate-x":[R]}],"translate-y":[{"translate-y":[R]}],"skew-x":[{"skew-x":[_]}],"skew-y":[{"skew-y":[_]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Q]}],accent:[{accent:["auto",e]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Q]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":N()}],"scroll-mx":[{"scroll-mx":N()}],"scroll-my":[{"scroll-my":N()}],"scroll-ms":[{"scroll-ms":N()}],"scroll-me":[{"scroll-me":N()}],"scroll-mt":[{"scroll-mt":N()}],"scroll-mr":[{"scroll-mr":N()}],"scroll-mb":[{"scroll-mb":N()}],"scroll-ml":[{"scroll-ml":N()}],"scroll-p":[{"scroll-p":N()}],"scroll-px":[{"scroll-px":N()}],"scroll-py":[{"scroll-py":N()}],"scroll-ps":[{"scroll-ps":N()}],"scroll-pe":[{"scroll-pe":N()}],"scroll-pt":[{"scroll-pt":N()}],"scroll-pr":[{"scroll-pr":N()}],"scroll-pb":[{"scroll-pb":N()}],"scroll-pl":[{"scroll-pl":N()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Q]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Te,zt]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var Yi=Ii(Gi);function se(...e){return Yi(xs(e))}const Ki=Ps("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"relative text-white bg-gradient-to-r from-cyan-500 via-blue-500 to-fuchsia-500 hover:from-cyan-400 hover:via-sky-500 hover:to-fuchsia-400 shadow-[inset_0_0_0_1px_rgba(255,255,255,0.08),0_8px_20px_-6px_rgba(14,165,233,0.55),0_6px_16px_-8px_rgba(168,85,247,0.45)]",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background/70 text-foreground hover:bg-accent/10 hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent/10 hover:text-accent-foreground dark:hover:bg-accent/20",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}}),z=l.forwardRef(({className:e,variant:t,size:n,asChild:s=!1,...o},a)=>{const i=s?Ts:"button";return r.jsx(i,{className:se(Ki({variant:t,size:n,className:e})),ref:a,"data-slot":"button",...o})});z.displayName="Button";const Xi=({currentPage:e,setCurrentPage:t})=>{const{user:n,logout:s}=Ze(),{language:o,setLanguage:a,t:i}=$e(),c=async()=>{try{await s(),t("home")}catch(u){console.error("Logout failed:",u)}},d=()=>{a(o==="ru"?"kz":"ru")};return r.jsx("header",{className:"sticky top-0 z-50 bg-white/95 backdrop-blur border-b border-gray-200 dark:bg-slate-900/95 dark:border-slate-800",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"flex justify-between items-center h-16",children:[r.jsxs("div",{className:"flex items-center gap-2 cursor-pointer",onClick:()=>t("home"),children:[r.jsx(ot,{className:"h-6 w-6 text-blue-600"}),r.jsx("span",{className:"text-lg font-semibold",children:"EduPlatform"})]}),r.jsx("nav",{className:"hidden md:flex items-center gap-2",children:r.jsx("div",{className:"rounded-full border bg-white text-gray-800 px-3 py-1 text-sm shadow-sm",children:"Главная"})}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs(z,{variant:"ghost",size:"sm",onClick:d,className:"flex items-center gap-2",children:[r.jsx(vs,{className:"h-4 w-4 text-blue-600"}),r.jsx("span",{className:"text-sm font-medium",children:o==="ru"?"РУС":"ҚАЗ"})]}),n?r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:n==null?void 0:n.name}),r.jsxs(z,{variant:"outline",size:"sm",onClick:c,className:"flex items-center gap-2",children:[r.jsx(Fa,{className:"h-4 w-4"}),r.jsx("span",{children:i("nav.logout")})]})]}):r.jsx(z,{onClick:()=>t("auth"),variant:"ghost",className:"bg-black text-white hover:bg-black/90",children:"Войти"})]})]})})})};function F({className:e,...t}){return r.jsx("div",{"data-slot":"card",className:se("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",e),...t})}function G({className:e,...t}){return r.jsx("div",{"data-slot":"card-header",className:se("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t})}function Y({className:e,...t}){return r.jsx("h4",{"data-slot":"card-title",className:se("leading-none",e),...t})}function W({className:e,...t}){return r.jsx("div",{"data-slot":"card-content",className:se("px-6 [&:last-child]:pb-6",e),...t})}const Ji=Ps("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}}),ge=l.forwardRef(({className:e,variant:t,asChild:n=!1,...s},o)=>{const a=n?Ts:"span";return r.jsx(a,{className:se(Ji({variant:t}),e),ref:o,"data-slot":"badge",...s})});ge.displayName="Badge";function Zi(e,t){const n=l.createContext(t),s=a=>{const{children:i,...c}=a,d=l.useMemo(()=>c,Object.values(c));return r.jsx(n.Provider,{value:d,children:i})};s.displayName=e+"Provider";function o(a){const i=l.useContext(n);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[s,o]}function ut(e,t=[]){let n=[];function s(a,i){const c=l.createContext(i),d=n.length;n=[...n,i];const u=m=>{var y;const{scope:h,children:x,...g}=m,p=((y=h==null?void 0:h[e])==null?void 0:y[d])||c,v=l.useMemo(()=>g,Object.values(g));return r.jsx(p.Provider,{value:v,children:x})};u.displayName=a+"Provider";function f(m,h){var p;const x=((p=h==null?void 0:h[e])==null?void 0:p[d])||c,g=l.useContext(x);if(g)return g;if(i!==void 0)return i;throw new Error(`\`${m}\` must be used within \`${a}\``)}return[u,f]}const o=()=>{const a=n.map(i=>l.createContext(i));return function(c){const d=(c==null?void 0:c[e])||a;return l.useMemo(()=>({[`__scope${e}`]:{...c,[e]:d}}),[c,d])}};return o.scopeName=e,[s,ec(o,...t)]}function ec(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const s=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(a){const i=s.reduce((c,{useScope:d,scopeName:u})=>{const m=d(a)[`__scope${u}`];return{...c,...m}},{});return l.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}var tc=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],H=tc.reduce((e,t)=>{const n=bt(`Primitive.${t}`),s=l.forwardRef((o,a)=>{const{asChild:i,...c}=o,d=i?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(d,{...c,ref:a})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{});function rc(e,t){e&&Ot.flushSync(()=>e.dispatchEvent(t))}var tn="Progress",rn=100,[nc,lm]=ut(tn),[sc,oc]=nc(tn),Ls=l.forwardRef((e,t)=>{const{__scopeProgress:n,value:s=null,max:o,getValueLabel:a=ac,...i}=e;(o||o===0)&&!zn(o)&&console.error(ic(`${o}`,"Progress"));const c=zn(o)?o:rn;s!==null&&!Bn(s,c)&&console.error(cc(`${s}`,"Progress"));const d=Bn(s,c)?s:null,u=Xt(d)?a(d,c):void 0;return r.jsx(sc,{scope:n,value:d,max:c,children:r.jsx(H.div,{"aria-valuemax":c,"aria-valuemin":0,"aria-valuenow":Xt(d)?d:void 0,"aria-valuetext":u,role:"progressbar","data-state":zs(d,c),"data-value":d??void 0,"data-max":c,...i,ref:t})})});Ls.displayName=tn;var Ds="ProgressIndicator",$s=l.forwardRef((e,t)=>{const{__scopeProgress:n,...s}=e,o=oc(Ds,n);return r.jsx(H.div,{"data-state":zs(o.value,o.max),"data-value":o.value??void 0,"data-max":o.max,...s,ref:t})});$s.displayName=Ds;function ac(e,t){return`${Math.round(e/t*100)}%`}function zs(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Xt(e){return typeof e=="number"}function zn(e){return Xt(e)&&!isNaN(e)&&e>0}function Bn(e,t){return Xt(e)&&!isNaN(e)&&e<=t&&e>=0}function ic(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${rn}\`.`}function cc(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${rn} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Bs=Ls,lc=$s;const Ke=l.forwardRef(({className:e,value:t,...n},s)=>r.jsx(Bs,{ref:s,"data-slot":"progress",className:se("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",e),...n,children:r.jsx(lc,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));Ke.displayName=Bs.displayName;const je=l.forwardRef(({className:e,type:t,...n},s)=>r.jsx("input",{type:t,className:se("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),ref:s,"data-slot":"input",...n}));je.displayName="Input";var fe=globalThis!=null&&globalThis.document?l.useLayoutEffect:()=>{};function dc(e,t){return l.useReducer((n,s)=>t[n][s]??n,e)}var et=e=>{const{present:t,children:n}=e,s=uc(t),o=typeof n=="function"?n({present:s.isPresent}):l.Children.only(n),a=re(s.ref,fc(o));return typeof n=="function"||s.isPresent?l.cloneElement(o,{ref:a}):null};et.displayName="Presence";function uc(e){const[t,n]=l.useState(),s=l.useRef(null),o=l.useRef(e),a=l.useRef("none"),i=e?"mounted":"unmounted",[c,d]=dc(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return l.useEffect(()=>{const u=Bt(s.current);a.current=c==="mounted"?u:"none"},[c]),fe(()=>{const u=s.current,f=o.current;if(f!==e){const h=a.current,x=Bt(u);e?d("MOUNT"):x==="none"||(u==null?void 0:u.display)==="none"?d("UNMOUNT"):d(f&&h!==x?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,d]),fe(()=>{if(t){let u;const f=t.ownerDocument.defaultView??window,m=x=>{const p=Bt(s.current).includes(x.animationName);if(x.target===t&&p&&(d("ANIMATION_END"),!o.current)){const v=t.style.animationFillMode;t.style.animationFillMode="forwards",u=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=v)})}},h=x=>{x.target===t&&(a.current=Bt(s.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",m),t.addEventListener("animationend",m),()=>{f.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",m),t.removeEventListener("animationend",m)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:l.useCallback(u=>{s.current=u?getComputedStyle(u):null,n(u)},[])}}function Bt(e){return(e==null?void 0:e.animationName)||"none"}function fc(e){var s,o;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function xe(e){const t=l.useRef(e);return l.useEffect(()=>{t.current=e}),l.useMemo(()=>(...n)=>{var s;return(s=t.current)==null?void 0:s.call(t,...n)},[])}var mc=l.createContext(void 0);function Fs(e){const t=l.useContext(mc);return e||t||"ltr"}function Lr(e,[t,n]){return Math.min(n,Math.max(t,e))}function X(e,t,{checkForDefaultPrevented:n=!0}={}){return function(o){if(e==null||e(o),n===!1||!o.defaultPrevented)return t==null?void 0:t(o)}}function hc(e,t){return l.useReducer((n,s)=>t[n][s]??n,e)}var nn="ScrollArea",[Ws,dm]=ut(nn),[pc,Ee]=Ws(nn),Us=l.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:s="hover",dir:o,scrollHideDelay:a=600,...i}=e,[c,d]=l.useState(null),[u,f]=l.useState(null),[m,h]=l.useState(null),[x,g]=l.useState(null),[p,v]=l.useState(null),[y,b]=l.useState(0),[w,S]=l.useState(0),[C,_]=l.useState(!1),[A,R]=l.useState(!1),k=re(t,E=>d(E)),j=Fs(o);return r.jsx(pc,{scope:n,type:s,dir:j,scrollHideDelay:a,scrollArea:c,viewport:u,onViewportChange:f,content:m,onContentChange:h,scrollbarX:x,onScrollbarXChange:g,scrollbarXEnabled:C,onScrollbarXEnabledChange:_,scrollbarY:p,onScrollbarYChange:v,scrollbarYEnabled:A,onScrollbarYEnabledChange:R,onCornerWidthChange:b,onCornerHeightChange:S,children:r.jsx(H.div,{dir:j,...i,ref:k,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":w+"px",...e.style}})})});Us.displayName=nn;var Vs="ScrollAreaViewport",Hs=l.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:s,nonce:o,...a}=e,i=Ee(Vs,n),c=l.useRef(null),d=re(t,c,i.onViewportChange);return r.jsxs(r.Fragment,{children:[r.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),r.jsx(H.div,{"data-radix-scroll-area-viewport":"",...a,ref:d,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...e.style},children:r.jsx("div",{ref:i.onContentChange,style:{minWidth:"100%",display:"table"},children:s})})]})});Hs.displayName=Vs;var Be="ScrollAreaScrollbar",sn=l.forwardRef((e,t)=>{const{forceMount:n,...s}=e,o=Ee(Be,e.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:i}=o,c=e.orientation==="horizontal";return l.useEffect(()=>(c?a(!0):i(!0),()=>{c?a(!1):i(!1)}),[c,a,i]),o.type==="hover"?r.jsx(gc,{...s,ref:t,forceMount:n}):o.type==="scroll"?r.jsx(xc,{...s,ref:t,forceMount:n}):o.type==="auto"?r.jsx(qs,{...s,ref:t,forceMount:n}):o.type==="always"?r.jsx(on,{...s,ref:t}):null});sn.displayName=Be;var gc=l.forwardRef((e,t)=>{const{forceMount:n,...s}=e,o=Ee(Be,e.__scopeScrollArea),[a,i]=l.useState(!1);return l.useEffect(()=>{const c=o.scrollArea;let d=0;if(c){const u=()=>{window.clearTimeout(d),i(!0)},f=()=>{d=window.setTimeout(()=>i(!1),o.scrollHideDelay)};return c.addEventListener("pointerenter",u),c.addEventListener("pointerleave",f),()=>{window.clearTimeout(d),c.removeEventListener("pointerenter",u),c.removeEventListener("pointerleave",f)}}},[o.scrollArea,o.scrollHideDelay]),r.jsx(et,{present:n||a,children:r.jsx(qs,{"data-state":a?"visible":"hidden",...s,ref:t})})}),xc=l.forwardRef((e,t)=>{const{forceMount:n,...s}=e,o=Ee(Be,e.__scopeScrollArea),a=e.orientation==="horizontal",i=cr(()=>d("SCROLL_END"),100),[c,d]=hc("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return l.useEffect(()=>{if(c==="idle"){const u=window.setTimeout(()=>d("HIDE"),o.scrollHideDelay);return()=>window.clearTimeout(u)}},[c,o.scrollHideDelay,d]),l.useEffect(()=>{const u=o.viewport,f=a?"scrollLeft":"scrollTop";if(u){let m=u[f];const h=()=>{const x=u[f];m!==x&&(d("SCROLL"),i()),m=x};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[o.viewport,a,d,i]),r.jsx(et,{present:n||c!=="hidden",children:r.jsx(on,{"data-state":c==="hidden"?"hidden":"visible",...s,ref:t,onPointerEnter:X(e.onPointerEnter,()=>d("POINTER_ENTER")),onPointerLeave:X(e.onPointerLeave,()=>d("POINTER_LEAVE"))})})}),qs=l.forwardRef((e,t)=>{const n=Ee(Be,e.__scopeScrollArea),{forceMount:s,...o}=e,[a,i]=l.useState(!1),c=e.orientation==="horizontal",d=cr(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,f=n.viewport.offsetHeight<n.viewport.scrollHeight;i(c?u:f)}},10);return wt(n.viewport,d),wt(n.content,d),r.jsx(et,{present:s||a,children:r.jsx(on,{"data-state":a?"visible":"hidden",...o,ref:t})})}),on=l.forwardRef((e,t)=>{const{orientation:n="vertical",...s}=e,o=Ee(Be,e.__scopeScrollArea),a=l.useRef(null),i=l.useRef(0),[c,d]=l.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=Xs(c.viewport,c.content),f={...s,sizes:c,onSizesChange:d,hasThumb:u>0&&u<1,onThumbChange:h=>a.current=h,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:h=>i.current=h};function m(h,x){return Sc(h,i.current,c,x)}return n==="horizontal"?r.jsx(vc,{...f,ref:t,onThumbPositionChange:()=>{if(o.viewport&&a.current){const h=o.viewport.scrollLeft,x=Fn(h,c,o.dir);a.current.style.transform=`translate3d(${x}px, 0, 0)`}},onWheelScroll:h=>{o.viewport&&(o.viewport.scrollLeft=h)},onDragScroll:h=>{o.viewport&&(o.viewport.scrollLeft=m(h,o.dir))}}):n==="vertical"?r.jsx(yc,{...f,ref:t,onThumbPositionChange:()=>{if(o.viewport&&a.current){const h=o.viewport.scrollTop,x=Fn(h,c);a.current.style.transform=`translate3d(0, ${x}px, 0)`}},onWheelScroll:h=>{o.viewport&&(o.viewport.scrollTop=h)},onDragScroll:h=>{o.viewport&&(o.viewport.scrollTop=m(h))}}):null}),vc=l.forwardRef((e,t)=>{const{sizes:n,onSizesChange:s,...o}=e,a=Ee(Be,e.__scopeScrollArea),[i,c]=l.useState(),d=l.useRef(null),u=re(t,d,a.onScrollbarXChange);return l.useEffect(()=>{d.current&&c(getComputedStyle(d.current))},[d]),r.jsx(Gs,{"data-orientation":"horizontal",...o,ref:u,sizes:n,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":ir(n)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.x),onDragScroll:f=>e.onDragScroll(f.x),onWheelScroll:(f,m)=>{if(a.viewport){const h=a.viewport.scrollLeft+f.deltaX;e.onWheelScroll(h),Zs(h,m)&&f.preventDefault()}},onResize:()=>{d.current&&a.viewport&&i&&s({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:d.current.clientWidth,paddingStart:Zt(i.paddingLeft),paddingEnd:Zt(i.paddingRight)}})}})}),yc=l.forwardRef((e,t)=>{const{sizes:n,onSizesChange:s,...o}=e,a=Ee(Be,e.__scopeScrollArea),[i,c]=l.useState(),d=l.useRef(null),u=re(t,d,a.onScrollbarYChange);return l.useEffect(()=>{d.current&&c(getComputedStyle(d.current))},[d]),r.jsx(Gs,{"data-orientation":"vertical",...o,ref:u,sizes:n,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":ir(n)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.y),onDragScroll:f=>e.onDragScroll(f.y),onWheelScroll:(f,m)=>{if(a.viewport){const h=a.viewport.scrollTop+f.deltaY;e.onWheelScroll(h),Zs(h,m)&&f.preventDefault()}},onResize:()=>{d.current&&a.viewport&&i&&s({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:d.current.clientHeight,paddingStart:Zt(i.paddingTop),paddingEnd:Zt(i.paddingBottom)}})}})}),[bc,Qs]=Ws(Be),Gs=l.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:s,hasThumb:o,onThumbChange:a,onThumbPointerUp:i,onThumbPointerDown:c,onThumbPositionChange:d,onDragScroll:u,onWheelScroll:f,onResize:m,...h}=e,x=Ee(Be,n),[g,p]=l.useState(null),v=re(t,k=>p(k)),y=l.useRef(null),b=l.useRef(""),w=x.viewport,S=s.content-s.viewport,C=xe(f),_=xe(d),A=cr(m,10);function R(k){if(y.current){const j=k.clientX-y.current.left,E=k.clientY-y.current.top;u({x:j,y:E})}}return l.useEffect(()=>{const k=j=>{const E=j.target;(g==null?void 0:g.contains(E))&&C(j,S)};return document.addEventListener("wheel",k,{passive:!1}),()=>document.removeEventListener("wheel",k,{passive:!1})},[w,g,S,C]),l.useEffect(_,[s,_]),wt(g,A),wt(x.content,A),r.jsx(bc,{scope:n,scrollbar:g,hasThumb:o,onThumbChange:xe(a),onThumbPointerUp:xe(i),onThumbPositionChange:_,onThumbPointerDown:xe(c),children:r.jsx(H.div,{...h,ref:v,style:{position:"absolute",...h.style},onPointerDown:X(e.onPointerDown,k=>{k.button===0&&(k.target.setPointerCapture(k.pointerId),y.current=g.getBoundingClientRect(),b.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",x.viewport&&(x.viewport.style.scrollBehavior="auto"),R(k))}),onPointerMove:X(e.onPointerMove,R),onPointerUp:X(e.onPointerUp,k=>{const j=k.target;j.hasPointerCapture(k.pointerId)&&j.releasePointerCapture(k.pointerId),document.body.style.webkitUserSelect=b.current,x.viewport&&(x.viewport.style.scrollBehavior=""),y.current=null})})})}),Jt="ScrollAreaThumb",Ys=l.forwardRef((e,t)=>{const{forceMount:n,...s}=e,o=Qs(Jt,e.__scopeScrollArea);return r.jsx(et,{present:n||o.hasThumb,children:r.jsx(wc,{ref:t,...s})})}),wc=l.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:s,...o}=e,a=Ee(Jt,n),i=Qs(Jt,n),{onThumbPositionChange:c}=i,d=re(t,m=>i.onThumbChange(m)),u=l.useRef(void 0),f=cr(()=>{u.current&&(u.current(),u.current=void 0)},100);return l.useEffect(()=>{const m=a.viewport;if(m){const h=()=>{if(f(),!u.current){const x=Nc(m,c);u.current=x,c()}};return c(),m.addEventListener("scroll",h),()=>m.removeEventListener("scroll",h)}},[a.viewport,f,c]),r.jsx(H.div,{"data-state":i.hasThumb?"visible":"hidden",...o,ref:d,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...s},onPointerDownCapture:X(e.onPointerDownCapture,m=>{const x=m.target.getBoundingClientRect(),g=m.clientX-x.left,p=m.clientY-x.top;i.onThumbPointerDown({x:g,y:p})}),onPointerUp:X(e.onPointerUp,i.onThumbPointerUp)})});Ys.displayName=Jt;var an="ScrollAreaCorner",Ks=l.forwardRef((e,t)=>{const n=Ee(an,e.__scopeScrollArea),s=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&s?r.jsx(jc,{...e,ref:t}):null});Ks.displayName=an;var jc=l.forwardRef((e,t)=>{const{__scopeScrollArea:n,...s}=e,o=Ee(an,n),[a,i]=l.useState(0),[c,d]=l.useState(0),u=!!(a&&c);return wt(o.scrollbarX,()=>{var m;const f=((m=o.scrollbarX)==null?void 0:m.offsetHeight)||0;o.onCornerHeightChange(f),d(f)}),wt(o.scrollbarY,()=>{var m;const f=((m=o.scrollbarY)==null?void 0:m.offsetWidth)||0;o.onCornerWidthChange(f),i(f)}),u?r.jsx(H.div,{...s,ref:t,style:{width:a,height:c,position:"absolute",right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Zt(e){return e?parseInt(e,10):0}function Xs(e,t){const n=e/t;return isNaN(n)?0:n}function ir(e){const t=Xs(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=(e.scrollbar.size-n)*t;return Math.max(s,18)}function Sc(e,t,n,s="ltr"){const o=ir(n),a=o/2,i=t||a,c=o-i,d=n.scrollbar.paddingStart+i,u=n.scrollbar.size-n.scrollbar.paddingEnd-c,f=n.content-n.viewport,m=s==="ltr"?[0,f]:[f*-1,0];return Js([d,u],m)(e)}function Fn(e,t,n="ltr"){const s=ir(t),o=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-o,i=t.content-t.viewport,c=a-s,d=n==="ltr"?[0,i]:[i*-1,0],u=Lr(e,d);return Js([0,i],[0,c])(u)}function Js(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const s=(t[1]-t[0])/(e[1]-e[0]);return t[0]+s*(n-e[0])}}function Zs(e,t){return e>0&&e<t}var Nc=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},s=0;return function o(){const a={left:e.scrollLeft,top:e.scrollTop},i=n.left!==a.left,c=n.top!==a.top;(i||c)&&t(),n=a,s=window.requestAnimationFrame(o)}(),()=>window.cancelAnimationFrame(s)};function cr(e,t){const n=xe(e),s=l.useRef(0);return l.useEffect(()=>()=>window.clearTimeout(s.current),[]),l.useCallback(()=>{window.clearTimeout(s.current),s.current=window.setTimeout(n,t)},[n,t])}function wt(e,t){const n=xe(t);fe(()=>{let s=0;if(e){const o=new ResizeObserver(()=>{cancelAnimationFrame(s),s=window.requestAnimationFrame(n)});return o.observe(e),()=>{window.cancelAnimationFrame(s),o.unobserve(e)}}},[e,n])}var eo=Us,Cc=Hs,Ac=Ks;const to=l.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(eo,{ref:s,"data-slot":"scroll-area",className:se("relative",e),...n,children:[r.jsx(Cc,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1","data-radix-scroll-area-viewport":"",children:t}),r.jsx(ro,{}),r.jsx(Ac,{})]}));to.displayName=eo.displayName;const ro=l.forwardRef(({className:e,orientation:t="vertical",...n},s)=>r.jsx(sn,{ref:s,"data-slot":"scroll-area-scrollbar",orientation:t,className:se("flex touch-none p-px transition-colors select-none",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",e),...n,children:r.jsx(Ys,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})}));ro.displayName=sn.displayName;const Ec=()=>{const{user:e}=Ze();$e();const[t,n]=l.useState([{id:"1",content:"Привет! Я ваш умный помощник по образованию. Могу помочь с объяснением сложных тем, подготовкой к тестам или ответить на любые учебные вопросы. Что вас интересует?",sender:"ai",timestamp:new Date,isDemo:!0}]),[s,o]=l.useState(""),[a,i]=l.useState(!1),[c]=l.useState([{id:"explain",text:"Объясни тему",icon:ot},{id:"test-prep",text:"Подготовка к тесту",icon:gt},{id:"question",text:"Задать вопрос",icon:En},{id:"tips",text:"Советы по учебе",icon:_n}]),d=l.useRef(null);l.useEffect(()=>{if(d.current){const g=d.current.querySelector("[data-radix-scroll-area-viewport]");g&&(g.scrollTop=g.scrollHeight)}},[t]);const u=async(g,p)=>{var y;if(!g.trim())return;const v={id:Date.now().toString(),content:g,sender:"user",timestamp:new Date,context:p};n(b=>[...b,v]),o(""),i(!0);try{let b=e?`
        Пользователь: ${e.name} (${e.role})
        Тестов пройдено: ${e.tests_completed||0}
        Средний балл: ${e.average_score||0}%
        Время изучения: ${e.total_study_time||0} минут
        ${p?`Дополнительный контекст: ${p}`:""}
      `:p||"";if(/анализ|результ|итог|сильн|слаб|домаш|талдау|нәтиже|қорытынды|тақырып/i.test(g))try{const R=await be.getResults();if(R&&R.length>0){const k=R.sort((oe,ve)=>new Date(ve.completed_at).getTime()-new Date(oe.completed_at).getTime())[0],j=Array.isArray(k.answers)?k.answers.length:0,E=Array.isArray(k.answers)?k.answers.filter(oe=>oe.correct).length:Math.round(k.score/100*j),N=Math.round(k.score),P=((y=k.test_id)==null?void 0:y.replace("test-",""))||"overall",T=[],O=[];N>=85&&T.push("Высокая точность ответов и уверенное владение основами"),N>=70&&N<85&&T.push("Хорошая базовая подготовка, требуется точечное улучшение"),N<70&&O.push("Недостаточное закрепление базовых тем, нужна системная практика"),j-E>0&&O.push("Ошибки в вопросах средней/высокой сложности");const M={mathematics:{ru:["Линейные уравнения","Проценты и доли","Дроби и сравнение чисел"],kz:["Сызықтық теңдеулер","Пайыздар мен үлестер","Бөлшектер және сандарды салыстыру"]},history:{ru:["История Казахстана XIX века","Реформы и даты"],kz:["XIX ғасырдағы Қазақстан тарихы","Реформалар мен даталар"]},physics:{ru:["Динамика: второй закон Ньютона","Единицы СИ и размерности"],kz:["Динамика: Ньютонның екінші заңы","SI бірліктері және өлшемдер"]},overall:{ru:["Повторение базовой теории","Разбор типичных ошибок"],kz:["Негізгі теорияны қайталау","Жиі кездесетін қателерді талдау"]}},D=/[әғқңөұүһі]|(сәлем|қалай|ия|жоқ|үй|тапсырма|талдау)/i.test(g),L=(M[P]||M.overall)[D?"kz":"ru"],V=D?["Осы тақырып бойынша 20 тапсырма орындаңыз","Қателескен сұрақтарды қайта қарап шығыңыз","Қысқаша конспект жасаңыз (5–7 тармақ)"]:["Выполните 20 заданий по теме","Пересмотрите вопросы, где были ошибки","Составьте краткий конспект (5–7 пунктов)"],ce={subject:P,percentage:N,correct:E,total:j,timeSpent:k.time_spent,strengths:T,weaknesses:O,topics:L,homework:V};b+=`
ANALYZE_TEST_RESULTS: ${JSON.stringify(ce)}`}}catch{}const S=/[әғқңөұүһі]|(сәлем|қалай|ия|жоқ|үй|тапсырма|талдау)/i.test(g)?"kz":"ru",C="Режим ассистента: помогай кратко, структурировано, по шагам; используй язык пользователя (ru/kz). Если просят анализ теста — дай сильные/слабые стороны и план. Если просят задачи ЕНТ — предлагай аналогичные примеры.",_=await be.chatWithAI(`${C}

${g}`,b,S),A={id:(Date.now()+1).toString(),content:_.response,sender:"ai",timestamp:new Date,isDemo:_.isDemo};n(R=>[...R,A])}catch(b){console.error("AI chat error:",b);const w={id:(Date.now()+1).toString(),content:"Извините, произошла ошибка при обработке вашего запроса. Попробуйте еще раз или обратитесь к преподавателю.",sender:"ai",timestamp:new Date,isDemo:!0};n(S=>[...S,w]),Z.error("Ошибка ИИ помощника")}finally{i(!1)}},f=g=>{g.preventDefault(),u(s)},m=g=>["explain","test-prep","question","tips"].includes(g),h=g=>{if(!m(g))return;const v={explain:"Объясни мне сложную тему простыми словами, приведи 1-2 примера и мини-план практики","test-prep":"Составь персональный план подготовки к ЕНТ по математике/физике на 2 недели (коротко)",question:"У меня есть вопрос по учебе: ",tips:"Дай 5 кратких советов для эффективного обучения с примерами"}[g];v&&u(v,`quick_action:${g}`)},x=g=>g.toLocaleTimeString("ru-RU",{hour:"2-digit",minute:"2-digit"});return r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsxs(F,{className:"h-[600px] flex flex-col shadow-lg border-0",children:[r.jsx(G,{className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-t-lg",children:r.jsxs(Y,{className:"flex items-center gap-2",children:[r.jsx(yr,{className:"h-6 w-6"}),"ИИ Помощник по обучению",r.jsx(ge,{variant:"secondary",className:"ml-auto bg-white/20 text-white border-white/30",children:e?`Для ${e.name}`:"Образовательный помощник"})]})}),r.jsxs(W,{className:"flex-1 flex flex-col p-0",children:[r.jsx(to,{ref:d,className:"flex-1 p-4",children:r.jsxs("div",{className:"space-y-4",children:[t.map(g=>r.jsxs("div",{className:`flex items-start gap-3 ${g.sender==="user"?"flex-row-reverse":""}`,children:[r.jsx("div",{className:`flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center ${g.sender==="user"?"bg-gradient-to-r from-blue-500 to-purple-600 text-white":"bg-gradient-to-r from-gray-200 to-gray-300 text-gray-700"}`,children:g.sender==="user"?r.jsx(ys,{className:"h-4 w-4"}):r.jsx(yr,{className:"h-4 w-4"})}),r.jsxs("div",{className:`flex-1 max-w-[80%] ${g.sender==="user"?"text-right":""}`,children:[r.jsxs("div",{className:`rounded-lg p-3 shadow-sm ${g.sender==="user"?"bg-gradient-to-r from-blue-500 to-purple-600 text-white":"bg-gray-50 text-gray-900 border border-gray-200"}`,children:[r.jsx("p",{className:"whitespace-pre-wrap leading-relaxed",children:g.content}),g.isDemo&&g.sender==="ai"&&r.jsx("div",{className:"mt-2 pt-2 border-t border-gray-300 opacity-70",children:r.jsx("span",{className:"text-xs",children:"Демо-режим"})})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:x(g.timestamp)})]})]},g.id)),a&&r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-gradient-to-r from-gray-200 to-gray-300 text-gray-700 flex items-center justify-center",children:r.jsx(yr,{className:"h-4 w-4"})}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 flex items-center gap-2 border border-gray-200",children:[r.jsx(Tn,{className:"h-4 w-4 animate-spin text-blue-500"}),r.jsx("span",{className:"text-gray-600",children:"ИИ анализирует вопрос..."})]})]})]})}),r.jsxs("div",{className:"border-t bg-gray-50 p-4",children:[r.jsxs("div",{className:"mb-3",children:[r.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Быстрые действия:"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:c.map(g=>{const p=g.icon;return r.jsxs(z,{variant:"outline",size:"sm",onClick:()=>h(g.id),className:"flex items-center gap-1 hover:bg-blue-50 hover:border-blue-300 transition-colors",disabled:a,children:[r.jsx(p,{className:"h-3 w-3"}),g.text]},g.id)})})]}),r.jsxs("form",{onSubmit:f,className:"flex gap-2",children:[r.jsx(je,{value:s,onChange:g=>o(g.target.value),placeholder:"Задайте вопрос или опишите, с чем нужна помощь...",disabled:a,className:"flex-1 border-gray-300 focus:border-blue-500 focus:ring-blue-500"}),r.jsx(z,{type:"submit",disabled:!s.trim()||a,size:"icon",className:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700",children:a?r.jsx(Tn,{className:"h-4 w-4 animate-spin"}):r.jsx(Wa,{className:"h-4 w-4"})})]})]})]})]}),r.jsx(F,{className:"mt-4 border-0 shadow-lg",children:r.jsxs(W,{className:"pt-6",children:[r.jsx("h3",{className:"font-medium mb-3 text-gray-900",children:"Возможности ИИ помощника:"}),r.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[r.jsxs("div",{className:"flex items-center gap-3 p-3 bg-blue-50 rounded-lg",children:[r.jsx(ot,{className:"h-5 w-5 text-blue-500"}),r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Объяснение сложных тем"})]}),r.jsxs("div",{className:"flex items-center gap-3 p-3 bg-purple-50 rounded-lg",children:[r.jsx(gt,{className:"h-5 w-5 text-purple-500"}),r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Подготовка к тестам"})]}),r.jsxs("div",{className:"flex items-center gap-3 p-3 bg-green-50 rounded-lg",children:[r.jsx(En,{className:"h-5 w-5 text-green-500"}),r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Ответы на вопросы"})]}),r.jsxs("div",{className:"flex items-center gap-3 p-3 bg-yellow-50 rounded-lg",children:[r.jsx(_n,{className:"h-5 w-5 text-yellow-500"}),r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Советы по обучению"})]})]}),e&&r.jsxs("div",{className:"mt-4 p-3 bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg border border-blue-200",children:[r.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Ваш прогресс:"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"Тестов пройдено:"}),r.jsx("span",{className:"font-medium text-blue-600 ml-1",children:e.tests_completed||0})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"Средний балл:"}),r.jsxs("span",{className:"font-medium text-green-600 ml-1",children:[e.average_score||0,"%"]})]})]})]})]})})]})},Wn=({onNavigate:e})=>{const{t}=$e(),{user:n}=Ze(),[s,o]=l.useState(null),[a,i]=l.useState(!0),[c,d]=l.useState(!1);l.useEffect(()=>{n?u():i(!1)},[n]);const u=async()=>{try{const h=await be.getUserStats();o(h)}catch(h){console.error("Error loading stats:",h),o({testsCompleted:0,averageScore:0,totalQuestions:0,correctAnswers:0,studyTime:0,streak:0,rank:"Начинающий",achievements:[],recentTests:[]})}finally{i(!1)}},f=r.jsx("div",{className:"min-h-[60vh] bg-gradient-to-br from-blue-50 via-white to-indigo-50",children:r.jsx("section",{className:"container mx-auto px-4 py-16",children:r.jsxs("div",{className:"max-w-6xl mx-auto text-center",children:[r.jsx("div",{className:"inline-flex items-center rounded-full border border-blue-200 bg-blue-50 text-blue-700 px-3 py-1 text-xs font-medium mb-4",children:"Новая версия · Поддержка Gemini/DeepSeek"}),r.jsx("h1",{className:"text-5xl lg:text-6xl font-extrabold tracking-tight text-gray-900 mb-6 leading-tight",children:"Образовательная платформа"}),r.jsx("p",{className:"text-lg lg:text-xl text-gray-700 mb-8 max-w-3xl mx-auto",children:"Изучайте, тестируйтесь, развивайтесь с помощью современных технологий ИИ"}),r.jsxs("div",{className:"flex flex-wrap gap-4 justify-center",children:[r.jsxs(z,{size:"lg",className:"flex items-center gap-2",onClick:()=>e&&e("tests"),children:[r.jsx(gt,{className:"h-5 w-5"}),"Начать тестирование"]}),r.jsxs(z,{size:"lg",variant:"outline",onClick:()=>d(!0),className:"flex items-center gap-2",children:[r.jsx(Pn,{className:"h-5 w-5"}),"Попробовать ИИ помощника"]})]})]})})}),m=r.jsx("section",{className:"container mx-auto px-4 py-16 bg-white",children:r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsx("h2",{className:"text-3xl font-bold text-center mb-12",children:"Возможности платформы"}),r.jsxs("div",{className:"grid gap-8 md:grid-cols-2 lg:grid-cols-3",children:[r.jsxs(F,{className:"hover:shadow-lg transition-shadow",children:[r.jsx(G,{children:r.jsxs(Y,{className:"flex items-center gap-2",children:[r.jsx(gt,{className:"h-6 w-6 text-blue-600"}),t("home.features.tests")]})}),r.jsx(W,{children:r.jsx("p",{className:"text-gray-600",children:"Разнообразные тесты с таймерами и детальными результатами"})})]}),r.jsxs(F,{className:"hover:shadow-lg transition-shadow",children:[r.jsx(G,{children:r.jsxs(Y,{className:"flex items-center gap-2",children:[r.jsx(Pr,{className:"h-6 w-6 text-green-600"}),t("home.features.progress")]})}),r.jsx(W,{children:r.jsx("p",{className:"text-gray-600",children:"Подробная аналитика успеваемости и достижений"})})]}),r.jsxs(F,{className:"hover:shadow-lg transition-shadow",children:[r.jsx(G,{children:r.jsxs(Y,{className:"flex items-center gap-2",children:[r.jsx(qt,{className:"h-6 w-6 text-purple-600"}),t("home.features.ai")]})}),r.jsx(W,{children:r.jsx("p",{className:"text-gray-600",children:"Персональный ИИ помощник для объяснения тем и подготовки"})})]})]})]})});return r.jsxs("div",{children:[f,m,r.jsx("div",{className:"container mx-auto px-4 py-8",children:r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold mb-2",children:n&&n.name?`Добро пожаловать, ${n.name}!`:"Добро пожаловать!"}),r.jsx("p",{className:"text-gray-600",children:"Продолжайте свое обучение с нашими интерактивными инструментами"})]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-4 mb-8",children:[r.jsxs(z,{className:"h-20 flex-col gap-2",variant:"outline",onClick:()=>e&&e("tests"),children:[r.jsx(gt,{className:"h-6 w-6"}),r.jsx("span",{children:"Новый тест"})]}),r.jsxs(z,{className:"h-20 flex-col gap-2",variant:"outline",onClick:()=>d(!0),children:[r.jsx(Pn,{className:"h-6 w-6"}),r.jsx("span",{children:"ИИ помощник"})]}),r.jsxs(z,{className:"h-20 flex-col gap-2",variant:"outline",children:[r.jsx(Pr,{className:"h-6 w-6"}),r.jsx("span",{children:"Статистика"})]}),r.jsxs(z,{className:"h-20 flex-col gap-2",variant:"outline",onClick:()=>e&&e("diary"),children:[r.jsx(ot,{className:"h-6 w-6"}),r.jsx("span",{children:"Дневник прогресса"})]})]}),a?r.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:Array.from({length:6}).map((h,x)=>r.jsxs(F,{className:"animate-pulse",children:[r.jsx(G,{children:r.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"})}),r.jsxs(W,{children:[r.jsx("div",{className:"h-8 bg-gray-200 rounded mb-2"}),r.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})]},x))}):s?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3 mb-8",children:[r.jsxs(F,{children:[r.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Y,{className:"text-sm font-medium",children:"Тестов завершено"}),r.jsx(Kt,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsxs(W,{children:[r.jsx("div",{className:"text-2xl font-bold",children:s.testsCompleted}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Общее количество пройденных тестов"})]})]}),r.jsxs(F,{children:[r.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Y,{className:"text-sm font-medium",children:"Средний балл"}),r.jsx(Jr,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsxs(W,{children:[r.jsxs("div",{className:"text-2xl font-bold",children:[s.averageScore,"%"]}),r.jsx(Ke,{value:s.averageScore,className:"mt-2"})]})]}),r.jsxs(F,{children:[r.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Y,{className:"text-sm font-medium",children:"Время обучения"}),r.jsx(kt,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsxs(W,{children:[r.jsxs("div",{className:"text-2xl font-bold",children:[Math.round(s.studyTime/60)," мин"]}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Общее время в тестах"})]})]}),r.jsxs(F,{children:[r.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Y,{className:"text-sm font-medium",children:"Серия побед"}),r.jsx(kr,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsxs(W,{children:[r.jsx("div",{className:"text-2xl font-bold",children:s.streak}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Подряд успешных тестов"})]})]}),r.jsxs(F,{children:[r.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Y,{className:"text-sm font-medium",children:"Уровень"}),r.jsx(Rr,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsxs(W,{children:[r.jsx("div",{className:"text-2xl font-bold",children:s.rank}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Текущий уровень мастерства"})]})]}),r.jsxs(F,{children:[r.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Y,{className:"text-sm font-medium",children:"Достижения"}),r.jsx(qt,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsxs(W,{children:[r.jsx("div",{className:"text-2xl font-bold",children:s.achievements.length}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Получено наград"})]})]})]}),s.achievements.length>0&&r.jsxs(F,{className:"mb-8",children:[r.jsx(G,{children:r.jsxs(Y,{className:"flex items-center gap-2",children:[r.jsx(Rr,{className:"h-5 w-5 text-yellow-500"}),"Достижения"]})}),r.jsx(W,{children:r.jsx("div",{className:"flex flex-wrap gap-2",children:s.achievements.map((h,x)=>r.jsxs(ge,{variant:"secondary",className:"flex items-center gap-1",children:[r.jsx(qt,{className:"h-3 w-3"}),h]},x))})})]}),s.recentTests.length>0&&r.jsxs(F,{children:[r.jsx(G,{children:r.jsx(Y,{children:"Последние тесты"})}),r.jsx(W,{children:r.jsx("div",{className:"space-y-3",children:s.recentTests.slice(0,5).map((h,x)=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:h.subject||"Общий тест"}),r.jsx("p",{className:"text-sm text-gray-600",children:new Date(h.completedAt).toLocaleDateString("ru-RU")})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"text-lg font-bold",children:[h.percentage,"%"]}),r.jsxs("div",{className:"text-sm text-gray-600",children:[h.score,"/",h.total]})]})]},x))})})]})]}):r.jsx(F,{children:r.jsxs(W,{className:"pt-6 text-center",children:[r.jsx("p",{className:"text-gray-600",children:"Начните проходить тесты, чтобы увидеть статистику!"}),r.jsx(z,{className:"mt-4",onClick:()=>e&&e("tests"),children:"Пройти первый тест"})]})}),c&&r.jsxs("div",{className:"mt-8 container mx-auto px-4",children:[r.jsx("h2",{className:"text-2xl font-bold mb-4",children:"ИИ Помощник"}),r.jsx(Ec,{}),r.jsx("div",{className:"text-center mt-4",children:r.jsx(z,{variant:"outline",onClick:()=>d(!1),children:"Скрыть помощника"})})]})]})})]})};var _c="Label",no=l.forwardRef((e,t)=>r.jsx(H.label,{...e,ref:t,onMouseDown:n=>{var o;n.target.closest("button, input, select, textarea")||((o=e.onMouseDown)==null||o.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));no.displayName=_c;var Tc=no;function Ae({className:e,...t}){return r.jsx(Tc,{"data-slot":"label",className:se("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}function Pc(e){const t=e+"CollectionProvider",[n,s]=ut(t),[o,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),i=p=>{const{scope:v,children:y}=p,b=Qe.useRef(null),w=Qe.useRef(new Map).current;return r.jsx(o,{scope:v,itemMap:w,collectionRef:b,children:y})};i.displayName=t;const c=e+"CollectionSlot",d=bt(c),u=Qe.forwardRef((p,v)=>{const{scope:y,children:b}=p,w=a(c,y),S=re(v,w.collectionRef);return r.jsx(d,{ref:S,children:b})});u.displayName=c;const f=e+"CollectionItemSlot",m="data-radix-collection-item",h=bt(f),x=Qe.forwardRef((p,v)=>{const{scope:y,children:b,...w}=p,S=Qe.useRef(null),C=re(v,S),_=a(f,y);return Qe.useEffect(()=>(_.itemMap.set(S,{ref:S,...w}),()=>void _.itemMap.delete(S))),r.jsx(h,{[m]:"",ref:C,children:b})});x.displayName=f;function g(p){const v=a(e+"CollectionConsumer",p);return Qe.useCallback(()=>{const b=v.collectionRef.current;if(!b)return[];const w=Array.from(b.querySelectorAll(`[${m}]`));return Array.from(v.itemMap.values()).sort((_,A)=>w.indexOf(_.ref.current)-w.indexOf(A.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:i,Slot:u,ItemSlot:x},g,s]}function kc(e,t=globalThis==null?void 0:globalThis.document){const n=xe(e);l.useEffect(()=>{const s=o=>{o.key==="Escape"&&n(o)};return t.addEventListener("keydown",s,{capture:!0}),()=>t.removeEventListener("keydown",s,{capture:!0})},[n,t])}var Rc="DismissableLayer",Dr="dismissableLayer.update",Mc="dismissableLayer.pointerDownOutside",Ic="dismissableLayer.focusOutside",Un,so=l.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),cn=l.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:a,onInteractOutside:i,onDismiss:c,...d}=e,u=l.useContext(so),[f,m]=l.useState(null),h=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,x]=l.useState({}),g=re(t,A=>m(A)),p=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=p.indexOf(v),b=f?p.indexOf(f):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,S=b>=y,C=Dc(A=>{const R=A.target,k=[...u.branches].some(j=>j.contains(R));!S||k||(o==null||o(A),i==null||i(A),A.defaultPrevented||c==null||c())},h),_=$c(A=>{const R=A.target;[...u.branches].some(j=>j.contains(R))||(a==null||a(A),i==null||i(A),A.defaultPrevented||c==null||c())},h);return kc(A=>{b===u.layers.size-1&&(s==null||s(A),!A.defaultPrevented&&c&&(A.preventDefault(),c()))},h),l.useEffect(()=>{if(f)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Un=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),Vn(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=Un)}},[f,h,n,u]),l.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),Vn())},[f,u]),l.useEffect(()=>{const A=()=>x({});return document.addEventListener(Dr,A),()=>document.removeEventListener(Dr,A)},[]),r.jsx(H.div,{...d,ref:g,style:{pointerEvents:w?S?"auto":"none":void 0,...e.style},onFocusCapture:X(e.onFocusCapture,_.onFocusCapture),onBlurCapture:X(e.onBlurCapture,_.onBlurCapture),onPointerDownCapture:X(e.onPointerDownCapture,C.onPointerDownCapture)})});cn.displayName=Rc;var Oc="DismissableLayerBranch",Lc=l.forwardRef((e,t)=>{const n=l.useContext(so),s=l.useRef(null),o=re(t,s);return l.useEffect(()=>{const a=s.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),r.jsx(H.div,{...e,ref:o})});Lc.displayName=Oc;function Dc(e,t=globalThis==null?void 0:globalThis.document){const n=xe(e),s=l.useRef(!1),o=l.useRef(()=>{});return l.useEffect(()=>{const a=c=>{if(c.target&&!s.current){let d=function(){oo(Mc,n,u,{discrete:!0})};const u={originalEvent:c};c.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=d,t.addEventListener("click",o.current,{once:!0})):d()}else t.removeEventListener("click",o.current);s.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",a),t.removeEventListener("click",o.current)}},[t,n]),{onPointerDownCapture:()=>s.current=!0}}function $c(e,t=globalThis==null?void 0:globalThis.document){const n=xe(e),s=l.useRef(!1);return l.useEffect(()=>{const o=a=>{a.target&&!s.current&&oo(Ic,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function Vn(){const e=new CustomEvent(Dr);document.dispatchEvent(e)}function oo(e,t,n,{discrete:s}){const o=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),s?rc(o,a):o.dispatchEvent(a)}var br=0;function ao(){l.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Hn()),document.body.insertAdjacentElement("beforeend",e[1]??Hn()),br++,()=>{br===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),br--}},[])}function Hn(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var wr="focusScope.autoFocusOnMount",jr="focusScope.autoFocusOnUnmount",qn={bubbles:!1,cancelable:!0},zc="FocusScope",ln=l.forwardRef((e,t)=>{const{loop:n=!1,trapped:s=!1,onMountAutoFocus:o,onUnmountAutoFocus:a,...i}=e,[c,d]=l.useState(null),u=xe(o),f=xe(a),m=l.useRef(null),h=re(t,p=>d(p)),x=l.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;l.useEffect(()=>{if(s){let p=function(w){if(x.paused||!c)return;const S=w.target;c.contains(S)?m.current=S:Ge(m.current,{select:!0})},v=function(w){if(x.paused||!c)return;const S=w.relatedTarget;S!==null&&(c.contains(S)||Ge(m.current,{select:!0}))},y=function(w){if(document.activeElement===document.body)for(const C of w)C.removedNodes.length>0&&Ge(c)};document.addEventListener("focusin",p),document.addEventListener("focusout",v);const b=new MutationObserver(y);return c&&b.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",v),b.disconnect()}}},[s,c,x.paused]),l.useEffect(()=>{if(c){Gn.add(x);const p=document.activeElement;if(!c.contains(p)){const y=new CustomEvent(wr,qn);c.addEventListener(wr,u),c.dispatchEvent(y),y.defaultPrevented||(Bc(Hc(io(c)),{select:!0}),document.activeElement===p&&Ge(c))}return()=>{c.removeEventListener(wr,u),setTimeout(()=>{const y=new CustomEvent(jr,qn);c.addEventListener(jr,f),c.dispatchEvent(y),y.defaultPrevented||Ge(p??document.body,{select:!0}),c.removeEventListener(jr,f),Gn.remove(x)},0)}}},[c,u,f,x]);const g=l.useCallback(p=>{if(!n&&!s||x.paused)return;const v=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,y=document.activeElement;if(v&&y){const b=p.currentTarget,[w,S]=Fc(b);w&&S?!p.shiftKey&&y===S?(p.preventDefault(),n&&Ge(w,{select:!0})):p.shiftKey&&y===w&&(p.preventDefault(),n&&Ge(S,{select:!0})):y===b&&p.preventDefault()}},[n,s,x.paused]);return r.jsx(H.div,{tabIndex:-1,...i,ref:h,onKeyDown:g})});ln.displayName=zc;function Bc(e,{select:t=!1}={}){const n=document.activeElement;for(const s of e)if(Ge(s,{select:t}),document.activeElement!==n)return}function Fc(e){const t=io(e),n=Qn(t,e),s=Qn(t.reverse(),e);return[n,s]}function io(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const o=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||o?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Qn(e,t){for(const n of e)if(!Wc(n,{upTo:t}))return n}function Wc(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Uc(e){return e instanceof HTMLInputElement&&"select"in e}function Ge(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&Uc(e)&&t&&e.select()}}var Gn=Vc();function Vc(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=Yn(e,t),e.unshift(t)},remove(t){var n;e=Yn(e,t),(n=e[0])==null||n.resume()}}}function Yn(e,t){const n=[...e],s=n.indexOf(t);return s!==-1&&n.splice(s,1),n}function Hc(e){return e.filter(t=>t.tagName!=="A")}var qc=gs[" useId ".trim().toString()]||(()=>{}),Qc=0;function xt(e){const[t,n]=l.useState(qc());return fe(()=>{e||n(s=>s??String(Qc++))},[e]),e||(t?`radix-${t}`:"")}const Gc=["top","right","bottom","left"],Xe=Math.min,Se=Math.max,er=Math.round,Ft=Math.floor,De=e=>({x:e,y:e}),Yc={left:"right",right:"left",bottom:"top",top:"bottom"},Kc={start:"end",end:"start"};function $r(e,t,n){return Se(e,Xe(t,n))}function We(e,t){return typeof e=="function"?e(t):e}function Ue(e){return e.split("-")[0]}function Nt(e){return e.split("-")[1]}function dn(e){return e==="x"?"y":"x"}function un(e){return e==="y"?"height":"width"}const Xc=new Set(["top","bottom"]);function Le(e){return Xc.has(Ue(e))?"y":"x"}function fn(e){return dn(Le(e))}function Jc(e,t,n){n===void 0&&(n=!1);const s=Nt(e),o=fn(e),a=un(o);let i=o==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(i=tr(i)),[i,tr(i)]}function Zc(e){const t=tr(e);return[zr(e),t,zr(t)]}function zr(e){return e.replace(/start|end/g,t=>Kc[t])}const Kn=["left","right"],Xn=["right","left"],el=["top","bottom"],tl=["bottom","top"];function rl(e,t,n){switch(e){case"top":case"bottom":return n?t?Xn:Kn:t?Kn:Xn;case"left":case"right":return t?el:tl;default:return[]}}function nl(e,t,n,s){const o=Nt(e);let a=rl(Ue(e),n==="start",s);return o&&(a=a.map(i=>i+"-"+o),t&&(a=a.concat(a.map(zr)))),a}function tr(e){return e.replace(/left|right|bottom|top/g,t=>Yc[t])}function sl(e){return{top:0,right:0,bottom:0,left:0,...e}}function co(e){return typeof e!="number"?sl(e):{top:e,right:e,bottom:e,left:e}}function rr(e){const{x:t,y:n,width:s,height:o}=e;return{width:s,height:o,top:n,left:t,right:t+s,bottom:n+o,x:t,y:n}}function Jn(e,t,n){let{reference:s,floating:o}=e;const a=Le(t),i=fn(t),c=un(i),d=Ue(t),u=a==="y",f=s.x+s.width/2-o.width/2,m=s.y+s.height/2-o.height/2,h=s[c]/2-o[c]/2;let x;switch(d){case"top":x={x:f,y:s.y-o.height};break;case"bottom":x={x:f,y:s.y+s.height};break;case"right":x={x:s.x+s.width,y:m};break;case"left":x={x:s.x-o.width,y:m};break;default:x={x:s.x,y:s.y}}switch(Nt(t)){case"start":x[i]-=h*(n&&u?-1:1);break;case"end":x[i]+=h*(n&&u?-1:1);break}return x}const ol=async(e,t,n)=>{const{placement:s="bottom",strategy:o="absolute",middleware:a=[],platform:i}=n,c=a.filter(Boolean),d=await(i.isRTL==null?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:o}),{x:f,y:m}=Jn(u,s,d),h=s,x={},g=0;for(let p=0;p<c.length;p++){const{name:v,fn:y}=c[p],{x:b,y:w,data:S,reset:C}=await y({x:f,y:m,initialPlacement:s,placement:h,strategy:o,middlewareData:x,rects:u,platform:i,elements:{reference:e,floating:t}});f=b??f,m=w??m,x={...x,[v]:{...x[v],...S}},C&&g<=50&&(g++,typeof C=="object"&&(C.placement&&(h=C.placement),C.rects&&(u=C.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:o}):C.rects),{x:f,y:m}=Jn(u,h,d)),p=-1)}return{x:f,y:m,placement:h,strategy:o,middlewareData:x}};async function Rt(e,t){var n;t===void 0&&(t={});const{x:s,y:o,platform:a,rects:i,elements:c,strategy:d}=e,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:m="floating",altBoundary:h=!1,padding:x=0}=We(t,e),g=co(x),v=c[h?m==="floating"?"reference":"floating":m],y=rr(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(v)))==null||n?v:v.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(c.floating)),boundary:u,rootBoundary:f,strategy:d})),b=m==="floating"?{x:s,y:o,width:i.floating.width,height:i.floating.height}:i.reference,w=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c.floating)),S=await(a.isElement==null?void 0:a.isElement(w))?await(a.getScale==null?void 0:a.getScale(w))||{x:1,y:1}:{x:1,y:1},C=rr(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:b,offsetParent:w,strategy:d}):b);return{top:(y.top-C.top+g.top)/S.y,bottom:(C.bottom-y.bottom+g.bottom)/S.y,left:(y.left-C.left+g.left)/S.x,right:(C.right-y.right+g.right)/S.x}}const al=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:s,placement:o,rects:a,platform:i,elements:c,middlewareData:d}=t,{element:u,padding:f=0}=We(e,t)||{};if(u==null)return{};const m=co(f),h={x:n,y:s},x=fn(o),g=un(x),p=await i.getDimensions(u),v=x==="y",y=v?"top":"left",b=v?"bottom":"right",w=v?"clientHeight":"clientWidth",S=a.reference[g]+a.reference[x]-h[x]-a.floating[g],C=h[x]-a.reference[x],_=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let A=_?_[w]:0;(!A||!await(i.isElement==null?void 0:i.isElement(_)))&&(A=c.floating[w]||a.floating[g]);const R=S/2-C/2,k=A/2-p[g]/2-1,j=Xe(m[y],k),E=Xe(m[b],k),N=j,P=A-p[g]-E,T=A/2-p[g]/2+R,O=$r(N,T,P),M=!d.arrow&&Nt(o)!=null&&T!==O&&a.reference[g]/2-(T<N?j:E)-p[g]/2<0,D=M?T<N?T-N:T-P:0;return{[x]:h[x]+D,data:{[x]:O,centerOffset:T-O-D,...M&&{alignmentOffset:D}},reset:M}}}),il=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,s;const{placement:o,middlewareData:a,rects:i,initialPlacement:c,platform:d,elements:u}=t,{mainAxis:f=!0,crossAxis:m=!0,fallbackPlacements:h,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:p=!0,...v}=We(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const y=Ue(o),b=Le(c),w=Ue(c)===c,S=await(d.isRTL==null?void 0:d.isRTL(u.floating)),C=h||(w||!p?[tr(c)]:Zc(c)),_=g!=="none";!h&&_&&C.push(...nl(c,p,g,S));const A=[c,...C],R=await Rt(t,v),k=[];let j=((s=a.flip)==null?void 0:s.overflows)||[];if(f&&k.push(R[y]),m){const T=Jc(o,i,S);k.push(R[T[0]],R[T[1]])}if(j=[...j,{placement:o,overflows:k}],!k.every(T=>T<=0)){var E,N;const T=(((E=a.flip)==null?void 0:E.index)||0)+1,O=A[T];if(O&&(!(m==="alignment"?b!==Le(O):!1)||j.every(L=>Le(L.placement)===b?L.overflows[0]>0:!0)))return{data:{index:T,overflows:j},reset:{placement:O}};let M=(N=j.filter(D=>D.overflows[0]<=0).sort((D,L)=>D.overflows[1]-L.overflows[1])[0])==null?void 0:N.placement;if(!M)switch(x){case"bestFit":{var P;const D=(P=j.filter(L=>{if(_){const V=Le(L.placement);return V===b||V==="y"}return!0}).map(L=>[L.placement,L.overflows.filter(V=>V>0).reduce((V,ce)=>V+ce,0)]).sort((L,V)=>L[1]-V[1])[0])==null?void 0:P[0];D&&(M=D);break}case"initialPlacement":M=c;break}if(o!==M)return{reset:{placement:M}}}return{}}}};function Zn(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function es(e){return Gc.some(t=>e[t]>=0)}const cl=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:s="referenceHidden",...o}=We(e,t);switch(s){case"referenceHidden":{const a=await Rt(t,{...o,elementContext:"reference"}),i=Zn(a,n.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:es(i)}}}case"escaped":{const a=await Rt(t,{...o,altBoundary:!0}),i=Zn(a,n.floating);return{data:{escapedOffsets:i,escaped:es(i)}}}default:return{}}}}},lo=new Set(["left","top"]);async function ll(e,t){const{placement:n,platform:s,elements:o}=e,a=await(s.isRTL==null?void 0:s.isRTL(o.floating)),i=Ue(n),c=Nt(n),d=Le(n)==="y",u=lo.has(i)?-1:1,f=a&&d?-1:1,m=We(t,e);let{mainAxis:h,crossAxis:x,alignmentAxis:g}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return c&&typeof g=="number"&&(x=c==="end"?g*-1:g),d?{x:x*f,y:h*u}:{x:h*u,y:x*f}}const dl=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,s;const{x:o,y:a,placement:i,middlewareData:c}=t,d=await ll(t,e);return i===((n=c.offset)==null?void 0:n.placement)&&(s=c.arrow)!=null&&s.alignmentOffset?{}:{x:o+d.x,y:a+d.y,data:{...d,placement:i}}}}},ul=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:s,placement:o}=t,{mainAxis:a=!0,crossAxis:i=!1,limiter:c={fn:v=>{let{x:y,y:b}=v;return{x:y,y:b}}},...d}=We(e,t),u={x:n,y:s},f=await Rt(t,d),m=Le(Ue(o)),h=dn(m);let x=u[h],g=u[m];if(a){const v=h==="y"?"top":"left",y=h==="y"?"bottom":"right",b=x+f[v],w=x-f[y];x=$r(b,x,w)}if(i){const v=m==="y"?"top":"left",y=m==="y"?"bottom":"right",b=g+f[v],w=g-f[y];g=$r(b,g,w)}const p=c.fn({...t,[h]:x,[m]:g});return{...p,data:{x:p.x-n,y:p.y-s,enabled:{[h]:a,[m]:i}}}}}},fl=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:s,placement:o,rects:a,middlewareData:i}=t,{offset:c=0,mainAxis:d=!0,crossAxis:u=!0}=We(e,t),f={x:n,y:s},m=Le(o),h=dn(m);let x=f[h],g=f[m];const p=We(c,t),v=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(d){const w=h==="y"?"height":"width",S=a.reference[h]-a.floating[w]+v.mainAxis,C=a.reference[h]+a.reference[w]-v.mainAxis;x<S?x=S:x>C&&(x=C)}if(u){var y,b;const w=h==="y"?"width":"height",S=lo.has(Ue(o)),C=a.reference[m]-a.floating[w]+(S&&((y=i.offset)==null?void 0:y[m])||0)+(S?0:v.crossAxis),_=a.reference[m]+a.reference[w]+(S?0:((b=i.offset)==null?void 0:b[m])||0)-(S?v.crossAxis:0);g<C?g=C:g>_&&(g=_)}return{[h]:x,[m]:g}}}},ml=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,s;const{placement:o,rects:a,platform:i,elements:c}=t,{apply:d=()=>{},...u}=We(e,t),f=await Rt(t,u),m=Ue(o),h=Nt(o),x=Le(o)==="y",{width:g,height:p}=a.floating;let v,y;m==="top"||m==="bottom"?(v=m,y=h===(await(i.isRTL==null?void 0:i.isRTL(c.floating))?"start":"end")?"left":"right"):(y=m,v=h==="end"?"top":"bottom");const b=p-f.top-f.bottom,w=g-f.left-f.right,S=Xe(p-f[v],b),C=Xe(g-f[y],w),_=!t.middlewareData.shift;let A=S,R=C;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(R=w),(s=t.middlewareData.shift)!=null&&s.enabled.y&&(A=b),_&&!h){const j=Se(f.left,0),E=Se(f.right,0),N=Se(f.top,0),P=Se(f.bottom,0);x?R=g-2*(j!==0||E!==0?j+E:Se(f.left,f.right)):A=p-2*(N!==0||P!==0?N+P:Se(f.top,f.bottom))}await d({...t,availableWidth:R,availableHeight:A});const k=await i.getDimensions(c.floating);return g!==k.width||p!==k.height?{reset:{rects:!0}}:{}}}};function lr(){return typeof window<"u"}function Ct(e){return uo(e)?(e.nodeName||"").toLowerCase():"#document"}function Ne(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Fe(e){var t;return(t=(uo(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function uo(e){return lr()?e instanceof Node||e instanceof Ne(e).Node:!1}function ke(e){return lr()?e instanceof Element||e instanceof Ne(e).Element:!1}function ze(e){return lr()?e instanceof HTMLElement||e instanceof Ne(e).HTMLElement:!1}function ts(e){return!lr()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Ne(e).ShadowRoot}const hl=new Set(["inline","contents"]);function Lt(e){const{overflow:t,overflowX:n,overflowY:s,display:o}=Re(e);return/auto|scroll|overlay|hidden|clip/.test(t+s+n)&&!hl.has(o)}const pl=new Set(["table","td","th"]);function gl(e){return pl.has(Ct(e))}const xl=[":popover-open",":modal"];function dr(e){return xl.some(t=>{try{return e.matches(t)}catch{return!1}})}const vl=["transform","translate","scale","rotate","perspective"],yl=["transform","translate","scale","rotate","perspective","filter"],bl=["paint","layout","strict","content"];function mn(e){const t=hn(),n=ke(e)?Re(e):e;return vl.some(s=>n[s]?n[s]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||yl.some(s=>(n.willChange||"").includes(s))||bl.some(s=>(n.contain||"").includes(s))}function wl(e){let t=Je(e);for(;ze(t)&&!jt(t);){if(mn(t))return t;if(dr(t))return null;t=Je(t)}return null}function hn(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const jl=new Set(["html","body","#document"]);function jt(e){return jl.has(Ct(e))}function Re(e){return Ne(e).getComputedStyle(e)}function ur(e){return ke(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Je(e){if(Ct(e)==="html")return e;const t=e.assignedSlot||e.parentNode||ts(e)&&e.host||Fe(e);return ts(t)?t.host:t}function fo(e){const t=Je(e);return jt(t)?e.ownerDocument?e.ownerDocument.body:e.body:ze(t)&&Lt(t)?t:fo(t)}function Mt(e,t,n){var s;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=fo(e),a=o===((s=e.ownerDocument)==null?void 0:s.body),i=Ne(o);if(a){const c=Br(i);return t.concat(i,i.visualViewport||[],Lt(o)?o:[],c&&n?Mt(c):[])}return t.concat(o,Mt(o,[],n))}function Br(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function mo(e){const t=Re(e);let n=parseFloat(t.width)||0,s=parseFloat(t.height)||0;const o=ze(e),a=o?e.offsetWidth:n,i=o?e.offsetHeight:s,c=er(n)!==a||er(s)!==i;return c&&(n=a,s=i),{width:n,height:s,$:c}}function pn(e){return ke(e)?e:e.contextElement}function vt(e){const t=pn(e);if(!ze(t))return De(1);const n=t.getBoundingClientRect(),{width:s,height:o,$:a}=mo(t);let i=(a?er(n.width):n.width)/s,c=(a?er(n.height):n.height)/o;return(!i||!Number.isFinite(i))&&(i=1),(!c||!Number.isFinite(c))&&(c=1),{x:i,y:c}}const Sl=De(0);function ho(e){const t=Ne(e);return!hn()||!t.visualViewport?Sl:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Nl(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Ne(e)?!1:t}function at(e,t,n,s){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),a=pn(e);let i=De(1);t&&(s?ke(s)&&(i=vt(s)):i=vt(e));const c=Nl(a,n,s)?ho(a):De(0);let d=(o.left+c.x)/i.x,u=(o.top+c.y)/i.y,f=o.width/i.x,m=o.height/i.y;if(a){const h=Ne(a),x=s&&ke(s)?Ne(s):s;let g=h,p=Br(g);for(;p&&s&&x!==g;){const v=vt(p),y=p.getBoundingClientRect(),b=Re(p),w=y.left+(p.clientLeft+parseFloat(b.paddingLeft))*v.x,S=y.top+(p.clientTop+parseFloat(b.paddingTop))*v.y;d*=v.x,u*=v.y,f*=v.x,m*=v.y,d+=w,u+=S,g=Ne(p),p=Br(g)}}return rr({width:f,height:m,x:d,y:u})}function gn(e,t){const n=ur(e).scrollLeft;return t?t.left+n:at(Fe(e)).left+n}function po(e,t,n){n===void 0&&(n=!1);const s=e.getBoundingClientRect(),o=s.left+t.scrollLeft-(n?0:gn(e,s)),a=s.top+t.scrollTop;return{x:o,y:a}}function Cl(e){let{elements:t,rect:n,offsetParent:s,strategy:o}=e;const a=o==="fixed",i=Fe(s),c=t?dr(t.floating):!1;if(s===i||c&&a)return n;let d={scrollLeft:0,scrollTop:0},u=De(1);const f=De(0),m=ze(s);if((m||!m&&!a)&&((Ct(s)!=="body"||Lt(i))&&(d=ur(s)),ze(s))){const x=at(s);u=vt(s),f.x=x.x+s.clientLeft,f.y=x.y+s.clientTop}const h=i&&!m&&!a?po(i,d,!0):De(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-d.scrollLeft*u.x+f.x+h.x,y:n.y*u.y-d.scrollTop*u.y+f.y+h.y}}function Al(e){return Array.from(e.getClientRects())}function El(e){const t=Fe(e),n=ur(e),s=e.ownerDocument.body,o=Se(t.scrollWidth,t.clientWidth,s.scrollWidth,s.clientWidth),a=Se(t.scrollHeight,t.clientHeight,s.scrollHeight,s.clientHeight);let i=-n.scrollLeft+gn(e);const c=-n.scrollTop;return Re(s).direction==="rtl"&&(i+=Se(t.clientWidth,s.clientWidth)-o),{width:o,height:a,x:i,y:c}}function _l(e,t){const n=Ne(e),s=Fe(e),o=n.visualViewport;let a=s.clientWidth,i=s.clientHeight,c=0,d=0;if(o){a=o.width,i=o.height;const u=hn();(!u||u&&t==="fixed")&&(c=o.offsetLeft,d=o.offsetTop)}return{width:a,height:i,x:c,y:d}}const Tl=new Set(["absolute","fixed"]);function Pl(e,t){const n=at(e,!0,t==="fixed"),s=n.top+e.clientTop,o=n.left+e.clientLeft,a=ze(e)?vt(e):De(1),i=e.clientWidth*a.x,c=e.clientHeight*a.y,d=o*a.x,u=s*a.y;return{width:i,height:c,x:d,y:u}}function rs(e,t,n){let s;if(t==="viewport")s=_l(e,n);else if(t==="document")s=El(Fe(e));else if(ke(t))s=Pl(t,n);else{const o=ho(e);s={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return rr(s)}function go(e,t){const n=Je(e);return n===t||!ke(n)||jt(n)?!1:Re(n).position==="fixed"||go(n,t)}function kl(e,t){const n=t.get(e);if(n)return n;let s=Mt(e,[],!1).filter(c=>ke(c)&&Ct(c)!=="body"),o=null;const a=Re(e).position==="fixed";let i=a?Je(e):e;for(;ke(i)&&!jt(i);){const c=Re(i),d=mn(i);!d&&c.position==="fixed"&&(o=null),(a?!d&&!o:!d&&c.position==="static"&&!!o&&Tl.has(o.position)||Lt(i)&&!d&&go(e,i))?s=s.filter(f=>f!==i):o=c,i=Je(i)}return t.set(e,s),s}function Rl(e){let{element:t,boundary:n,rootBoundary:s,strategy:o}=e;const i=[...n==="clippingAncestors"?dr(t)?[]:kl(t,this._c):[].concat(n),s],c=i[0],d=i.reduce((u,f)=>{const m=rs(t,f,o);return u.top=Se(m.top,u.top),u.right=Xe(m.right,u.right),u.bottom=Xe(m.bottom,u.bottom),u.left=Se(m.left,u.left),u},rs(t,c,o));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function Ml(e){const{width:t,height:n}=mo(e);return{width:t,height:n}}function Il(e,t,n){const s=ze(t),o=Fe(t),a=n==="fixed",i=at(e,!0,a,t);let c={scrollLeft:0,scrollTop:0};const d=De(0);function u(){d.x=gn(o)}if(s||!s&&!a)if((Ct(t)!=="body"||Lt(o))&&(c=ur(t)),s){const x=at(t,!0,a,t);d.x=x.x+t.clientLeft,d.y=x.y+t.clientTop}else o&&u();a&&!s&&o&&u();const f=o&&!s&&!a?po(o,c):De(0),m=i.left+c.scrollLeft-d.x-f.x,h=i.top+c.scrollTop-d.y-f.y;return{x:m,y:h,width:i.width,height:i.height}}function Sr(e){return Re(e).position==="static"}function ns(e,t){if(!ze(e)||Re(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Fe(e)===n&&(n=n.ownerDocument.body),n}function xo(e,t){const n=Ne(e);if(dr(e))return n;if(!ze(e)){let o=Je(e);for(;o&&!jt(o);){if(ke(o)&&!Sr(o))return o;o=Je(o)}return n}let s=ns(e,t);for(;s&&gl(s)&&Sr(s);)s=ns(s,t);return s&&jt(s)&&Sr(s)&&!mn(s)?n:s||wl(e)||n}const Ol=async function(e){const t=this.getOffsetParent||xo,n=this.getDimensions,s=await n(e.floating);return{reference:Il(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function Ll(e){return Re(e).direction==="rtl"}const Dl={convertOffsetParentRelativeRectToViewportRelativeRect:Cl,getDocumentElement:Fe,getClippingRect:Rl,getOffsetParent:xo,getElementRects:Ol,getClientRects:Al,getDimensions:Ml,getScale:vt,isElement:ke,isRTL:Ll};function vo(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function $l(e,t){let n=null,s;const o=Fe(e);function a(){var c;clearTimeout(s),(c=n)==null||c.disconnect(),n=null}function i(c,d){c===void 0&&(c=!1),d===void 0&&(d=1),a();const u=e.getBoundingClientRect(),{left:f,top:m,width:h,height:x}=u;if(c||t(),!h||!x)return;const g=Ft(m),p=Ft(o.clientWidth-(f+h)),v=Ft(o.clientHeight-(m+x)),y=Ft(f),w={rootMargin:-g+"px "+-p+"px "+-v+"px "+-y+"px",threshold:Se(0,Xe(1,d))||1};let S=!0;function C(_){const A=_[0].intersectionRatio;if(A!==d){if(!S)return i();A?i(!1,A):s=setTimeout(()=>{i(!1,1e-7)},1e3)}A===1&&!vo(u,e.getBoundingClientRect())&&i(),S=!1}try{n=new IntersectionObserver(C,{...w,root:o.ownerDocument})}catch{n=new IntersectionObserver(C,w)}n.observe(e)}return i(!0),a}function zl(e,t,n,s){s===void 0&&(s={});const{ancestorScroll:o=!0,ancestorResize:a=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:d=!1}=s,u=pn(e),f=o||a?[...u?Mt(u):[],...Mt(t)]:[];f.forEach(y=>{o&&y.addEventListener("scroll",n,{passive:!0}),a&&y.addEventListener("resize",n)});const m=u&&c?$l(u,n):null;let h=-1,x=null;i&&(x=new ResizeObserver(y=>{let[b]=y;b&&b.target===u&&x&&(x.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var w;(w=x)==null||w.observe(t)})),n()}),u&&!d&&x.observe(u),x.observe(t));let g,p=d?at(e):null;d&&v();function v(){const y=at(e);p&&!vo(p,y)&&n(),p=y,g=requestAnimationFrame(v)}return n(),()=>{var y;f.forEach(b=>{o&&b.removeEventListener("scroll",n),a&&b.removeEventListener("resize",n)}),m==null||m(),(y=x)==null||y.disconnect(),x=null,d&&cancelAnimationFrame(g)}}const Bl=dl,Fl=ul,Wl=il,Ul=ml,Vl=cl,ss=al,Hl=fl,ql=(e,t,n)=>{const s=new Map,o={platform:Dl,...n},a={...o.platform,_c:s};return ol(e,t,{...o,platform:a})};var Ql=typeof document<"u",Gl=function(){},Qt=Ql?l.useLayoutEffect:Gl;function nr(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,s,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(s=n;s--!==0;)if(!nr(e[s],t[s]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(s=n;s--!==0;)if(!{}.hasOwnProperty.call(t,o[s]))return!1;for(s=n;s--!==0;){const a=o[s];if(!(a==="_owner"&&e.$$typeof)&&!nr(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function yo(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function os(e,t){const n=yo(e);return Math.round(t*n)/n}function Nr(e){const t=l.useRef(e);return Qt(()=>{t.current=e}),t}function Yl(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:s=[],platform:o,elements:{reference:a,floating:i}={},transform:c=!0,whileElementsMounted:d,open:u}=e,[f,m]=l.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[h,x]=l.useState(s);nr(h,s)||x(s);const[g,p]=l.useState(null),[v,y]=l.useState(null),b=l.useCallback(L=>{L!==_.current&&(_.current=L,p(L))},[]),w=l.useCallback(L=>{L!==A.current&&(A.current=L,y(L))},[]),S=a||g,C=i||v,_=l.useRef(null),A=l.useRef(null),R=l.useRef(f),k=d!=null,j=Nr(d),E=Nr(o),N=Nr(u),P=l.useCallback(()=>{if(!_.current||!A.current)return;const L={placement:t,strategy:n,middleware:h};E.current&&(L.platform=E.current),ql(_.current,A.current,L).then(V=>{const ce={...V,isPositioned:N.current!==!1};T.current&&!nr(R.current,ce)&&(R.current=ce,Ot.flushSync(()=>{m(ce)}))})},[h,t,n,E,N]);Qt(()=>{u===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,m(L=>({...L,isPositioned:!1})))},[u]);const T=l.useRef(!1);Qt(()=>(T.current=!0,()=>{T.current=!1}),[]),Qt(()=>{if(S&&(_.current=S),C&&(A.current=C),S&&C){if(j.current)return j.current(S,C,P);P()}},[S,C,P,j,k]);const O=l.useMemo(()=>({reference:_,floating:A,setReference:b,setFloating:w}),[b,w]),M=l.useMemo(()=>({reference:S,floating:C}),[S,C]),D=l.useMemo(()=>{const L={position:n,left:0,top:0};if(!M.floating)return L;const V=os(M.floating,f.x),ce=os(M.floating,f.y);return c?{...L,transform:"translate("+V+"px, "+ce+"px)",...yo(M.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:V,top:ce}},[n,c,M.floating,f.x,f.y]);return l.useMemo(()=>({...f,update:P,refs:O,elements:M,floatingStyles:D}),[f,P,O,M,D])}const Kl=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:s,padding:o}=typeof e=="function"?e(n):e;return s&&t(s)?s.current!=null?ss({element:s.current,padding:o}).fn(n):{}:s?ss({element:s,padding:o}).fn(n):{}}}},Xl=(e,t)=>({...Bl(e),options:[e,t]}),Jl=(e,t)=>({...Fl(e),options:[e,t]}),Zl=(e,t)=>({...Hl(e),options:[e,t]}),ed=(e,t)=>({...Wl(e),options:[e,t]}),td=(e,t)=>({...Ul(e),options:[e,t]}),rd=(e,t)=>({...Vl(e),options:[e,t]}),nd=(e,t)=>({...Kl(e),options:[e,t]});var sd="Arrow",bo=l.forwardRef((e,t)=>{const{children:n,width:s=10,height:o=5,...a}=e;return r.jsx(H.svg,{...a,ref:t,width:s,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:r.jsx("polygon",{points:"0,0 30,0 15,10"})})});bo.displayName=sd;var od=bo;function ad(e){const[t,n]=l.useState(void 0);return fe(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const s=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const a=o[0];let i,c;if("borderBoxSize"in a){const d=a.borderBoxSize,u=Array.isArray(d)?d[0]:d;i=u.inlineSize,c=u.blockSize}else i=e.offsetWidth,c=e.offsetHeight;n({width:i,height:c})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}else n(void 0)},[e]),t}var xn="Popper",[wo,jo]=ut(xn),[id,So]=wo(xn),No=e=>{const{__scopePopper:t,children:n}=e,[s,o]=l.useState(null);return r.jsx(id,{scope:t,anchor:s,onAnchorChange:o,children:n})};No.displayName=xn;var Co="PopperAnchor",Ao=l.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:s,...o}=e,a=So(Co,n),i=l.useRef(null),c=re(t,i);return l.useEffect(()=>{a.onAnchorChange((s==null?void 0:s.current)||i.current)}),s?null:r.jsx(H.div,{...o,ref:c})});Ao.displayName=Co;var vn="PopperContent",[cd,ld]=wo(vn),Eo=l.forwardRef((e,t)=>{var $,te,me,ee,K,J;const{__scopePopper:n,side:s="bottom",sideOffset:o=0,align:a="center",alignOffset:i=0,arrowPadding:c=0,avoidCollisions:d=!0,collisionBoundary:u=[],collisionPadding:f=0,sticky:m="partial",hideWhenDetached:h=!1,updatePositionStrategy:x="optimized",onPlaced:g,...p}=e,v=So(vn,n),[y,b]=l.useState(null),w=re(t,ae=>b(ae)),[S,C]=l.useState(null),_=ad(S),A=(_==null?void 0:_.width)??0,R=(_==null?void 0:_.height)??0,k=s+(a!=="center"?"-"+a:""),j=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},E=Array.isArray(u)?u:[u],N=E.length>0,P={padding:j,boundary:E.filter(ud),altBoundary:N},{refs:T,floatingStyles:O,placement:M,isPositioned:D,middlewareData:L}=Yl({strategy:"fixed",placement:k,whileElementsMounted:(...ae)=>zl(...ae,{animationFrame:x==="always"}),elements:{reference:v.anchor},middleware:[Xl({mainAxis:o+R,alignmentAxis:i}),d&&Jl({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?Zl():void 0,...P}),d&&ed({...P}),td({...P,apply:({elements:ae,rects:Ce,availableWidth:_e,availableHeight:nt})=>{const{width:we,height:Dt}=Ce.reference,I=ae.floating.style;I.setProperty("--radix-popper-available-width",`${_e}px`),I.setProperty("--radix-popper-available-height",`${nt}px`),I.setProperty("--radix-popper-anchor-width",`${we}px`),I.setProperty("--radix-popper-anchor-height",`${Dt}px`)}}),S&&nd({element:S,padding:c}),fd({arrowWidth:A,arrowHeight:R}),h&&rd({strategy:"referenceHidden",...P})]}),[V,ce]=Po(M),oe=xe(g);fe(()=>{D&&(oe==null||oe())},[D,oe]);const ve=($=L.arrow)==null?void 0:$.x,le=(te=L.arrow)==null?void 0:te.y,Ie=((me=L.arrow)==null?void 0:me.centerOffset)!==0,[Ve,Oe]=l.useState();return fe(()=>{y&&Oe(window.getComputedStyle(y).zIndex)},[y]),r.jsx("div",{ref:T.setFloating,"data-radix-popper-content-wrapper":"",style:{...O,transform:D?O.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ve,"--radix-popper-transform-origin":[(ee=L.transformOrigin)==null?void 0:ee.x,(K=L.transformOrigin)==null?void 0:K.y].join(" "),...((J=L.hide)==null?void 0:J.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:r.jsx(cd,{scope:n,placedSide:V,onArrowChange:C,arrowX:ve,arrowY:le,shouldHideArrow:Ie,children:r.jsx(H.div,{"data-side":V,"data-align":ce,...p,ref:w,style:{...p.style,animation:D?void 0:"none"}})})})});Eo.displayName=vn;var _o="PopperArrow",dd={top:"bottom",right:"left",bottom:"top",left:"right"},To=l.forwardRef(function(t,n){const{__scopePopper:s,...o}=t,a=ld(_o,s),i=dd[a.placedSide];return r.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:r.jsx(od,{...o,ref:n,style:{...o.style,display:"block"}})})});To.displayName=_o;function ud(e){return e!==null}var fd=e=>({name:"transformOrigin",options:e,fn(t){var v,y,b;const{placement:n,rects:s,middlewareData:o}=t,i=((v=o.arrow)==null?void 0:v.centerOffset)!==0,c=i?0:e.arrowWidth,d=i?0:e.arrowHeight,[u,f]=Po(n),m={start:"0%",center:"50%",end:"100%"}[f],h=(((y=o.arrow)==null?void 0:y.x)??0)+c/2,x=(((b=o.arrow)==null?void 0:b.y)??0)+d/2;let g="",p="";return u==="bottom"?(g=i?m:`${h}px`,p=`${-d}px`):u==="top"?(g=i?m:`${h}px`,p=`${s.floating.height+d}px`):u==="right"?(g=`${-d}px`,p=i?m:`${x}px`):u==="left"&&(g=`${s.floating.width+d}px`,p=i?m:`${x}px`),{data:{x:g,y:p}}}});function Po(e){const[t,n="center"]=e.split("-");return[t,n]}var md=No,hd=Ao,pd=Eo,gd=To,xd="Portal",yn=l.forwardRef((e,t)=>{var c;const{container:n,...s}=e,[o,a]=l.useState(!1);fe(()=>a(!0),[]);const i=n||o&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return i?Ba.createPortal(r.jsx(H.div,{...s,ref:t}),i):null});yn.displayName=xd;var vd=gs[" useInsertionEffect ".trim().toString()]||fe;function Fr({prop:e,defaultProp:t,onChange:n=()=>{},caller:s}){const[o,a,i]=yd({defaultProp:t,onChange:n}),c=e!==void 0,d=c?e:o;{const f=l.useRef(e!==void 0);l.useEffect(()=>{const m=f.current;m!==c&&console.warn(`${s} is changing from ${m?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=c},[c,s])}const u=l.useCallback(f=>{var m;if(c){const h=bd(f)?f(e):f;h!==e&&((m=i.current)==null||m.call(i,h))}else a(f)},[c,e,a,i]);return[d,u]}function yd({defaultProp:e,onChange:t}){const[n,s]=l.useState(e),o=l.useRef(n),a=l.useRef(t);return vd(()=>{a.current=t},[t]),l.useEffect(()=>{var i;o.current!==n&&((i=a.current)==null||i.call(a,n),o.current=n)},[n,o]),[n,s,a]}function bd(e){return typeof e=="function"}function wd(e){const t=l.useRef({value:e,previous:e});return l.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var ko=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),jd="VisuallyHidden",Sd=l.forwardRef((e,t)=>r.jsx(H.span,{...e,ref:t,style:{...ko,...e.style}}));Sd.displayName=jd;var Nd=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},ft=new WeakMap,Wt=new WeakMap,Ut={},Cr=0,Ro=function(e){return e&&(e.host||Ro(e.parentNode))},Cd=function(e,t){return t.map(function(n){if(e.contains(n))return n;var s=Ro(n);return s&&e.contains(s)?s:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},Ad=function(e,t,n,s){var o=Cd(t,Array.isArray(e)?e:[e]);Ut[n]||(Ut[n]=new WeakMap);var a=Ut[n],i=[],c=new Set,d=new Set(o),u=function(m){!m||c.has(m)||(c.add(m),u(m.parentNode))};o.forEach(u);var f=function(m){!m||d.has(m)||Array.prototype.forEach.call(m.children,function(h){if(c.has(h))f(h);else try{var x=h.getAttribute(s),g=x!==null&&x!=="false",p=(ft.get(h)||0)+1,v=(a.get(h)||0)+1;ft.set(h,p),a.set(h,v),i.push(h),p===1&&g&&Wt.set(h,!0),v===1&&h.setAttribute(n,"true"),g||h.setAttribute(s,"true")}catch(y){console.error("aria-hidden: cannot operate on ",h,y)}})};return f(t),c.clear(),Cr++,function(){i.forEach(function(m){var h=ft.get(m)-1,x=a.get(m)-1;ft.set(m,h),a.set(m,x),h||(Wt.has(m)||m.removeAttribute(s),Wt.delete(m)),x||m.removeAttribute(n)}),Cr--,Cr||(ft=new WeakMap,ft=new WeakMap,Wt=new WeakMap,Ut={})}},Mo=function(e,t,n){n===void 0&&(n="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),o=t||Nd(e);return o?(s.push.apply(s,Array.from(o.querySelectorAll("[aria-live], script"))),Ad(s,o,n,"aria-hidden")):function(){return null}},Gt="right-scroll-bar-position",Yt="width-before-scroll-bar",Ed="with-scroll-bars-hidden",_d="--removed-body-scroll-bar-size";function Ar(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Td(e,t){var n=l.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(s){var o=n.value;o!==s&&(n.value=s,n.callback(s,o))}}}})[0];return n.callback=t,n.facade}var Pd=typeof window<"u"?l.useLayoutEffect:l.useEffect,as=new WeakMap;function kd(e,t){var n=Td(t||null,function(s){return e.forEach(function(o){return Ar(o,s)})});return Pd(function(){var s=as.get(n);if(s){var o=new Set(s),a=new Set(e),i=n.current;o.forEach(function(c){a.has(c)||Ar(c,null)}),a.forEach(function(c){o.has(c)||Ar(c,i)})}as.set(n,e)},[e]),n}function Rd(e){return e}function Md(e,t){t===void 0&&(t=Rd);var n=[],s=!1,o={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(a){var i=t(a,s);return n.push(i),function(){n=n.filter(function(c){return c!==i})}},assignSyncMedium:function(a){for(s=!0;n.length;){var i=n;n=[],i.forEach(a)}n={push:function(c){return a(c)},filter:function(){return n}}},assignMedium:function(a){s=!0;var i=[];if(n.length){var c=n;n=[],c.forEach(a),i=n}var d=function(){var f=i;i=[],f.forEach(a)},u=function(){return Promise.resolve().then(d)};u(),n={push:function(f){i.push(f),u()},filter:function(f){return i=i.filter(f),n}}}};return o}function Id(e){e===void 0&&(e={});var t=Md(null);return t.options=Ye({async:!0,ssr:!1},e),t}var Io=function(e){var t=e.sideCar,n=Ss(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=t.read();if(!s)throw new Error("Sidecar medium not found");return l.createElement(s,Ye({},n))};Io.isSideCarExport=!0;function Od(e,t){return e.useMedium(t),Io}var Oo=Id(),Er=function(){},fr=l.forwardRef(function(e,t){var n=l.useRef(null),s=l.useState({onScrollCapture:Er,onWheelCapture:Er,onTouchMoveCapture:Er}),o=s[0],a=s[1],i=e.forwardProps,c=e.children,d=e.className,u=e.removeScrollBar,f=e.enabled,m=e.shards,h=e.sideCar,x=e.noRelative,g=e.noIsolation,p=e.inert,v=e.allowPinchZoom,y=e.as,b=y===void 0?"div":y,w=e.gapMode,S=Ss(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=h,_=kd([n,t]),A=Ye(Ye({},S),o);return l.createElement(l.Fragment,null,f&&l.createElement(C,{sideCar:Oo,removeScrollBar:u,shards:m,noRelative:x,noIsolation:g,inert:p,setCallbacks:a,allowPinchZoom:!!v,lockRef:n,gapMode:w}),i?l.cloneElement(l.Children.only(c),Ye(Ye({},A),{ref:_})):l.createElement(b,Ye({},A,{className:d,ref:_}),c))});fr.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};fr.classNames={fullWidth:Yt,zeroRight:Gt};var is,Ld=function(){if(is)return is;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Dd(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Ld();return t&&e.setAttribute("nonce",t),e}function $d(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function zd(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Bd=function(){var e=0,t=null;return{add:function(n){e==0&&(t=Dd())&&($d(t,n),zd(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Fd=function(){var e=Bd();return function(t,n){l.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},Lo=function(){var e=Fd(),t=function(n){var s=n.styles,o=n.dynamic;return e(s,o),null};return t},Wd={left:0,top:0,right:0,gap:0},_r=function(e){return parseInt(e||"",10)||0},Ud=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],s=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[_r(n),_r(s),_r(o)]},Vd=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Wd;var t=Ud(e),n=document.documentElement.clientWidth,s=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,s-n+t[2]-t[0])}},Hd=Lo(),yt="data-scroll-locked",qd=function(e,t,n,s){var o=e.left,a=e.top,i=e.right,c=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(Ed,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(c,"px ").concat(s,`;
  }
  body[`).concat(yt,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(s,";"),n==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(s,`;
    `),n==="padding"&&"padding-right: ".concat(c,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Gt,` {
    right: `).concat(c,"px ").concat(s,`;
  }
  
  .`).concat(Yt,` {
    margin-right: `).concat(c,"px ").concat(s,`;
  }
  
  .`).concat(Gt," .").concat(Gt,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(Yt," .").concat(Yt,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(yt,`] {
    `).concat(_d,": ").concat(c,`px;
  }
`)},cs=function(){var e=parseInt(document.body.getAttribute(yt)||"0",10);return isFinite(e)?e:0},Qd=function(){l.useEffect(function(){return document.body.setAttribute(yt,(cs()+1).toString()),function(){var e=cs()-1;e<=0?document.body.removeAttribute(yt):document.body.setAttribute(yt,e.toString())}},[])},Gd=function(e){var t=e.noRelative,n=e.noImportant,s=e.gapMode,o=s===void 0?"margin":s;Qd();var a=l.useMemo(function(){return Vd(o)},[o]);return l.createElement(Hd,{styles:qd(a,!t,o,n?"":"!important")})},Wr=!1;if(typeof window<"u")try{var Vt=Object.defineProperty({},"passive",{get:function(){return Wr=!0,!0}});window.addEventListener("test",Vt,Vt),window.removeEventListener("test",Vt,Vt)}catch{Wr=!1}var mt=Wr?{passive:!1}:!1,Yd=function(e){return e.tagName==="TEXTAREA"},Do=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!Yd(e)&&n[t]==="visible")},Kd=function(e){return Do(e,"overflowY")},Xd=function(e){return Do(e,"overflowX")},ls=function(e,t){var n=t.ownerDocument,s=t;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var o=$o(e,s);if(o){var a=zo(e,s),i=a[1],c=a[2];if(i>c)return!0}s=s.parentNode}while(s&&s!==n.body);return!1},Jd=function(e){var t=e.scrollTop,n=e.scrollHeight,s=e.clientHeight;return[t,n,s]},Zd=function(e){var t=e.scrollLeft,n=e.scrollWidth,s=e.clientWidth;return[t,n,s]},$o=function(e,t){return e==="v"?Kd(t):Xd(t)},zo=function(e,t){return e==="v"?Jd(t):Zd(t)},eu=function(e,t){return e==="h"&&t==="rtl"?-1:1},tu=function(e,t,n,s,o){var a=eu(e,window.getComputedStyle(t).direction),i=a*s,c=n.target,d=t.contains(c),u=!1,f=i>0,m=0,h=0;do{if(!c)break;var x=zo(e,c),g=x[0],p=x[1],v=x[2],y=p-v-a*g;(g||y)&&$o(e,c)&&(m+=y,h+=g);var b=c.parentNode;c=b&&b.nodeType===Node.DOCUMENT_FRAGMENT_NODE?b.host:b}while(!d&&c!==document.body||d&&(t.contains(c)||t===c));return(f&&(o&&Math.abs(m)<1||!o&&i>m)||!f&&(o&&Math.abs(h)<1||!o&&-i>h))&&(u=!0),u},Ht=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},ds=function(e){return[e.deltaX,e.deltaY]},us=function(e){return e&&"current"in e?e.current:e},ru=function(e,t){return e[0]===t[0]&&e[1]===t[1]},nu=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},su=0,ht=[];function ou(e){var t=l.useRef([]),n=l.useRef([0,0]),s=l.useRef(),o=l.useState(su++)[0],a=l.useState(Lo)[0],i=l.useRef(e);l.useEffect(function(){i.current=e},[e]),l.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var p=si([e.lockRef.current],(e.shards||[]).map(us),!0).filter(Boolean);return p.forEach(function(v){return v.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),p.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var c=l.useCallback(function(p,v){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!i.current.allowPinchZoom;var y=Ht(p),b=n.current,w="deltaX"in p?p.deltaX:b[0]-y[0],S="deltaY"in p?p.deltaY:b[1]-y[1],C,_=p.target,A=Math.abs(w)>Math.abs(S)?"h":"v";if("touches"in p&&A==="h"&&_.type==="range")return!1;var R=ls(A,_);if(!R)return!0;if(R?C=A:(C=A==="v"?"h":"v",R=ls(A,_)),!R)return!1;if(!s.current&&"changedTouches"in p&&(w||S)&&(s.current=C),!C)return!0;var k=s.current||C;return tu(k,v,p,k==="h"?w:S,!0)},[]),d=l.useCallback(function(p){var v=p;if(!(!ht.length||ht[ht.length-1]!==a)){var y="deltaY"in v?ds(v):Ht(v),b=t.current.filter(function(C){return C.name===v.type&&(C.target===v.target||v.target===C.shadowParent)&&ru(C.delta,y)})[0];if(b&&b.should){v.cancelable&&v.preventDefault();return}if(!b){var w=(i.current.shards||[]).map(us).filter(Boolean).filter(function(C){return C.contains(v.target)}),S=w.length>0?c(v,w[0]):!i.current.noIsolation;S&&v.cancelable&&v.preventDefault()}}},[]),u=l.useCallback(function(p,v,y,b){var w={name:p,delta:v,target:y,should:b,shadowParent:au(y)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(S){return S!==w})},1)},[]),f=l.useCallback(function(p){n.current=Ht(p),s.current=void 0},[]),m=l.useCallback(function(p){u(p.type,ds(p),p.target,c(p,e.lockRef.current))},[]),h=l.useCallback(function(p){u(p.type,Ht(p),p.target,c(p,e.lockRef.current))},[]);l.useEffect(function(){return ht.push(a),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:h}),document.addEventListener("wheel",d,mt),document.addEventListener("touchmove",d,mt),document.addEventListener("touchstart",f,mt),function(){ht=ht.filter(function(p){return p!==a}),document.removeEventListener("wheel",d,mt),document.removeEventListener("touchmove",d,mt),document.removeEventListener("touchstart",f,mt)}},[]);var x=e.removeScrollBar,g=e.inert;return l.createElement(l.Fragment,null,g?l.createElement(a,{styles:nu(o)}):null,x?l.createElement(Gd,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function au(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const iu=Od(Oo,ou);var Bo=l.forwardRef(function(e,t){return l.createElement(fr,Ye({},e,{ref:t,sideCar:iu}))});Bo.classNames=fr.classNames;const Fo=Bo;var cu=[" ","Enter","ArrowUp","ArrowDown"],lu=[" ","Enter"],it="Select",[mr,hr,du]=Pc(it),[At,um]=ut(it,[du,jo]),pr=jo(),[uu,tt]=At(it),[fu,mu]=At(it),Wo=e=>{const{__scopeSelect:t,children:n,open:s,defaultOpen:o,onOpenChange:a,value:i,defaultValue:c,onValueChange:d,dir:u,name:f,autoComplete:m,disabled:h,required:x,form:g}=e,p=pr(t),[v,y]=l.useState(null),[b,w]=l.useState(null),[S,C]=l.useState(!1),_=Fs(u),[A,R]=Fr({prop:s,defaultProp:o??!1,onChange:a,caller:it}),[k,j]=Fr({prop:i,defaultProp:c,onChange:d,caller:it}),E=l.useRef(null),N=v?g||!!v.closest("form"):!0,[P,T]=l.useState(new Set),O=Array.from(P).map(M=>M.props.value).join(";");return r.jsx(md,{...p,children:r.jsxs(uu,{required:x,scope:t,trigger:v,onTriggerChange:y,valueNode:b,onValueNodeChange:w,valueNodeHasChildren:S,onValueNodeHasChildrenChange:C,contentId:xt(),value:k,onValueChange:j,open:A,onOpenChange:R,dir:_,triggerPointerDownPosRef:E,disabled:h,children:[r.jsx(mr.Provider,{scope:t,children:r.jsx(fu,{scope:e.__scopeSelect,onNativeOptionAdd:l.useCallback(M=>{T(D=>new Set(D).add(M))},[]),onNativeOptionRemove:l.useCallback(M=>{T(D=>{const L=new Set(D);return L.delete(M),L})},[]),children:n})}),N?r.jsxs(da,{"aria-hidden":!0,required:x,tabIndex:-1,name:f,autoComplete:m,value:k,onChange:M=>j(M.target.value),disabled:h,form:g,children:[k===void 0?r.jsx("option",{value:""}):null,Array.from(P)]},O):null]})})};Wo.displayName=it;var Uo="SelectTrigger",Vo=l.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:s=!1,...o}=e,a=pr(n),i=tt(Uo,n),c=i.disabled||s,d=re(t,i.onTriggerChange),u=hr(n),f=l.useRef("touch"),[m,h,x]=fa(p=>{const v=u().filter(w=>!w.disabled),y=v.find(w=>w.value===i.value),b=ma(v,p,y);b!==void 0&&i.onValueChange(b.value)}),g=p=>{c||(i.onOpenChange(!0),x()),p&&(i.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return r.jsx(hd,{asChild:!0,...a,children:r.jsx(H.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":ua(i.value)?"":void 0,...o,ref:d,onClick:X(o.onClick,p=>{p.currentTarget.focus(),f.current!=="mouse"&&g(p)}),onPointerDown:X(o.onPointerDown,p=>{f.current=p.pointerType;const v=p.target;v.hasPointerCapture(p.pointerId)&&v.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(g(p),p.preventDefault())}),onKeyDown:X(o.onKeyDown,p=>{const v=m.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&h(p.key),!(v&&p.key===" ")&&cu.includes(p.key)&&(g(),p.preventDefault())})})})});Vo.displayName=Uo;var Ho="SelectValue",qo=l.forwardRef((e,t)=>{const{__scopeSelect:n,className:s,style:o,children:a,placeholder:i="",...c}=e,d=tt(Ho,n),{onValueNodeHasChildrenChange:u}=d,f=a!==void 0,m=re(t,d.onValueNodeChange);return fe(()=>{u(f)},[u,f]),r.jsx(H.span,{...c,ref:m,style:{pointerEvents:"none"},children:ua(d.value)?r.jsx(r.Fragment,{children:i}):a})});qo.displayName=Ho;var hu="SelectIcon",Qo=l.forwardRef((e,t)=>{const{__scopeSelect:n,children:s,...o}=e;return r.jsx(H.span,{"aria-hidden":!0,...o,ref:t,children:s||"▼"})});Qo.displayName=hu;var pu="SelectPortal",Go=e=>r.jsx(yn,{asChild:!0,...e});Go.displayName=pu;var ct="SelectContent",Yo=l.forwardRef((e,t)=>{const n=tt(ct,e.__scopeSelect),[s,o]=l.useState();if(fe(()=>{o(new DocumentFragment)},[]),!n.open){const a=s;return a?Ot.createPortal(r.jsx(Ko,{scope:e.__scopeSelect,children:r.jsx(mr.Slot,{scope:e.__scopeSelect,children:r.jsx("div",{children:e.children})})}),a):null}return r.jsx(Xo,{...e,ref:t})});Yo.displayName=ct;var Pe=10,[Ko,rt]=At(ct),gu="SelectContentImpl",xu=bt("SelectContent.RemoveScroll"),Xo=l.forwardRef((e,t)=>{const{__scopeSelect:n,position:s="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:a,onPointerDownOutside:i,side:c,sideOffset:d,align:u,alignOffset:f,arrowPadding:m,collisionBoundary:h,collisionPadding:x,sticky:g,hideWhenDetached:p,avoidCollisions:v,...y}=e,b=tt(ct,n),[w,S]=l.useState(null),[C,_]=l.useState(null),A=re(t,$=>S($)),[R,k]=l.useState(null),[j,E]=l.useState(null),N=hr(n),[P,T]=l.useState(!1),O=l.useRef(!1);l.useEffect(()=>{if(w)return Mo(w)},[w]),ao();const M=l.useCallback($=>{const[te,...me]=N().map(J=>J.ref.current),[ee]=me.slice(-1),K=document.activeElement;for(const J of $)if(J===K||(J==null||J.scrollIntoView({block:"nearest"}),J===te&&C&&(C.scrollTop=0),J===ee&&C&&(C.scrollTop=C.scrollHeight),J==null||J.focus(),document.activeElement!==K))return},[N,C]),D=l.useCallback(()=>M([R,w]),[M,R,w]);l.useEffect(()=>{P&&D()},[P,D]);const{onOpenChange:L,triggerPointerDownPosRef:V}=b;l.useEffect(()=>{if(w){let $={x:0,y:0};const te=ee=>{var K,J;$={x:Math.abs(Math.round(ee.pageX)-(((K=V.current)==null?void 0:K.x)??0)),y:Math.abs(Math.round(ee.pageY)-(((J=V.current)==null?void 0:J.y)??0))}},me=ee=>{$.x<=10&&$.y<=10?ee.preventDefault():w.contains(ee.target)||L(!1),document.removeEventListener("pointermove",te),V.current=null};return V.current!==null&&(document.addEventListener("pointermove",te),document.addEventListener("pointerup",me,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",te),document.removeEventListener("pointerup",me,{capture:!0})}}},[w,L,V]),l.useEffect(()=>{const $=()=>L(!1);return window.addEventListener("blur",$),window.addEventListener("resize",$),()=>{window.removeEventListener("blur",$),window.removeEventListener("resize",$)}},[L]);const[ce,oe]=fa($=>{const te=N().filter(K=>!K.disabled),me=te.find(K=>K.ref.current===document.activeElement),ee=ma(te,$,me);ee&&setTimeout(()=>ee.ref.current.focus())}),ve=l.useCallback(($,te,me)=>{const ee=!O.current&&!me;(b.value!==void 0&&b.value===te||ee)&&(k($),ee&&(O.current=!0))},[b.value]),le=l.useCallback(()=>w==null?void 0:w.focus(),[w]),Ie=l.useCallback(($,te,me)=>{const ee=!O.current&&!me;(b.value!==void 0&&b.value===te||ee)&&E($)},[b.value]),Ve=s==="popper"?Ur:Jo,Oe=Ve===Ur?{side:c,sideOffset:d,align:u,alignOffset:f,arrowPadding:m,collisionBoundary:h,collisionPadding:x,sticky:g,hideWhenDetached:p,avoidCollisions:v}:{};return r.jsx(Ko,{scope:n,content:w,viewport:C,onViewportChange:_,itemRefCallback:ve,selectedItem:R,onItemLeave:le,itemTextRefCallback:Ie,focusSelectedItem:D,selectedItemText:j,position:s,isPositioned:P,searchRef:ce,children:r.jsx(Fo,{as:xu,allowPinchZoom:!0,children:r.jsx(ln,{asChild:!0,trapped:b.open,onMountAutoFocus:$=>{$.preventDefault()},onUnmountAutoFocus:X(o,$=>{var te;(te=b.trigger)==null||te.focus({preventScroll:!0}),$.preventDefault()}),children:r.jsx(cn,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:$=>$.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:r.jsx(Ve,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:$=>$.preventDefault(),...y,...Oe,onPlaced:()=>T(!0),ref:A,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:X(y.onKeyDown,$=>{const te=$.ctrlKey||$.altKey||$.metaKey;if($.key==="Tab"&&$.preventDefault(),!te&&$.key.length===1&&oe($.key),["ArrowUp","ArrowDown","Home","End"].includes($.key)){let ee=N().filter(K=>!K.disabled).map(K=>K.ref.current);if(["ArrowUp","End"].includes($.key)&&(ee=ee.slice().reverse()),["ArrowUp","ArrowDown"].includes($.key)){const K=$.target,J=ee.indexOf(K);ee=ee.slice(J+1)}setTimeout(()=>M(ee)),$.preventDefault()}})})})})})})});Xo.displayName=gu;var vu="SelectItemAlignedPosition",Jo=l.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:s,...o}=e,a=tt(ct,n),i=rt(ct,n),[c,d]=l.useState(null),[u,f]=l.useState(null),m=re(t,A=>f(A)),h=hr(n),x=l.useRef(!1),g=l.useRef(!0),{viewport:p,selectedItem:v,selectedItemText:y,focusSelectedItem:b}=i,w=l.useCallback(()=>{if(a.trigger&&a.valueNode&&c&&u&&p&&v&&y){const A=a.trigger.getBoundingClientRect(),R=u.getBoundingClientRect(),k=a.valueNode.getBoundingClientRect(),j=y.getBoundingClientRect();if(a.dir!=="rtl"){const K=j.left-R.left,J=k.left-K,ae=A.left-J,Ce=A.width+ae,_e=Math.max(Ce,R.width),nt=window.innerWidth-Pe,we=Lr(J,[Pe,Math.max(Pe,nt-_e)]);c.style.minWidth=Ce+"px",c.style.left=we+"px"}else{const K=R.right-j.right,J=window.innerWidth-k.right-K,ae=window.innerWidth-A.right-J,Ce=A.width+ae,_e=Math.max(Ce,R.width),nt=window.innerWidth-Pe,we=Lr(J,[Pe,Math.max(Pe,nt-_e)]);c.style.minWidth=Ce+"px",c.style.right=we+"px"}const E=h(),N=window.innerHeight-Pe*2,P=p.scrollHeight,T=window.getComputedStyle(u),O=parseInt(T.borderTopWidth,10),M=parseInt(T.paddingTop,10),D=parseInt(T.borderBottomWidth,10),L=parseInt(T.paddingBottom,10),V=O+M+P+L+D,ce=Math.min(v.offsetHeight*5,V),oe=window.getComputedStyle(p),ve=parseInt(oe.paddingTop,10),le=parseInt(oe.paddingBottom,10),Ie=A.top+A.height/2-Pe,Ve=N-Ie,Oe=v.offsetHeight/2,$=v.offsetTop+Oe,te=O+M+$,me=V-te;if(te<=Ie){const K=E.length>0&&v===E[E.length-1].ref.current;c.style.bottom="0px";const J=u.clientHeight-p.offsetTop-p.offsetHeight,ae=Math.max(Ve,Oe+(K?le:0)+J+D),Ce=te+ae;c.style.height=Ce+"px"}else{const K=E.length>0&&v===E[0].ref.current;c.style.top="0px";const ae=Math.max(Ie,O+p.offsetTop+(K?ve:0)+Oe)+me;c.style.height=ae+"px",p.scrollTop=te-Ie+p.offsetTop}c.style.margin=`${Pe}px 0`,c.style.minHeight=ce+"px",c.style.maxHeight=N+"px",s==null||s(),requestAnimationFrame(()=>x.current=!0)}},[h,a.trigger,a.valueNode,c,u,p,v,y,a.dir,s]);fe(()=>w(),[w]);const[S,C]=l.useState();fe(()=>{u&&C(window.getComputedStyle(u).zIndex)},[u]);const _=l.useCallback(A=>{A&&g.current===!0&&(w(),b==null||b(),g.current=!1)},[w,b]);return r.jsx(bu,{scope:n,contentWrapper:c,shouldExpandOnScrollRef:x,onScrollButtonChange:_,children:r.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:r.jsx(H.div,{...o,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});Jo.displayName=vu;var yu="SelectPopperPosition",Ur=l.forwardRef((e,t)=>{const{__scopeSelect:n,align:s="start",collisionPadding:o=Pe,...a}=e,i=pr(n);return r.jsx(pd,{...i,...a,ref:t,align:s,collisionPadding:o,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Ur.displayName=yu;var[bu,bn]=At(ct,{}),Vr="SelectViewport",Zo=l.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:s,...o}=e,a=rt(Vr,n),i=bn(Vr,n),c=re(t,a.onViewportChange),d=l.useRef(0);return r.jsxs(r.Fragment,{children:[r.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),r.jsx(mr.Slot,{scope:n,children:r.jsx(H.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:X(o.onScroll,u=>{const f=u.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:h}=i;if(h!=null&&h.current&&m){const x=Math.abs(d.current-f.scrollTop);if(x>0){const g=window.innerHeight-Pe*2,p=parseFloat(m.style.minHeight),v=parseFloat(m.style.height),y=Math.max(p,v);if(y<g){const b=y+x,w=Math.min(g,b),S=b-w;m.style.height=w+"px",m.style.bottom==="0px"&&(f.scrollTop=S>0?S:0,m.style.justifyContent="flex-end")}}}d.current=f.scrollTop})})})]})});Zo.displayName=Vr;var ea="SelectGroup",[wu,ju]=At(ea),Su=l.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,o=xt();return r.jsx(wu,{scope:n,id:o,children:r.jsx(H.div,{role:"group","aria-labelledby":o,...s,ref:t})})});Su.displayName=ea;var ta="SelectLabel",Nu=l.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,o=ju(ta,n);return r.jsx(H.div,{id:o.id,...s,ref:t})});Nu.displayName=ta;var sr="SelectItem",[Cu,ra]=At(sr),na=l.forwardRef((e,t)=>{const{__scopeSelect:n,value:s,disabled:o=!1,textValue:a,...i}=e,c=tt(sr,n),d=rt(sr,n),u=c.value===s,[f,m]=l.useState(a??""),[h,x]=l.useState(!1),g=re(t,b=>{var w;return(w=d.itemRefCallback)==null?void 0:w.call(d,b,s,o)}),p=xt(),v=l.useRef("touch"),y=()=>{o||(c.onValueChange(s),c.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return r.jsx(Cu,{scope:n,value:s,disabled:o,textId:p,isSelected:u,onItemTextChange:l.useCallback(b=>{m(w=>w||((b==null?void 0:b.textContent)??"").trim())},[]),children:r.jsx(mr.ItemSlot,{scope:n,value:s,disabled:o,textValue:f,children:r.jsx(H.div,{role:"option","aria-labelledby":p,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...i,ref:g,onFocus:X(i.onFocus,()=>x(!0)),onBlur:X(i.onBlur,()=>x(!1)),onClick:X(i.onClick,()=>{v.current!=="mouse"&&y()}),onPointerUp:X(i.onPointerUp,()=>{v.current==="mouse"&&y()}),onPointerDown:X(i.onPointerDown,b=>{v.current=b.pointerType}),onPointerMove:X(i.onPointerMove,b=>{var w;v.current=b.pointerType,o?(w=d.onItemLeave)==null||w.call(d):v.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:X(i.onPointerLeave,b=>{var w;b.currentTarget===document.activeElement&&((w=d.onItemLeave)==null||w.call(d))}),onKeyDown:X(i.onKeyDown,b=>{var S;((S=d.searchRef)==null?void 0:S.current)!==""&&b.key===" "||(lu.includes(b.key)&&y(),b.key===" "&&b.preventDefault())})})})})});na.displayName=sr;var Pt="SelectItemText",sa=l.forwardRef((e,t)=>{const{__scopeSelect:n,className:s,style:o,...a}=e,i=tt(Pt,n),c=rt(Pt,n),d=ra(Pt,n),u=mu(Pt,n),[f,m]=l.useState(null),h=re(t,y=>m(y),d.onItemTextChange,y=>{var b;return(b=c.itemTextRefCallback)==null?void 0:b.call(c,y,d.value,d.disabled)}),x=f==null?void 0:f.textContent,g=l.useMemo(()=>r.jsx("option",{value:d.value,disabled:d.disabled,children:x},d.value),[d.disabled,d.value,x]),{onNativeOptionAdd:p,onNativeOptionRemove:v}=u;return fe(()=>(p(g),()=>v(g)),[p,v,g]),r.jsxs(r.Fragment,{children:[r.jsx(H.span,{id:d.textId,...a,ref:h}),d.isSelected&&i.valueNode&&!i.valueNodeHasChildren?Ot.createPortal(a.children,i.valueNode):null]})});sa.displayName=Pt;var oa="SelectItemIndicator",aa=l.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e;return ra(oa,n).isSelected?r.jsx(H.span,{"aria-hidden":!0,...s,ref:t}):null});aa.displayName=oa;var Hr="SelectScrollUpButton",ia=l.forwardRef((e,t)=>{const n=rt(Hr,e.__scopeSelect),s=bn(Hr,e.__scopeSelect),[o,a]=l.useState(!1),i=re(t,s.onScrollButtonChange);return fe(()=>{if(n.viewport&&n.isPositioned){let c=function(){const u=d.scrollTop>0;a(u)};const d=n.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),o?r.jsx(la,{...e,ref:i,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=n;c&&d&&(c.scrollTop=c.scrollTop-d.offsetHeight)}}):null});ia.displayName=Hr;var qr="SelectScrollDownButton",ca=l.forwardRef((e,t)=>{const n=rt(qr,e.__scopeSelect),s=bn(qr,e.__scopeSelect),[o,a]=l.useState(!1),i=re(t,s.onScrollButtonChange);return fe(()=>{if(n.viewport&&n.isPositioned){let c=function(){const u=d.scrollHeight-d.clientHeight,f=Math.ceil(d.scrollTop)<u;a(f)};const d=n.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),o?r.jsx(la,{...e,ref:i,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=n;c&&d&&(c.scrollTop=c.scrollTop+d.offsetHeight)}}):null});ca.displayName=qr;var la=l.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:s,...o}=e,a=rt("SelectScrollButton",n),i=l.useRef(null),c=hr(n),d=l.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return l.useEffect(()=>()=>d(),[d]),fe(()=>{var f;const u=c().find(m=>m.ref.current===document.activeElement);(f=u==null?void 0:u.ref.current)==null||f.scrollIntoView({block:"nearest"})},[c]),r.jsx(H.div,{"aria-hidden":!0,...o,ref:t,style:{flexShrink:0,...o.style},onPointerDown:X(o.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(s,50))}),onPointerMove:X(o.onPointerMove,()=>{var u;(u=a.onItemLeave)==null||u.call(a),i.current===null&&(i.current=window.setInterval(s,50))}),onPointerLeave:X(o.onPointerLeave,()=>{d()})})}),Au="SelectSeparator",Eu=l.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e;return r.jsx(H.div,{"aria-hidden":!0,...s,ref:t})});Eu.displayName=Au;var Qr="SelectArrow",_u=l.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,o=pr(n),a=tt(Qr,n),i=rt(Qr,n);return a.open&&i.position==="popper"?r.jsx(gd,{...o,...s,ref:t}):null});_u.displayName=Qr;var Tu="SelectBubbleInput",da=l.forwardRef(({__scopeSelect:e,value:t,...n},s)=>{const o=l.useRef(null),a=re(s,o),i=wd(t);return l.useEffect(()=>{const c=o.current;if(!c)return;const d=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(d,"value").set;if(i!==t&&f){const m=new Event("change",{bubbles:!0});f.call(c,t),c.dispatchEvent(m)}},[i,t]),r.jsx(H.select,{...n,style:{...ko,...n.style},ref:a,defaultValue:t})});da.displayName=Tu;function ua(e){return e===""||e===void 0}function fa(e){const t=xe(e),n=l.useRef(""),s=l.useRef(0),o=l.useCallback(i=>{const c=n.current+i;t(c),function d(u){n.current=u,window.clearTimeout(s.current),u!==""&&(s.current=window.setTimeout(()=>d(""),1e3))}(c)},[t]),a=l.useCallback(()=>{n.current="",window.clearTimeout(s.current)},[]);return l.useEffect(()=>()=>window.clearTimeout(s.current),[]),[n,o,a]}function ma(e,t,n){const o=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let i=Pu(e,Math.max(a,0));o.length===1&&(i=i.filter(u=>u!==n));const d=i.find(u=>u.textValue.toLowerCase().startsWith(o.toLowerCase()));return d!==n?d:void 0}function Pu(e,t){return e.map((n,s)=>e[(t+s)%e.length])}var ku=Wo,Ru=Vo,Mu=qo,Iu=Qo,Ou=Go,Lu=Yo,Du=Zo,$u=na,zu=sa,Bu=aa,Fu=ia,Wu=ca;function Gr({...e}){return r.jsx(ku,{"data-slot":"select",...e})}function Yr({...e}){return r.jsx(Mu,{"data-slot":"select-value",...e})}function Kr({className:e,size:t="default",children:n,...s}){return r.jsxs(Ru,{"data-slot":"select-trigger","data-size":t,className:se("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...s,children:[n,r.jsx(Iu,{asChild:!0,children:r.jsx(Zr,{className:"size-4 opacity-50"})})]})}function Xr({className:e,children:t,position:n="popper",...s}){return r.jsx(Ou,{children:r.jsxs(Lu,{"data-slot":"select-content",className:se("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...s,children:[r.jsx(Uu,{}),r.jsx(Du,{className:se("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),r.jsx(Vu,{})]})})}function ye({className:e,children:t,...n}){return r.jsxs($u,{"data-slot":"select-item",className:se("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...n,children:[r.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:r.jsx(Bu,{children:r.jsx(Ua,{className:"size-4"})})}),r.jsx(zu,{children:t})]})}function Uu({className:e,...t}){return r.jsx(Fu,{"data-slot":"select-scroll-up-button",className:se("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(bs,{className:"size-4"})})}function Vu({className:e,...t}){return r.jsx(Wu,{"data-slot":"select-scroll-down-button",className:se("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(Zr,{className:"size-4"})})}const Hu=()=>{const{login:e,register:t,loading:n}=Ze(),{t:s}=$e(),[o,a]=l.useState(!0),[i,c]=l.useState({email:"",password:"",name:"",role:"student"}),d=async m=>{if(m.preventDefault(),!i.email||!i.password){Z.error("Пожалуйста, заполните все поля");return}try{if(o)await e(i.email,i.password),Z.success("Успешный вход в систему"),window.dispatchEvent(new CustomEvent("app:navigate",{detail:{page:"home"}}));else{if(!i.name){Z.error("Пожалуйста, введите имя");return}await t(i.email,i.password,i.name,i.role),Z.success("Регистрация успешна"),window.dispatchEvent(new CustomEvent("app:navigate",{detail:{page:"home"}}))}}catch(h){Z.error(h.message||"Произошла ошибка")}},u=(m,h)=>{c(x=>({...x,[m]:h}))},f=()=>{a(!o),c({email:"",password:"",name:"",role:"student"})};return r.jsx("div",{className:"min-h-screen flex items-center justify-center px-4 py-8",children:r.jsxs(F,{className:"w-full max-w-md",children:[r.jsx(G,{className:"space-y-1",children:r.jsx(Y,{className:"text-2xl text-center",children:s(o?"auth.login":"auth.register")})}),r.jsxs(W,{children:[r.jsxs("form",{onSubmit:d,className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Ae,{htmlFor:"email",children:s("auth.email")}),r.jsxs("div",{className:"relative",children:[r.jsx(ws,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),r.jsx(je,{id:"email",type:"email",placeholder:s("auth.email"),value:i.email,onChange:m=>u("email",m.target.value),className:"pl-10",required:!0})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Ae,{htmlFor:"password",children:s("auth.password")}),r.jsxs("div",{className:"relative",children:[r.jsx(Va,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),r.jsx(je,{id:"password",type:"password",placeholder:s("auth.password"),value:i.password,onChange:m=>u("password",m.target.value),className:"pl-10",required:!0})]})]}),!o&&r.jsxs("div",{className:"space-y-2",children:[r.jsx(Ae,{htmlFor:"name",children:s("auth.name")}),r.jsxs("div",{className:"relative",children:[r.jsx(ys,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),r.jsx(je,{id:"name",type:"text",placeholder:s("auth.name"),value:i.name,onChange:m=>u("name",m.target.value),className:"pl-10",required:!0})]})]}),!o&&r.jsxs("div",{className:"space-y-2",children:[r.jsx(Ae,{children:s("auth.role")}),r.jsxs(Gr,{value:i.role,onValueChange:m=>u("role",m),children:[r.jsx(Kr,{className:"w-full",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Ha,{className:"h-4 w-4 mr-2 text-gray-400"}),r.jsx(Yr,{})]})}),r.jsxs(Xr,{children:[r.jsx(ye,{value:"student",children:s("auth.student")}),r.jsx(ye,{value:"teacher",children:s("auth.teacher")}),r.jsx(ye,{value:"tutor",children:s("auth.tutor")})]})]})]}),r.jsx(z,{type:"submit",className:"w-full",disabled:n,children:s(n?"common.loading":"auth.submit")})]}),r.jsx("div",{className:"mt-4 text-center",children:r.jsx(z,{variant:"link",onClick:f,className:"text-sm text-blue-600 hover:text-blue-800",children:s(o?"auth.switchToRegister":"auth.switchToLogin")})})]})]})})},wn="ent_template_current_v1",It={id:"ent-default-2025",name:"ENT Default 2025",description:"Шаблон, приближенный к структуре ЕНТ. Включает обязательные секции: История Казахстана и Математическая грамотность.",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),version:1,tracks:{math:{sections:[{id:"history-kz",title:"История Казахстана",key:"history_kz",numQuestions:20,timeLimitMinutes:20,questionTypes:["multiple_choice","multi_select"],mandatory:!0},{id:"math-literacy",title:"Математическая грамотность",key:"math_literacy",numQuestions:15,timeLimitMinutes:20,questionTypes:["multiple_choice","numeric","latex"],mandatory:!0},{id:"math-profile",title:"Профильная математика",key:"math_profile",numQuestions:40,timeLimitMinutes:100,questionTypes:["multiple_choice","multi_select","numeric","latex","image"],mandatory:!1}],totalTimeMinutes:140},physics:{sections:[{id:"history-kz",title:"История Казахстана",key:"history_kz",numQuestions:20,timeLimitMinutes:20,questionTypes:["multiple_choice","multi_select"],mandatory:!0},{id:"math-literacy",title:"Математическая грамотность",key:"math_literacy",numQuestions:15,timeLimitMinutes:20,questionTypes:["multiple_choice","numeric","latex"],mandatory:!0},{id:"physics-profile",title:"Профильная физика",key:"physics_profile",numQuestions:40,timeLimitMinutes:100,questionTypes:["multiple_choice","multi_select","numeric","latex","image"],mandatory:!1}],totalTimeMinutes:140}}};function jn(){try{const e=localStorage.getItem(wn);return e?JSON.parse(e):It}catch{return It}}function ha(e){const t={...e,updatedAt:new Date().toISOString()};localStorage.setItem(wn,JSON.stringify(t))}function qu(){localStorage.removeItem(wn)}const Qu=Object.freeze(Object.defineProperty({__proto__:null,DEFAULT_ENT_TEMPLATE:It,loadEntTemplate:jn,resetEntTemplate:qu,saveEntTemplate:ha},Symbol.toStringTag,{value:"Module"})),Gu=({text:e,className:t})=>{const n=l.useRef(null);return l.useEffect(()=>{const s=n.current;if(!s)return;s.innerHTML=e.replace(/\n/g,"<br/>");const o=window.MathJax;o!=null&&o.typesetPromise&&o.typesetPromise([s]).catch(()=>{})},[e]),r.jsx("div",{ref:n,className:t,"aria-label":"math-content"})};var gr="Dialog",[pa,fm]=ut(gr),[Yu,Me]=pa(gr),ga=e=>{const{__scopeDialog:t,children:n,open:s,defaultOpen:o,onOpenChange:a,modal:i=!0}=e,c=l.useRef(null),d=l.useRef(null),[u,f]=Fr({prop:s,defaultProp:o??!1,onChange:a,caller:gr});return r.jsx(Yu,{scope:t,triggerRef:c,contentRef:d,contentId:xt(),titleId:xt(),descriptionId:xt(),open:u,onOpenChange:f,onOpenToggle:l.useCallback(()=>f(m=>!m),[f]),modal:i,children:n})};ga.displayName=gr;var xa="DialogTrigger",va=l.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,o=Me(xa,n),a=re(t,o.triggerRef);return r.jsx(H.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":Cn(o.open),...s,ref:a,onClick:X(e.onClick,o.onOpenToggle)})});va.displayName=xa;var Sn="DialogPortal",[Ku,ya]=pa(Sn,{forceMount:void 0}),ba=e=>{const{__scopeDialog:t,forceMount:n,children:s,container:o}=e,a=Me(Sn,t);return r.jsx(Ku,{scope:t,forceMount:n,children:l.Children.map(s,i=>r.jsx(et,{present:n||a.open,children:r.jsx(yn,{asChild:!0,container:o,children:i})}))})};ba.displayName=Sn;var or="DialogOverlay",wa=l.forwardRef((e,t)=>{const n=ya(or,e.__scopeDialog),{forceMount:s=n.forceMount,...o}=e,a=Me(or,e.__scopeDialog);return a.modal?r.jsx(et,{present:s||a.open,children:r.jsx(Ju,{...o,ref:t})}):null});wa.displayName=or;var Xu=bt("DialogOverlay.RemoveScroll"),Ju=l.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,o=Me(or,n);return r.jsx(Fo,{as:Xu,allowPinchZoom:!0,shards:[o.contentRef],children:r.jsx(H.div,{"data-state":Cn(o.open),...s,ref:t,style:{pointerEvents:"auto",...s.style}})})}),lt="DialogContent",ja=l.forwardRef((e,t)=>{const n=ya(lt,e.__scopeDialog),{forceMount:s=n.forceMount,...o}=e,a=Me(lt,e.__scopeDialog);return r.jsx(et,{present:s||a.open,children:a.modal?r.jsx(Zu,{...o,ref:t}):r.jsx(ef,{...o,ref:t})})});ja.displayName=lt;var Zu=l.forwardRef((e,t)=>{const n=Me(lt,e.__scopeDialog),s=l.useRef(null),o=re(t,n.contentRef,s);return l.useEffect(()=>{const a=s.current;if(a)return Mo(a)},[]),r.jsx(Sa,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:X(e.onCloseAutoFocus,a=>{var i;a.preventDefault(),(i=n.triggerRef.current)==null||i.focus()}),onPointerDownOutside:X(e.onPointerDownOutside,a=>{const i=a.detail.originalEvent,c=i.button===0&&i.ctrlKey===!0;(i.button===2||c)&&a.preventDefault()}),onFocusOutside:X(e.onFocusOutside,a=>a.preventDefault())})}),ef=l.forwardRef((e,t)=>{const n=Me(lt,e.__scopeDialog),s=l.useRef(!1),o=l.useRef(!1);return r.jsx(Sa,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var i,c;(i=e.onCloseAutoFocus)==null||i.call(e,a),a.defaultPrevented||(s.current||(c=n.triggerRef.current)==null||c.focus(),a.preventDefault()),s.current=!1,o.current=!1},onInteractOutside:a=>{var d,u;(d=e.onInteractOutside)==null||d.call(e,a),a.defaultPrevented||(s.current=!0,a.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const i=a.target;((u=n.triggerRef.current)==null?void 0:u.contains(i))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&o.current&&a.preventDefault()}})}),Sa=l.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:a,...i}=e,c=Me(lt,n),d=l.useRef(null),u=re(t,d);return ao(),r.jsxs(r.Fragment,{children:[r.jsx(ln,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:o,onUnmountAutoFocus:a,children:r.jsx(cn,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":Cn(c.open),...i,ref:u,onDismiss:()=>c.onOpenChange(!1)})}),r.jsxs(r.Fragment,{children:[r.jsx(rf,{titleId:c.titleId}),r.jsx(sf,{contentRef:d,descriptionId:c.descriptionId})]})]})}),Nn="DialogTitle",Na=l.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,o=Me(Nn,n);return r.jsx(H.h2,{id:o.titleId,...s,ref:t})});Na.displayName=Nn;var Ca="DialogDescription",tf=l.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,o=Me(Ca,n);return r.jsx(H.p,{id:o.descriptionId,...s,ref:t})});tf.displayName=Ca;var Aa="DialogClose",Ea=l.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,o=Me(Aa,n);return r.jsx(H.button,{type:"button",...s,ref:t,onClick:X(e.onClick,()=>o.onOpenChange(!1))})});Ea.displayName=Aa;function Cn(e){return e?"open":"closed"}var _a="DialogTitleWarning",[mm,Ta]=Zi(_a,{contentName:lt,titleName:Nn,docsSlug:"dialog"}),rf=({titleId:e})=>{const t=Ta(_a),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return l.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},nf="DialogDescriptionWarning",sf=({contentRef:e,descriptionId:t})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Ta(nf).contentName}}.`;return l.useEffect(()=>{var a;const o=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&o&&(document.getElementById(t)||console.warn(s))},[s,e,t]),null},of=ga,af=va,cf=ba,lf=wa,df=ja,uf=Na,ff=Ea;function mf({...e}){return r.jsx(of,{"data-slot":"dialog",...e})}function hf({...e}){return r.jsx(af,{"data-slot":"dialog-trigger",...e})}function pf({...e}){return r.jsx(cf,{"data-slot":"dialog-portal",...e})}function gf({className:e,...t}){return r.jsx(lf,{"data-slot":"dialog-overlay",className:se("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function xf({className:e,children:t,...n}){return r.jsxs(pf,{"data-slot":"dialog-portal",children:[r.jsx(gf,{}),r.jsxs(df,{"data-slot":"dialog-content",className:se("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...n,children:[t,r.jsxs(ff,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[r.jsx(js,{}),r.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function vf({className:e,...t}){return r.jsx("div",{"data-slot":"dialog-header",className:se("flex flex-col gap-2 text-center sm:text-left",e),...t})}function yf({className:e,...t}){return r.jsx(uf,{"data-slot":"dialog-title",className:se("text-lg leading-none font-semibold",e),...t})}function Pa({className:e,...t}){return r.jsx("textarea",{"data-slot":"textarea",className:se("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...t})}let fs=!1;async function bf(e){const{getDocument:t,GlobalWorkerOptions:n}=await pt(()=>import("./pdf-c01a24c3.js"),["assets/pdf-c01a24c3.js","assets/vendor-dd3c4855.js","assets/charts-3c6eb5ce.js","assets/ui-ae324378.js","assets/motion-6ccf754a.js"]);if(!fs){try{n.workerSrc=new URL("/assets/pdf.worker.min-1baa1844.mjs",self.location).toString()}catch{}fs=!0}const s=await e.arrayBuffer(),a=await t({data:s}).promise;let i="";for(let c=1;c<=a.numPages;c++){const f=((await(await a.getPage(c)).getTextContent()).items||[]).map(m=>typeof m.str=="string"?m.str:"").join(" ");i+=`
${f}
`}return i}function wf(e){var o;const n=e.replace(/\r/g,"").replace(/\u00A0/g," ").replace(/\s{2,}/g," ").trim().split(/(?:(?:^|\s)(\d{1,3})\.)\s/g),s=[];for(let a=1;a<n.length;a+=2){const i=n[a],c=n[a+1]||"";if(!i||!c)continue;const d=c.split(/(?=\s?[A-DА-Г]\)\s)/g),u=((o=d.shift())==null?void 0:o.trim())||c.trim(),f=[];for(const m of d){const h=m.match(/^[A-DА-Г]\)\s*(.*)$/);h&&f.push(h[1].trim())}if(f.length>=2){const m={id:`import-hist-${i}`,question:u,type:"multiple_choice",options:f.slice(0,6),correct_answer:0,correctAnswer:0,subject:"history_kz",difficulty:"medium"};s.push(m)}}return s}const jf=({onImported:e})=>{const[t,n]=l.useState(!1),[s,o]=l.useState("history_kz"),[a,i]=l.useState(null),[c,d]=l.useState(""),[u,f]=l.useState(""),[m,h]=l.useState(!1),[x,g]=l.useState(0),[p,v]=l.useState([]),y=async()=>{try{h(!0);let w=[];if(a){if(a.type==="application/pdf"||a.name.toLowerCase().endsWith(".pdf")){const _=await bf(a);w=wf(_)}else if(a.name.toLowerCase().endsWith(".json")){const _=JSON.parse(await a.text());w=Array.isArray(_)?_:_.questions||[]}else if(a.name.toLowerCase().endsWith(".csv")){const A=(await a.text()).split(/\n+/);for(const R of A){const k=R.split(/,|;\t?/).map(j=>j.trim());if(k.length>=6){const[j,E,N,P,T,O]=k,M=["A","B","C","D","a","b","c","d"].indexOf(O),D=M===-1?0:M%4;w.push({id:`import-${Math.random().toString(36).slice(2)}`,question:j,type:"multiple_choice",options:[E,N,P,T],correct_answer:D,correctAnswer:D})}}}}else if(c.trim()){const _=JSON.parse(c);w=Array.isArray(_)?_:_.questions||[]}const S=u.split(/[,\s]+/).map(_=>_.trim().toUpperCase()).filter(Boolean).map(_=>["A","B","C","D","E","F"].indexOf(_)),C=w.map((_,A)=>{const R=Number.isInteger(S[A])&&S[A]>=0?S[A]:typeof _.correct_answer=="number"?_.correct_answer:0;return{..._,subject:s,correct_answer:R,correctAnswer:R}});v(C),g(C.length)}catch(w){console.error(w),v([]),g(0)}finally{h(!1)}},b=async()=>{p.length&&(await be.importENTQuestions(s,p),n(!1),v([]),g(0),e&&e())};return r.jsxs(mf,{open:t,onOpenChange:n,children:[r.jsx(hf,{asChild:!0,children:r.jsx(z,{variant:"outline",children:"Загрузить вопросы (PDF/JSON/CSV)"})}),r.jsxs(xf,{className:"sm:max-w-xl",children:[r.jsx(vf,{children:r.jsx(yf,{children:"Импорт вопросов ЕНТ"})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid gap-2",children:[r.jsx("label",{className:"text-sm font-medium",children:"Предмет (ENT ключ)"}),r.jsxs("select",{className:"border rounded px-2 py-2 text-sm",value:s,onChange:w=>o(w.target.value),children:[r.jsx("option",{value:"history_kz",children:"История Казахстана"}),r.jsx("option",{value:"math_literacy",children:"Математическая грамотность"}),r.jsx("option",{value:"math_profile",children:"Профильная математика"}),r.jsx("option",{value:"physics_profile",children:"Профильная физика"})]})]}),r.jsxs("div",{className:"grid gap-2",children:[r.jsx("label",{className:"text-sm font-medium",children:"Файл (PDF/JSON/CSV)"}),r.jsx(je,{type:"file",accept:".pdf,.json,.csv",onChange:w=>{var S;return i(((S=w.target.files)==null?void 0:S[0])||null)}})]}),r.jsxs("div",{className:"grid gap-2",children:[r.jsx("label",{className:"text-sm font-medium",children:"Или вставьте JSON массив вопросов"}),r.jsx(Pa,{value:c,onChange:w=>d(w.target.value),rows:4})]}),r.jsxs("div",{className:"grid gap-2",children:[r.jsx("label",{className:"text-sm font-medium",children:"Ключ ответов (опционально, через пробел/запятую, напр. A B C D ...)"}),r.jsx(je,{value:u,onChange:w=>f(w.target.value),placeholder:"A B C D ..."})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(z,{onClick:y,disabled:m,children:"Распознать"}),r.jsxs("span",{className:"text-sm text-gray-600",children:["Найдено: ",x]})]}),r.jsx("div",{className:"flex items-center gap-2 justify-end",children:r.jsx(z,{onClick:b,disabled:!p.length,children:"Импортировать"})})]})]})]})},Sf=()=>{const{t:e}=$e(),{language:t,setLanguage:n}=$e();Ze();const[s,o]=l.useState([]),[a,i]=l.useState(!0),[c,d]=l.useState(!1),[u,f]=l.useState(0),[m,h]=l.useState(null),[x,g]=l.useState([]),[p,v]=l.useState([]),[y,b]=l.useState(!1),[w,S]=l.useState(900),[C,_]=l.useState(Date.now()),[A,R]=l.useState(0),[k,j]=l.useState(0),[E,N]=l.useState(!1),[P,T]=l.useState("practice"),[O,M]=l.useState(!1),[D,L]=l.useState("math"),[V,ce]=l.useState([]),[oe,ve]=l.useState({}),[le,Ie]=l.useState(""),[Ve,Oe]=l.useState(!1);l.useEffect(()=>{$()},[D]),l.useEffect(()=>{let I;return c&&!y&&P==="timed"&&(I=setInterval(()=>{S(B=>B<=1?(K(),0):B-1)},1e3)),()=>clearInterval(I)},[c,y,P]);const $=async()=>{try{const B=jn().tracks[D],q=await be.getQuestions(),he={history:"history_kz",mathematics:"math_profile",physics:"physics_profile",math_literacy:"math_literacy"},U=de=>he[de.subject]||de.subject;let ie=[];const ue=[];for(const de of B.sections){const pe=q.filter(He=>U(He)===de.key&&(!He.lang||He.lang===t)),Et=(pe.length?pe:q.filter(He=>(He.subject||"").toLowerCase().includes(de.key.split("_")[0]))).slice(0,de.numQuestions);ie=ie.concat(Et),ue.push({key:de.key,title:de.title,count:Et.length,mandatory:!!de.mandatory})}ie.length===0&&(ie=q),o(ie),ce(ue)}catch(I){console.error("Error loading questions:",I),Z.error("Ошибка загрузки вопросов")}finally{i(!1)}},te=async()=>{M(!0);try{const B=(await be.generateENTQuiz(D,{maxPerSection:20})).questions.filter(q=>q.subject==="history_kz").slice(0,20);if(B.length===0){Z.error("Не удалось сформировать вопросы по Истории Казахстана");return}o(B),T("ai-generated"),d(!0),f(0),v([]),b(!1),h(null),g([]),_(Date.now()),R(0),Z.success("История Казахстана: 20 вопросов")}catch(I){console.error("Error generating History KZ questions:",I),Z.error("Ошибка генерации вопросов Истории Казахстана")}finally{M(!1)}},me=I=>{T(I),d(!0),f(0),v([]),b(!1),h(null),g([]),_(Date.now()),R(0);const B=240*60;S(I==="timed"?B:0),Z.success(`Тест запущен в режиме: ${I==="practice"?"Практика":I==="timed"?"На время":"ИИ тест"}`)},ee=()=>{const I=s[u],B=Date.now()-C;let q=!1;if(I.type==="multi_select"){const U=Array.isArray(I.correct_answer)?I.correct_answer:[],ie=[...x].sort(),ue=[...U].sort();q=ie.length>0&&ie.length===ue.length&&ie.every((de,pe)=>de===ue[pe])}else{if(m===null)return;q=m===I.correctAnswer}const he={questionId:I.id,selectedAnswer:I.type==="multi_select"?x:m,isCorrect:q,timeSpent:B};v(U=>[...U,he]),R(U=>U+B),ve(U=>({...U,[u]:!0})),u<s.length-1?(f(U=>U+1),h(null),g([]),_(Date.now())):K()},K=async()=>{var B,q,he,U;b(!0);const I=p.filter(ie=>ie.isCorrect).length;j(I);try{const ie=p.map(ue=>({questionId:ue.questionId,selectedAnswer:ue.selectedAnswer,correct:ue.isCorrect}));await be.submitTest({answers:ie,score:I,total:s.length,timeSpent:Math.round(A/1e3),subject:((B=s[0])==null?void 0:B.subject)||"general",difficulty:((q=s[0])==null?void 0:q.difficulty)||"medium"}),Z.success("Результаты сохранены!");try{Oe(!0);const ue=(await be.getResults()).sort((de,pe)=>new Date(pe.completed_at).getTime()-new Date(de.completed_at).getTime())[0];if(ue){const de=Array.isArray(ue.answers)?ue.answers.length:s.length,pe=Array.isArray(ue.answers)?ue.answers.filter(za=>za.correct).length:I,$t={subject:((he=ue.test_id)==null?void 0:he.replace("test-",""))||((U=s[0])==null?void 0:U.subject)||"overall",percentage:Math.round(pe/de*100),correct:pe,total:de,timeSpent:ue.time_spent,strengths:[],weaknesses:[],topics:[],homework:[]},xr=t==="kz"?`Сен — ЕНТ бойынша талапшыл әрі қолдаушы тьюторсың. Нәтиже JSON-ына талдау жасап, нақты ұсыныстар бер.

Жауап форматы (қысқа, нақты, маркерленген):
1) Қорытынды: пайыз, вердикт (>=90 Өте жақсы, 70–89 Жақсы, 50–69 Қанағаттанарлық, <50 Базаны күшейту керек) және уақыт.
2) Күшті жақтар — 3–5 тармақ (тақырып/дағды бойынша).
3) Әлсіз жақтар — 3–5 тармақ (білім, ұқыпсыздық, уақытты басқару).
4) Ұсынымдар — 3–5 нақты әрекет (қанша тапсырма, қандай тәсіл, қандай қателерге назар аудару).
5) Үй тапсырмасы — 5–7 тармақ: тақырып → тапсырма саны/уақыты, тапсырма түрі (тест/есеп/график), бақылау (порог %).
6) 7 күндік жоспар — әр күн: тақырыптар/минуттар/мақсатты нәтиже.
7) Келесі пробниктен өтуге дайындық — иә/жоқ және өту порогы.

Талаптар: қазақ тілінде, артық сөзсіз, барынша нақты. Дерек жетіспесе — «мүмкін» деп белгіле.`:`Ты — строгий, но доброжелательный тьютор ЕНТ. Проанализируй JSON с результатами и дай практичные рекомендации.

Формат ответа (кратко, по делу, списками):
1) Итог: процент, вердикт (>=90 Отлично, 70–89 Хорошо, 50–69 Удовлетворительно, <50 Нужна базовая подготовка) и время.
2) Сильные стороны — 3–5 буллетов (по темам/навыкам).
3) Слабые стороны — 3–5 буллетов (темы/ошибки: знание, невнимательность, тайм‑менеджмент).
4) Рекомендации — 3–5 конкретных действий (как тренировать, сколько задач, на что смотреть в решениях).
5) Домашнее задание — 5–7 пунктов: тема → кол-во задач/время, тип задач (тестовые/расчёт/графики), контроль (порог %).
6) План на 7 дней — каждый день: темы/минуты/целевой результат.
7) Готовность к следующему пробнику — да/нет и целевой порог, когда переходить.

Требования: русский язык, без лишней «воды», максимум конкретики. Если данных мало — сделай пометки «вероятно».`,vr=await be.chatWithAI(xr,`ANALYZE_TEST_RESULTS: ${JSON.stringify($t)}`,t);Ie(vr.response)}}catch{}finally{Oe(!1)}}catch(ie){console.error("Error submitting test:",ie),Z.error("Ошибка сохранения результатов")}},J=I=>{const B=Math.floor(I/60),q=I%60;return`${B.toString().padStart(2,"0")}:${q.toString().padStart(2,"0")}`},ae=l.useMemo(()=>{const I=[];let B=0;for(const q of V){const he=B,U=B+q.count-1;q.count>0&&I.push({start:he,end:U,key:q.key,title:q.title,mandatory:q.mandatory}),B+=q.count}return I},[V]),Ce=l.useMemo(()=>ae.findIndex(I=>u>=I.start&&u<=I.end),[ae,u]),_e=ae[Ce]||null,nt=()=>{d(!1),b(!1),f(0),h(null),v([]),j(0),R(0),N(!1)};if(a)return r.jsx("div",{className:"container mx-auto px-4 py-8",children:r.jsx("div",{className:"flex items-center justify-center",children:r.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})})});if(!c)return r.jsx("div",{className:"container mx-auto px-4 py-8",children:r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsx("h1",{className:"text-3xl mb-2 text-center",children:e("tests.title")}),r.jsx("p",{className:"text-center text-gray-600 mb-8",children:"Подготовка к ЕНТ по направлениям «Математика» и «Физика». Обязательные секции (История Казахстана, Математическая грамотность) включаются автоматически."}),r.jsxs(F,{className:"mb-6",children:[r.jsx(G,{children:r.jsx(Y,{children:"Направление подготовки"})}),r.jsxs(W,{children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Язык / Тіл:"}),r.jsx(z,{size:"sm",variant:t==="ru"?"default":"outline",onClick:()=>n("ru"),children:"Рус"}),r.jsx(z,{size:"sm",variant:t==="kz"?"default":"outline",onClick:()=>n("kz"),children:"Қаз"})]}),r.jsxs("div",{className:"flex gap-2 opacity-50 pointer-events-none",role:"radiogroup","aria-label":"Track",children:[r.jsx(z,{"aria-checked":D==="math",role:"radio",variant:D==="math"?"default":"outline",children:"Математика"}),r.jsx(z,{"aria-checked":D==="physics",role:"radio",variant:D==="physics"?"default":"outline",children:"Физика"})]}),r.jsx("div",{className:"mt-4 text-sm text-gray-600",children:"Обязательные секции: История Казахстана и Математическая грамотность. Направление профиля временно фиксировано."}),V.length>0&&r.jsx("div",{className:"mt-6 grid gap-3 sm:grid-cols-2",children:V.map(I=>{var B;return r.jsxs("div",{className:"p-3 rounded border bg-gray-50",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"font-medium",children:I.title}),I.mandatory&&r.jsx(ge,{variant:"secondary",children:"Обязательно"})]}),r.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:["Вопросов: ",I.count," (план: ",((B=It.tracks[D].sections.find(q=>q.key===I.key))==null?void 0:B.numQuestions)||0,")"]})]},I.key)})}),r.jsx("div",{className:"mt-6",children:r.jsx(jf,{onImported:$})})]})]}),r.jsxs("div",{className:"grid gap-6 md:grid-cols-3 lg:grid-cols-3 mb-8",children:[r.jsxs(F,{className:"hover:shadow-lg transition-shadow",children:[r.jsx(G,{children:r.jsxs(Y,{className:"flex items-center gap-2",children:[r.jsx(gt,{className:"h-5 w-5 text-blue-600"}),"Режим практики"]})}),r.jsxs(W,{children:[r.jsx("p",{className:"text-gray-600 mb-4",children:"Изучайте в своем темпе без ограничений по времени"}),r.jsx(z,{onClick:()=>me("practice"),className:"w-full",disabled:s.length===0,children:"Начать практику"})]})]}),r.jsxs(F,{className:"hover:shadow-lg transition-shadow",children:[r.jsx(G,{children:r.jsxs(Y,{className:"flex items-center gap-2",children:[r.jsx(kt,{className:"h-5 w-5 text-orange-600"}),"Тест на время"]})}),r.jsxs(W,{children:[r.jsx("p",{className:"text-gray-600 mb-4",children:"15 минут на прохождение всех вопросов"}),r.jsx(z,{onClick:()=>me("timed"),className:"w-full",variant:"outline",disabled:s.length===0,children:"Начать тест"})]})]}),r.jsxs(F,{className:"hover:shadow-lg transition-shadow",children:[r.jsx(G,{children:r.jsxs(Y,{className:"flex items-center gap-2",children:[r.jsx(qt,{className:"h-5 w-5 text-purple-600"}),"ИИ тест (ЕНТ)"]})}),r.jsxs(W,{children:[r.jsx("p",{className:"text-gray-600 mb-4",children:"Вопросы по структуре ЕНТ, сгенерированные встроенным ИИ (мат/физ), с учетом обязательных секций"}),r.jsxs("div",{className:"grid gap-2",children:[r.jsx(z,{disabled:!0,className:"w-full",variant:"secondary",children:"ИИ тест временно недоступен"}),r.jsx(z,{onClick:te,className:"w-full",variant:"outline",disabled:O,children:"История Казахстана (20 вопросов)"})]})]})]})]}),s.length>0&&r.jsxs(F,{children:[r.jsx(G,{children:r.jsx(Y,{children:"Доступные вопросы"})}),r.jsxs(W,{children:[ae.length>0&&r.jsx("div",{className:"space-y-2 mb-4",children:ae.map((I,B)=>r.jsxs("div",{className:"text-sm text-gray-700",children:[r.jsxs("span",{className:"font-medium",children:[B+1,". ",I.title]}),": ",I.start+1,"–",I.end+1,I.mandatory&&r.jsx(ge,{className:"ml-2",variant:"outline",children:"Обязательно"})]},I.key))}),r.jsxs("p",{className:"text-gray-600",children:["Всего вопросов: ",r.jsx("span",{className:"font-semibold",children:s.length})]}),r.jsx("div",{className:"flex flex-wrap gap-2 mt-4",children:Array.from(new Set(s.map(I=>I.subject))).map(I=>r.jsx(ge,{variant:"secondary",children:I},I))})]})]})]})});if(y){const I=Math.round(k/s.length*100),B=Math.round(A/1e3/s.length);return r.jsx("div",{className:"container mx-auto px-4 py-8",children:r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsxs(F,{className:"mb-8",children:[r.jsx(G,{className:"text-center",children:r.jsxs(Y,{className:"flex items-center justify-center gap-2 text-2xl",children:[r.jsx(Kt,{className:"h-6 w-6 text-yellow-500"}),"Результаты теста"]})}),r.jsxs(W,{children:[r.jsxs("div",{className:"grid gap-6 md:grid-cols-3 mb-6",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-3xl font-bold text-green-600",children:k}),r.jsxs("div",{className:"text-gray-600",children:["из ",s.length]}),r.jsx("div",{className:"text-sm text-gray-500",children:"Правильных ответов"})]}),r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"text-3xl font-bold text-blue-600",children:[I,"%"]}),r.jsx("div",{className:"text-gray-600",children:"Результат"}),r.jsx("div",{className:"text-sm text-gray-500",children:I>=90?"Отлично!":I>=70?"Хорошо":I>=50?"Удовлетворительно":"Нужно подучить"})]}),r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"text-3xl font-bold text-purple-600",children:[B,"с"]}),r.jsx("div",{className:"text-gray-600",children:"на вопрос"}),r.jsx("div",{className:"text-sm text-gray-500",children:"Среднее время"})]})]}),r.jsx(Ke,{value:I,className:"mb-6"}),r.jsxs("div",{className:"flex gap-4 justify-center",children:[r.jsxs(z,{onClick:()=>N(!E),variant:"outline",children:[E?"Скрыть":"Показать"," объяснения"]}),r.jsx(z,{onClick:nt,children:"Пройти еще раз"})]})]})]}),E&&r.jsx("div",{className:"space-y-4",children:s.map((q,he)=>{const U=p[he],ie=ae.findIndex(de=>he>=de.start&&he<=de.end),ue=ie!==-1&&he===ae[ie].start;return r.jsx(F,{className:`border-l-4 ${U!=null&&U.isCorrect?"border-l-green-500":"border-l-red-500"}`,children:r.jsxs(W,{className:"pt-6",children:[ue&&r.jsxs("div",{className:"mb-3 p-2 rounded bg-gray-50 border text-sm text-gray-700",children:["Раздел: ",ae[ie].title," ",ae[ie].mandatory&&r.jsx(ge,{className:"ml-2",variant:"outline",children:"Обязательно"})]}),r.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[U!=null&&U.isCorrect?r.jsx(qa,{className:"h-5 w-5 text-green-500 mt-1"}):r.jsx(Qa,{className:"h-5 w-5 text-red-500 mt-1"}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("h4",{className:"font-medium mb-2",children:["Вопрос ",he+1,": ",q.question]}),r.jsx("div",{className:"space-y-1",children:(q.options||[]).map((de,pe)=>{const $t=Array.isArray(q.correct_answer)&&q.correct_answer.includes(pe),Et=(U==null?void 0:U.selectedAnswer)===pe,He=Array.isArray(U==null?void 0:U.selectedAnswer)&&(U==null?void 0:U.selectedAnswer).includes(pe),xr=pe===q.correctAnswer,vr=q.type==="multi_select"?$t?"bg-green-100 text-green-800":He&&!(U!=null&&U.isCorrect)?"bg-red-100 text-red-800":"bg-gray-50":xr?"bg-green-100 text-green-800":Et&&!(U!=null&&U.isCorrect)?"bg-red-100 text-red-800":"bg-gray-50";return r.jsx("div",{className:`p-2 rounded text-sm ${vr}`,children:de},pe)})}),q.explanation&&r.jsxs("div",{className:"mt-3 p-3 bg-blue-50 rounded text-sm",children:[r.jsx("strong",{children:"Объяснение:"})," ",q.explanation]})]})]})]})},q.id)})}),r.jsxs(F,{className:"mt-6",children:[r.jsx(G,{children:r.jsx(Y,{children:t==="kz"?"ИИ талдауы":"Анализ ИИ"})}),r.jsx(W,{children:Ve?r.jsx("p",{className:"text-gray-600",children:t==="kz"?"ИИ талдауда...":"ИИ анализирует..."}):r.jsx("div",{className:"whitespace-pre-wrap text-gray-800",children:le||(t==="kz"?"Нәтиже бойынша талдау қолжетімді.":"Анализ доступен для результатов.")})})]})]})})}const we=s[u],Dt=(u+1)/s.length*100;return r.jsx("div",{className:"container mx-auto px-4 py-8",children:r.jsxs("div",{className:"max-w-3xl mx-auto",children:[r.jsxs("div",{className:"mb-6",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsxs("h1",{className:"text-2xl",children:["Вопрос ",u+1," из ",s.length]}),P==="timed"&&r.jsxs("div",{className:"flex items-center gap-2 text-lg font-mono",children:[r.jsx(kt,{className:"h-5 w-5"}),r.jsx("span",{className:w<60?"text-red-600":"text-gray-700",children:J(w)})]})]}),r.jsx(Ke,{value:Dt,className:"mb-2"}),r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 text-sm text-gray-600",children:[r.jsxs("span",{children:["Прогресс: ",Math.round(Dt),"%"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[_e&&r.jsxs("span",{className:"px-2 py-1 rounded bg-gray-100 text-gray-800",children:["Раздел: ",_e.title," (",u-_e.start+1,"/",_e.end-_e.start+1,")"]}),r.jsxs("span",{children:["Режим: ",P==="practice"?"Практика":P==="timed"?"На время":"ИИ тест"]})]})]})]}),r.jsxs(F,{children:[r.jsxs(G,{children:[r.jsx(Y,{className:"text-xl",children:r.jsx(Gu,{text:we.question})}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(ge,{variant:"secondary",children:we.subject}),r.jsx(ge,{variant:"outline",children:we.difficulty})]})]}),r.jsxs(W,{children:[r.jsxs("div",{className:"flex gap-3 mb-4",children:[r.jsxs("div",{className:"inline-flex items-center gap-2 px-2 py-1 rounded border bg-gray-50",children:[r.jsx("span",{className:`h-2 w-2 rounded-full ${oe[u]?"bg-green-500":"bg-gray-300"}`}),r.jsx("span",{className:"text-xs text-gray-700",children:oe[u]?"Отвечено":"Не отвечено"})]}),r.jsx(z,{variant:"outline",size:"sm",onClick:K,children:"Завершить тест досрочно"})]}),r.jsx("div",{className:"space-y-3 mb-6",children:we.type==="multi_select"?(we.options||[]).map((I,B)=>{const q=x.includes(B);return r.jsxs("label",{className:`w-full p-4 flex items-center gap-3 rounded-lg border cursor-pointer ${q?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,children:[r.jsx("input",{type:"checkbox",className:"h-4 w-4",checked:q,onChange:he=>{g(U=>he.target.checked?[...U,B]:U.filter(ie=>ie!==B))}}),r.jsxs("span",{className:"font-medium mr-1",children:[String.fromCharCode(65+B),"."]}),r.jsx("span",{children:I})]},B)}):(we.options||[]).map((I,B)=>r.jsxs("button",{onClick:()=>h(B),className:`w-full p-4 text-left rounded-lg border transition-colors ${m===B?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,children:[r.jsxs("span",{className:"font-medium mr-3",children:[String.fromCharCode(65+B),"."]}),I]},B))}),r.jsx(z,{onClick:ee,disabled:we.type==="multi_select"?x.length===0:m===null,className:"w-full",children:u===s.length-1?"Завершить тест":"Следующий вопрос"}),r.jsx("div",{className:"mt-4 grid grid-cols-8 sm:grid-cols-12 gap-2",children:s.map((I,B)=>r.jsx("button",{onClick:()=>f(B),className:`text-xs rounded border px-2 py-1 ${B===u?"border-blue-500 bg-blue-50":oe[B]?"border-green-500 bg-green-50":"border-gray-200 hover:bg-gray-50"}`,children:B+1},B))})]})]})]})})};var ka={exports:{}},Ra={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var St=l;function Nf(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Cf=typeof Object.is=="function"?Object.is:Nf,Af=St.useState,Ef=St.useEffect,_f=St.useLayoutEffect,Tf=St.useDebugValue;function Pf(e,t){var n=t(),s=Af({inst:{value:n,getSnapshot:t}}),o=s[0].inst,a=s[1];return _f(function(){o.value=n,o.getSnapshot=t,Tr(o)&&a({inst:o})},[e,n,t]),Ef(function(){return Tr(o)&&a({inst:o}),e(function(){Tr(o)&&a({inst:o})})},[e]),Tf(n),n}function Tr(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Cf(e,n)}catch{return!0}}function kf(e,t){return t()}var Rf=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?kf:Pf;Ra.useSyncExternalStore=St.useSyncExternalStore!==void 0?St.useSyncExternalStore:Rf;ka.exports=Ra;var Mf=ka.exports;function If(){return Mf.useSyncExternalStore(Of,()=>!0,()=>!1)}function Of(){return()=>{}}var An="Avatar",[Lf,hm]=ut(An),[Df,Ma]=Lf(An),Ia=l.forwardRef((e,t)=>{const{__scopeAvatar:n,...s}=e,[o,a]=l.useState("idle");return r.jsx(Df,{scope:n,imageLoadingStatus:o,onImageLoadingStatusChange:a,children:r.jsx(H.span,{...s,ref:t})})});Ia.displayName=An;var Oa="AvatarImage",$f=l.forwardRef((e,t)=>{const{__scopeAvatar:n,src:s,onLoadingStatusChange:o=()=>{},...a}=e,i=Ma(Oa,n),c=zf(s,a),d=xe(u=>{o(u),i.onImageLoadingStatusChange(u)});return fe(()=>{c!=="idle"&&d(c)},[c,d]),c==="loaded"?r.jsx(H.img,{...a,ref:t,src:s}):null});$f.displayName=Oa;var La="AvatarFallback",Da=l.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:s,...o}=e,a=Ma(La,n),[i,c]=l.useState(s===void 0);return l.useEffect(()=>{if(s!==void 0){const d=window.setTimeout(()=>c(!0),s);return()=>window.clearTimeout(d)}},[s]),i&&a.imageLoadingStatus!=="loaded"?r.jsx(H.span,{...o,ref:t}):null});Da.displayName=La;function ms(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function zf(e,{referrerPolicy:t,crossOrigin:n}){const s=If(),o=l.useRef(null),a=(()=>s?(o.current||(o.current=new window.Image),o.current):null)(),[i,c]=l.useState(()=>ms(a,e));return fe(()=>{c(ms(a,e))},[a,e]),fe(()=>{const d=m=>()=>{c(m)};if(!a)return;const u=d("loaded"),f=d("error");return a.addEventListener("load",u),a.addEventListener("error",f),t&&(a.referrerPolicy=t),typeof n=="string"&&(a.crossOrigin=n),()=>{a.removeEventListener("load",u),a.removeEventListener("error",f)}},[a,n,t]),i}var Bf=Ia,Ff=Da;function Wf({className:e,...t}){return r.jsx(Bf,{"data-slot":"avatar",className:se("relative flex size-10 shrink-0 overflow-hidden rounded-full",e),...t})}function Uf({className:e,...t}){return r.jsx(Ff,{"data-slot":"avatar-fallback",className:se("bg-muted flex size-full items-center justify-center rounded-full",e),...t})}const Vf=()=>{const{user:e}=Ze(),{t}=$e(),[n,s]=l.useState(null),[o,a]=l.useState(!0);if(l.useEffect(()=>{(async()=>{a(!0);try{await new Promise(f=>setTimeout(f,1e3)),s({testsCompleted:12,averageScore:87,totalQuestions:60,correctAnswers:52,studyTime:145,streak:5,rank:"Продвинутый",achievements:["Первый тест","Серия из 5 тестов","Мастер математики","Эксперт по литературе"]})}catch(u){console.error("Error fetching user stats:",u)}finally{a(!1)}})()},[]),o)return r.jsx("div",{className:"min-h-screen p-8",children:r.jsx("div",{className:"max-w-6xl mx-auto",children:r.jsxs("div",{className:"animate-pulse",children:[r.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-8"}),r.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:[1,2,3].map(d=>r.jsx("div",{className:"h-40 bg-gray-200 rounded-lg"},d))})]})})});if(!n)return r.jsx("div",{className:"min-h-screen p-8",children:r.jsx("div",{className:"max-w-6xl mx-auto text-center",children:r.jsx("p",{className:"text-gray-600",children:"Ошибка загрузки данных профиля"})})});const i=d=>{switch(d){case"student":return t("auth.student");case"teacher":return t("auth.teacher");case"tutor":return t("auth.tutor");default:return d}},c=Math.round(n.correctAnswers/n.totalQuestions*100);return r.jsx("div",{className:"min-h-screen p-8",children:r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsx("div",{className:"mb-8",children:r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:t("profile.title")})}),r.jsx(F,{className:"mb-8",children:r.jsx(W,{className:"p-6",children:r.jsxs("div",{className:"flex items-center space-x-6",children:[r.jsx(Wf,{className:"h-20 w-20",children:r.jsx(Uf,{className:"text-2xl",children:e==null?void 0:e.name.charAt(0).toUpperCase()})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:e==null?void 0:e.name}),r.jsx("p",{className:"text-gray-600",children:e==null?void 0:e.email}),r.jsxs("div",{className:"flex items-center space-x-4 mt-2",children:[r.jsx(ge,{variant:"secondary",children:i((e==null?void 0:e.role)||"student")}),r.jsxs(ge,{variant:"outline",children:[r.jsx(Kt,{className:"h-4 w-4 mr-1"}),n.rank]})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:n.streak}),r.jsx("div",{className:"text-sm text-gray-600",children:"дней подряд"})]})]})})}),r.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[r.jsxs(F,{children:[r.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Y,{className:"text-sm font-medium",children:t("profile.testsCompleted")}),r.jsx(ot,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsxs(W,{children:[r.jsx("div",{className:"text-2xl font-bold",children:n.testsCompleted}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"+2 за последнюю неделю"})]})]}),r.jsxs(F,{children:[r.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Y,{className:"text-sm font-medium",children:t("profile.averageScore")}),r.jsx(kr,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsxs(W,{children:[r.jsxs("div",{className:"text-2xl font-bold",children:[n.averageScore,"%"]}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"+5% по сравнению с прошлым месяцем"})]})]}),r.jsxs(F,{children:[r.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Y,{className:"text-sm font-medium",children:"Точность ответов"}),r.jsx(Jr,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsxs(W,{children:[r.jsxs("div",{className:"text-2xl font-bold",children:[c,"%"]}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:[n.correctAnswers," из ",n.totalQuestions]})]})]}),r.jsxs(F,{children:[r.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Y,{className:"text-sm font-medium",children:"Время обучения"}),r.jsx(kt,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsxs(W,{children:[r.jsxs("div",{className:"text-2xl font-bold",children:[Math.floor(n.studyTime/60),"ч ",n.studyTime%60,"м"]}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"за этот месяц"})]})]})]}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[r.jsxs(F,{children:[r.jsx(G,{children:r.jsxs(Y,{className:"flex items-center space-x-2",children:[r.jsx(kr,{className:"h-5 w-5"}),r.jsx("span",{children:t("profile.progress")})]})}),r.jsx(W,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between items-center mb-2",children:[r.jsx("span",{className:"text-sm font-medium",children:"Математика"}),r.jsx("span",{className:"text-sm text-gray-600",children:"92%"})]}),r.jsx(Ke,{value:92,className:"h-2"})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between items-center mb-2",children:[r.jsx("span",{className:"text-sm font-medium",children:"Литература"}),r.jsx("span",{className:"text-sm text-gray-600",children:"85%"})]}),r.jsx(Ke,{value:85,className:"h-2"})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between items-center mb-2",children:[r.jsx("span",{className:"text-sm font-medium",children:"География"}),r.jsx("span",{className:"text-sm text-gray-600",children:"78%"})]}),r.jsx(Ke,{value:78,className:"h-2"})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between items-center mb-2",children:[r.jsx("span",{className:"text-sm font-medium",children:"История"}),r.jsx("span",{className:"text-sm text-gray-600",children:"65%"})]}),r.jsx(Ke,{value:65,className:"h-2"})]})]})})]}),r.jsxs(F,{children:[r.jsx(G,{children:r.jsxs(Y,{className:"flex items-center space-x-2",children:[r.jsx(Rr,{className:"h-5 w-5"}),r.jsx("span",{children:"Достижения"})]})}),r.jsx(W,{children:r.jsx("div",{className:"grid grid-cols-2 gap-3",children:n.achievements.map((d,u)=>r.jsxs("div",{className:"flex items-center space-x-2 p-3 bg-gray-50 rounded-lg",children:[r.jsx(Kt,{className:"h-4 w-4 text-yellow-500"}),r.jsx("span",{className:"text-sm font-medium",children:d})]},u))})})]})]})]})})};function Hf(e,t){if(!e.length)return"";const n=t||Array.from(new Set(e.flatMap(i=>Object.keys(i)))),s=i=>{const c=i==null?"":String(i);return/[",\n]/.test(c)?'"'+c.replace(/"/g,'""')+'"':c},o=n.join(","),a=e.map(i=>n.map(c=>s(i[c])).join(",")).join(`
`);return o+`
`+a}function qf(e){const t=e.trim().split(/\r?\n/);if(!t.length)return[];const n=hs(t[0]);return t.slice(1).map(s=>{const o=hs(s),a={};return n.forEach((i,c)=>a[i]=o[c]??""),a})}function hs(e){const t=[];let n="",s=!1;for(let o=0;o<e.length;o++){const a=e[o];s?a==='"'?e[o+1]==='"'?(n+='"',o++):s=!1:n+=a:a===","?(t.push(n),n=""):a==='"'?s=!0:n+=a}return t.push(n),t}const Qf=()=>{const{user:e}=Ze(),{t}=$e(),[n,s]=l.useState([]),[o,a]=l.useState(null),[i,c]=l.useState(!1),[d,u]=l.useState(null),[f,m]=l.useState(!1);l.useState("questions");const[h,x]=l.useState(jn()),[g,p]=l.useState({question:"",options:["","","",""],correctAnswer:0,subject:"",difficulty:"medium"});l.useEffect(()=>{v(),y()},[]);const v=async()=>{m(!0);try{const j=[{id:"1",question:"Что такое столица Казахстана?",options:["Алматы","Нур-Султан","Шымкент","Караганда"],correctAnswer:1,subject:"География",difficulty:"easy",createdAt:"2024-01-15",createdBy:(e==null?void 0:e.id)||""},{id:"2",question:"Сколько будет 2 + 2?",options:["3","4","5","6"],correctAnswer:1,subject:"Математика",difficulty:"easy",createdAt:"2024-01-14",createdBy:(e==null?void 0:e.id)||""},{id:"3",question:'Кто написал "Война и мир"?',options:["Пушкин","Толстой","Достоевский","Чехов"],correctAnswer:1,subject:"Литература",difficulty:"medium",createdAt:"2024-01-13",createdBy:(e==null?void 0:e.id)||""}];s(j)}catch{Z.error("Ошибка при загрузке вопросов")}finally{m(!1)}},y=async()=>{try{a({totalQuestions:25,totalUsers:150,totalTests:340,averageScore:78})}catch(j){console.error("Error fetching stats:",j)}},b=j=>{const E=j(h);x(E)},w=()=>{try{ha(h),Z.success("Шаблон ЕНТ сохранён")}catch{Z.error("Не удалось сохранить шаблон")}},S=async()=>{if(!g.question||!g.subject||g.options.some(j=>!j)){Z.error("Пожалуйста, заполните все поля");return}m(!0);try{const j={id:Date.now().toString(),question:g.question,options:g.options,correctAnswer:g.correctAnswer,subject:g.subject,difficulty:g.difficulty,createdAt:new Date().toISOString().split("T")[0],createdBy:(e==null?void 0:e.id)||""};s(E=>[...E,j]),p({question:"",options:["","","",""],correctAnswer:0,subject:"",difficulty:"medium"}),c(!1),Z.success("Вопрос добавлен успешно")}catch{Z.error("Ошибка при добавлении вопроса")}finally{m(!1)}},C=j=>{u(j),p({question:j.question,options:j.options,correctAnswer:j.correctAnswer,subject:j.subject,difficulty:j.difficulty})},_=async()=>{if(d){m(!0);try{const j={...d,question:g.question,options:g.options,correctAnswer:g.correctAnswer,subject:g.subject,difficulty:g.difficulty};s(E=>E.map(N=>N.id===d.id?j:N)),u(null),p({question:"",options:["","","",""],correctAnswer:0,subject:"",difficulty:"medium"}),Z.success("Вопрос обновлен успешно")}catch{Z.error("Ошибка при обновлении вопроса")}finally{m(!1)}}},A=async j=>{if(confirm("Вы уверены, что хотите удалить этот вопрос?")){m(!0);try{s(E=>E.filter(N=>N.id!==j)),Z.success("Вопрос удален")}catch{Z.error("Ошибка при удалении вопроса")}finally{m(!1)}}},R=()=>{p({question:"",options:["","","",""],correctAnswer:0,subject:"",difficulty:"medium"}),c(!1),u(null)},k=j=>{switch(j){case"easy":return"bg-green-100 text-green-800";case"medium":return"bg-yellow-100 text-yellow-800";case"hard":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return r.jsx("div",{className:"min-h-screen p-8",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:t("admin.title")}),r.jsxs("p",{className:"text-gray-600",children:["Добро пожаловать, ",e==null?void 0:e.name,"! Управляйте контентом платформы."]})]}),o&&r.jsxs("div",{className:"grid md:grid-cols-4 gap-6 mb-8",children:[r.jsxs(F,{children:[r.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Y,{className:"text-sm font-medium",children:"Всего вопросов"}),r.jsx(ot,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsx(W,{children:r.jsx("div",{className:"text-2xl font-bold",children:o.totalQuestions})})]}),r.jsxs(F,{children:[r.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Y,{className:"text-sm font-medium",children:"Пользователей"}),r.jsx(Ga,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsx(W,{children:r.jsx("div",{className:"text-2xl font-bold",children:o.totalUsers})})]}),r.jsxs(F,{children:[r.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Y,{className:"text-sm font-medium",children:"Тестов пройдено"}),r.jsx(Pr,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsx(W,{children:r.jsx("div",{className:"text-2xl font-bold",children:o.totalTests})})]}),r.jsxs(F,{children:[r.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Y,{className:"text-sm font-medium",children:"Средний балл"}),r.jsx(Ya,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsx(W,{children:r.jsxs("div",{className:"text-2xl font-bold",children:[o.averageScore,"%"]})})]})]}),r.jsxs("div",{className:"space-y-4 mb-8",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Шаблон ЕНТ"}),r.jsxs(F,{children:[r.jsx(G,{children:r.jsx(Y,{children:h.name})}),r.jsxs(W,{className:"space-y-4",children:[Object.entries(h.tracks).map(([j,E])=>r.jsxs("div",{className:"border rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h3",{className:"font-semibold",children:["Направление: ",j==="math"?"Математика":"Физика"]}),r.jsxs(ge,{variant:"secondary",children:["Время: ",E.totalTimeMinutes," мин"]})]}),r.jsx("div",{className:"mt-3 space-y-3",children:E.sections.map((N,P)=>r.jsxs("div",{className:"grid md:grid-cols-5 gap-3 items-end",children:[r.jsxs("div",{className:"md:col-span-2",children:[r.jsx(Ae,{children:"Название секции"}),r.jsx(je,{value:N.title,onChange:T=>b(O=>{const M={...O};return M.tracks[j].sections[P].title=T.target.value,M})})]}),r.jsxs("div",{children:[r.jsx(Ae,{children:"Вопросов"}),r.jsx(je,{type:"number",value:N.numQuestions,onChange:T=>b(O=>{const M={...O};return M.tracks[j].sections[P].numQuestions=Number(T.target.value),M})})]}),r.jsxs("div",{children:[r.jsx(Ae,{children:"Минут"}),r.jsx(je,{type:"number",value:N.timeLimitMinutes,onChange:T=>b(O=>{const M={...O};return M.tracks[j].sections[P].timeLimitMinutes=Number(T.target.value),M})})]}),r.jsxs("div",{children:[r.jsx(Ae,{children:"Обязательная"}),r.jsx(z,{type:"button",variant:N.mandatory?"default":"outline",onClick:()=>b(T=>{const O={...T};return O.tracks[j].sections[P].mandatory=!O.tracks[j].sections[P].mandatory,O}),children:N.mandatory?"Да":"Нет"})]})]},N.id))})]},j)),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(z,{onClick:w,children:"Сохранить шаблон"}),r.jsx(z,{variant:"outline",onClick:()=>{x(It),Z.success("Шаблон сброшен по умолчанию")},children:"Сбросить"})]})]})]})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:t("admin.questions")}),r.jsxs(z,{onClick:()=>c(!0),className:"flex items-center space-x-2",children:[r.jsx(Ka,{className:"h-4 w-4"}),r.jsx("span",{children:t("admin.addQuestion")})]})]}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsx(z,{variant:"outline",onClick:()=>{const j="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(n,null,2)),E=document.createElement("a");E.setAttribute("href",j),E.setAttribute("download",`questions-export-${Date.now()}.json`),E.click()},children:"Экспорт JSON"}),r.jsx(z,{variant:"outline",onClick:()=>{const j=n.map(T=>{var O;return{id:T.id,question:T.question,subject:T.subject,difficulty:T.difficulty,options:((O=T.options)==null?void 0:O.join("|"))??"",correct_answer:String(T.correctAnswer??T.correct_answer)}}),E=Hf(j,["id","question","subject","difficulty","options","correct_answer"]),N="data:text/csv;charset=utf-8,"+encodeURIComponent(E),P=document.createElement("a");P.setAttribute("href",N),P.setAttribute("download",`questions-export-${Date.now()}.csv`),P.click()},children:"Экспорт CSV"}),r.jsxs("label",{className:"inline-flex items-center gap-2 cursor-pointer",children:[r.jsx(je,{type:"file",accept:"application/json,.json",onChange:j=>{var P;const E=(P=j.target.files)==null?void 0:P[0];if(!E)return;const N=new FileReader;N.onload=()=>{try{const T=JSON.parse(String(N.result));Array.isArray(T)?(s(T),Z.success("Импортировано вопросов: "+T.length)):Z.error("Неверный формат файла")}catch{Z.error("Ошибка импорта")}},N.readAsText(E)}}),r.jsx("span",{className:"text-sm text-gray-600",children:"Импорт JSON"})]}),r.jsxs("label",{className:"inline-flex items-center gap-2 cursor-pointer",children:[r.jsx(je,{type:"file",accept:"text/csv,.csv",onChange:j=>{var P;const E=(P=j.target.files)==null?void 0:P[0];if(!E)return;const N=new FileReader;N.onload=()=>{try{const O=qf(String(N.result)).map(M=>({id:M.id||Date.now().toString(),question:M.question,options:(M.options||"").split("|").filter(Boolean),correctAnswer:isNaN(Number(M.correct_answer))?0:Number(M.correct_answer),subject:M.subject,difficulty:M.difficulty||"medium"}));s(O),Z.success("Импортировано из CSV: "+O.length)}catch{Z.error("Ошибка импорта CSV")}},N.readAsText(E)}}),r.jsx("span",{className:"text-sm text-gray-600",children:"Импорт CSV"})]})]}),(i||d)&&r.jsxs(F,{children:[r.jsx(G,{children:r.jsx(Y,{children:d?"Редактировать вопрос":t("admin.addQuestion")})}),r.jsxs(W,{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(Ae,{htmlFor:"question",children:t("admin.questionText")}),r.jsx(Pa,{id:"question",value:g.question,onChange:j=>p(E=>({...E,question:j.target.value})),placeholder:"Введите текст вопроса...",className:"mt-1"})]}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(Ae,{children:"Предмет"}),r.jsxs(Gr,{value:g.subject,onValueChange:j=>p(E=>({...E,subject:j})),children:[r.jsx(Kr,{children:r.jsx(Yr,{placeholder:"Выберите предмет"})}),r.jsxs(Xr,{children:[r.jsx(ye,{value:"Математика",children:"Математика"}),r.jsx(ye,{value:"Литература",children:"Литература"}),r.jsx(ye,{value:"География",children:"География"}),r.jsx(ye,{value:"История",children:"История"}),r.jsx(ye,{value:"Физика",children:"Физика"}),r.jsx(ye,{value:"Химия",children:"Химия"}),r.jsx(ye,{value:"Биология",children:"Биология"}),r.jsx(ye,{value:"Информатика",children:"Информатика"})]})]})]}),r.jsxs("div",{children:[r.jsx(Ae,{children:"Сложность"}),r.jsxs(Gr,{value:g.difficulty,onValueChange:j=>p(E=>({...E,difficulty:j})),children:[r.jsx(Kr,{children:r.jsx(Yr,{})}),r.jsxs(Xr,{children:[r.jsx(ye,{value:"easy",children:"Легкий"}),r.jsx(ye,{value:"medium",children:"Средний"}),r.jsx(ye,{value:"hard",children:"Сложный"})]})]})]})]}),r.jsxs("div",{children:[r.jsx(Ae,{children:t("admin.answers")}),r.jsxs("div",{className:"space-y-2 mt-2",children:[g.options.map((j,E)=>r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(je,{value:j,onChange:N=>{const P=[...g.options];P[E]=N.target.value,p(T=>({...T,options:P}))},placeholder:`Вариант ${E+1}`}),r.jsx(z,{type:"button",variant:g.correctAnswer===E?"default":"outline",size:"sm",onClick:()=>p(N=>({...N,correctAnswer:E})),children:g.correctAnswer===E?"Правильный":"Выбрать"}),r.jsx(z,{type:"button",variant:"outline",size:"sm",onClick:()=>p(N=>({...N,options:N.options.filter((P,T)=>T!==E)})),children:"Удалить"})]},E)),r.jsx(z,{type:"button",variant:"secondary",size:"sm",onClick:()=>p(j=>({...j,options:[...j.options,""]})),children:"Добавить вариант"})]})]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs(z,{onClick:d?_:S,disabled:f,className:"flex items-center space-x-2",children:[r.jsx(Xa,{className:"h-4 w-4"}),r.jsx("span",{children:t(f?"common.loading":"admin.save")})]}),r.jsxs(z,{variant:"outline",onClick:R,children:[r.jsx(js,{className:"h-4 w-4 mr-2"}),t("common.cancel")]}),r.jsx(z,{variant:"outline",type:"button",onClick:()=>{const j=g;Z.info("Предпросмотр вопроса: "+(j.question||""))},children:"Предпросмотр"})]})]})]}),r.jsx("div",{className:"space-y-4",children:n.map(j=>r.jsx(F,{children:r.jsxs(W,{className:"p-6",children:[r.jsxs("div",{className:"flex justify-between items-start mb-4",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-semibold text-lg mb-2",children:j.question}),r.jsxs("div",{className:"flex space-x-2 mb-3",children:[r.jsx(ge,{variant:"secondary",children:j.subject}),r.jsx(ge,{className:k(j.difficulty),children:j.difficulty==="easy"?"Легкий":j.difficulty==="medium"?"Средний":"Сложный"})]})]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx(z,{variant:"outline",size:"sm",onClick:()=>C(j),children:r.jsx(Ja,{className:"h-4 w-4"})}),r.jsx(z,{variant:"outline",size:"sm",onClick:()=>A(j.id),className:"text-red-600 hover:text-red-700",children:r.jsx(Za,{className:"h-4 w-4"})})]})]}),r.jsx("div",{className:"space-y-2",children:j.options.map((E,N)=>r.jsxs("div",{className:`p-2 rounded text-sm ${j.correctAnswer===N?"bg-green-100 text-green-800 font-medium":"bg-gray-50"}`,children:[String.fromCharCode(65+N),". ",E,j.correctAnswer===N&&r.jsx("span",{className:"ml-2 text-xs",children:"(Правильный ответ)"})]},N))}),r.jsxs("div",{className:"mt-4 text-xs text-gray-500",children:["Создано: ",j.createdAt]})]})},j.id))})]})]})})},Gf=()=>r.jsxs("div",{className:"flex flex-col items-center justify-center space-y-4",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),r.jsx("p",{className:"text-lg text-gray-600",children:"Загрузка..."})]});var Yf="Separator",ps="horizontal",Kf=["horizontal","vertical"],$a=l.forwardRef((e,t)=>{const{decorative:n,orientation:s=ps,...o}=e,a=Xf(s)?s:ps,c=n?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return r.jsx(H.div,{"data-orientation":a,...c,...o,ref:t})});$a.displayName=Yf;function Xf(e){return Kf.includes(e)}var Jf=$a;function Zf({className:e,orientation:t="horizontal",decorative:n=!0,...s}){return r.jsx(Jf,{"data-slot":"separator-root",decorative:n,orientation:t,className:se("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",e),...s})}const em=()=>{$e();const[e,t]=l.useState([]),[n,s]=l.useState(!0),[o,a]=l.useState({}),[i,c]=l.useState("all");l.useEffect(()=>{(async()=>{s(!0);try{const g=(await be.getResults()).sort((p,v)=>new Date(v.completed_at).getTime()-new Date(p.completed_at).getTime());t(g)}finally{s(!1)}})()},[]);const d=l.useMemo(()=>{const h=new Set;return e.forEach(x=>h.add(x.test_id.replace("test-",""))),["all",...Array.from(h)]},[e]),u=l.useMemo(()=>i==="all"?e:e.filter(h=>h.test_id.replace("test-","")===i),[e,i]),f=h=>a(x=>({...x,[h]:!x[h]})),m=h=>{const x=Math.floor(h/60),g=h%60;return`${x}м ${g}с`};return n?r.jsx("div",{className:"container mx-auto px-4 py-8",children:r.jsxs("div",{className:"max-w-5xl mx-auto",children:[r.jsx("div",{className:"h-8 w-48 bg-gray-200 rounded animate-pulse mb-6"}),r.jsx("div",{className:"space-y-4",children:Array.from({length:3}).map((h,x)=>r.jsx(F,{className:"animate-pulse",children:r.jsxs(W,{className:"p-6",children:[r.jsx("div",{className:"h-5 bg-gray-200 rounded w-1/3 mb-3"}),r.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4"})]})},x))})]})}):r.jsx("div",{className:"container mx-auto px-4 py-8",children:r.jsxs("div",{className:"max-w-5xl mx-auto",children:[r.jsxs("div",{className:"mb-6 flex items-center justify-between gap-3",children:[r.jsx("h1",{className:"text-3xl font-bold",children:"Дневник тестов"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ei,{className:"w-4 h-4 text-gray-500"}),r.jsx("select",{value:i,onChange:h=>c(h.target.value),className:"border rounded-md px-3 py-1 text-sm bg-white",children:d.map(h=>r.jsx("option",{value:h,children:h==="all"?"Все предметы":h},h))})]})]}),u.length===0?r.jsx(F,{children:r.jsx(W,{className:"p-6 text-center text-gray-600",children:"Нет сохраненных результатов. Пройдите тест, чтобы он появился в дневнике."})}):r.jsx("div",{className:"space-y-4",children:u.map(h=>{var y,b,w;const x=h.test_id.replace("test-","")||"general",g=((y=h.answers)==null?void 0:y.filter(S=>S.correct).length)||Math.round(h.score/100*(((b=h.answers)==null?void 0:b.length)||0)),p=((w=h.answers)==null?void 0:w.length)||0,v=!!o[h.id];return r.jsxs(F,{children:[r.jsxs(G,{className:"flex flex-row items-start justify-between pb-2",children:[r.jsx(Y,{className:"text-lg",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ge,{variant:"secondary",children:x}),r.jsxs("span",{className:"font-semibold",children:[Math.round(h.score),"%"]})]})}),r.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(ti,{className:"w-4 h-4"}),new Date(h.completed_at).toLocaleString("ru-RU")]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(kt,{className:"w-4 h-4"}),m(h.time_spent)]})]})]}),r.jsxs(W,{className:"pt-0",children:[r.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-700",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Jr,{className:"w-4 h-4"}),g,"/",p," верно"]}),r.jsx(Zf,{className:"mx-1"}),r.jsx(z,{variant:"outline",size:"sm",onClick:()=>f(h.id),className:"flex items-center gap-1",children:v?r.jsxs(r.Fragment,{children:[r.jsx(bs,{className:"w-4 h-4"})," Скрыть детали"]}):r.jsxs(r.Fragment,{children:[r.jsx(Zr,{className:"w-4 h-4"})," Показать детали"]})})]}),v&&r.jsx("div",{className:"mt-4 space-y-2",children:(h.answers||[]).map((S,C)=>r.jsxs("div",{className:`p-2 rounded text-sm ${S.correct?"bg-green-50 text-green-800":"bg-red-50 text-red-800"}`,children:["Вопрос ",C+1,": ",S.correct?"верно":"ошибка"]},C))})]})]},h.id)})})]})})},tm=()=>{const{user:e,isLoading:t}=Ze(),{t:n}=$e(),[s,o]=l.useState("home");if(l.useEffect(()=>{!e&&s!=="auth"&&s!=="home"&&o("auth")},[e,s]),l.useEffect(()=>{const i=c=>{var u;const d=c;(u=d.detail)!=null&&u.page&&o(d.detail.page)};return window.addEventListener("app:navigate",i),()=>window.removeEventListener("app:navigate",i)},[]),t)return r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsx(Gf,{})});const a=()=>{switch(s){case"home":return r.jsx(Wn,{onNavigate:i=>o(i)});case"tests":return r.jsx(Sf,{});case"profile":return r.jsx(Vf,{});case"admin":return(e==null?void 0:e.role)==="teacher"||(e==null?void 0:e.role)==="tutor"?r.jsx(Qf,{}):r.jsxs("div",{className:"container mx-auto px-4 py-8 text-center",children:[r.jsx("h1",{className:"text-2xl mb-4",children:n("common.error")}),r.jsx("p",{children:n("auth.insufficientPermissions")})]});case"diary":return r.jsx(em,{});case"auth":return r.jsx(Hu,{});default:return r.jsx(Wn,{onNavigate:i=>o(i)})}};return r.jsxs("div",{className:"min-h-screen",children:[r.jsx(Xi,{currentPage:s,setCurrentPage:o}),r.jsx("main",{className:"pt-16",children:a()})]})},rm=({...e})=>r.jsx(ri,{theme:"light",className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-white group-[.toaster]:text-gray-900 group-[.toaster]:border-gray-200 group-[.toaster]:shadow-lg",description:"group-[.toast]:text-gray-600",actionButton:"group-[.toast]:bg-blue-600 group-[.toast]:text-white",cancelButton:"group-[.toast]:bg-gray-100 group-[.toast]:text-gray-900"}},...e}),nm=()=>r.jsx("footer",{className:"mt-16 border-t border-gray-200 bg-white dark:bg-slate-900 dark:border-slate-800",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10",children:[r.jsxs("div",{className:"grid gap-8 md:grid-cols-4",children:[r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ot,{className:"h-6 w-6 text-blue-600"}),r.jsx("span",{className:"font-semibold",children:"EduPlatform"})]}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Современная платформа для подготовки к ЕНТ: тесты, аналитика и ИИ‑помощник."})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-semibold mb-3",children:"Продукт"}),r.jsxs("ul",{className:"space-y-2 text-sm text-gray-600 dark:text-gray-400",children:[r.jsx("li",{children:r.jsx("a",{className:"hover:text-gray-900 dark:hover:text-white",href:"#",children:"Возможности"})}),r.jsx("li",{children:r.jsx("a",{className:"hover:text-gray-900 dark:hover:text-white",href:"#",children:"Цены"})}),r.jsx("li",{children:r.jsx("a",{className:"hover:text-gray-900 dark:hover:text-white",href:"#",children:"Безопасность"})})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-semibold mb-3",children:"Ресурсы"}),r.jsxs("ul",{className:"space-y-2 text-sm text-gray-600 dark:text-gray-400",children:[r.jsx("li",{children:r.jsx("a",{className:"hover:text-gray-900 dark:hover:text-white",href:"#",children:"Документация"})}),r.jsx("li",{children:r.jsx("a",{className:"hover:text-gray-900 dark:hover:text-white",href:"#",children:"Поддержка"})}),r.jsx("li",{children:r.jsx("a",{className:"hover:text-gray-900 dark:hover:text-white",href:"#",children:"Блог"})})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-semibold mb-3",children:"Контакты"}),r.jsxs("ul",{className:"space-y-2 text-sm text-gray-600 dark:text-gray-400",children:[r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx(ws,{className:"h-4 w-4"})," support@eduplatform.app"]}),r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx(vs,{className:"h-4 w-4"})," eduplatform.app"]})]}),r.jsx("div",{className:"mt-4 flex items-center gap-3 text-gray-600 dark:text-gray-400",children:r.jsx("a",{"aria-label":"GitHub",className:"hover:text-gray-900 dark:hover:text-white",href:"#",children:r.jsx(ni,{className:"h-5 w-5"})})})]})]}),r.jsxs("div",{className:"mt-10 pt-6 border-t border-gray-200 dark:border-slate-800 flex flex-col sm:flex-row items-center justify-between gap-3 text-xs text-gray-500 dark:text-gray-400",children:[r.jsxs("p",{children:["© ",new Date().getFullYear()," EduPlatform. Все права защищены."]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("a",{className:"hover:text-gray-900 dark:hover:text-white",href:"#",children:"Политика конфиденциальности"}),r.jsx("a",{className:"hover:text-gray-900 dark:hover:text-white",href:"#",children:"Условия использования"})]})]})]})});function sm(){return l.useEffect(()=>{window.parent.postMessage("react-app-loaded","*"),(async()=>{try{(await fetch("/api/init",{method:"POST",headers:{"Content-Type":"application/json"}})).ok&&console.log("Backend initialized successfully")}catch{}})()},[]),r.jsx(gi,{children:r.jsx(hi,{children:r.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[r.jsx(tm,{}),r.jsx(rm,{position:"top-right",expand:!0,richColors:!1,closeButton:!0,toastOptions:{style:{background:"white",border:"1px solid rgba(0,0,0,0.06)",boxShadow:"0 10px 30px -15px rgba(0,0,0,0.2)"},className:"text-gray-900"}}),r.jsx("div",{id:"global-loading",className:"fixed inset-0 bg-black/30 z-50 hidden items-center justify-center",children:r.jsx("div",{className:"rounded-xl p-6 shadow-xl bg-white border",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-blue-500 border-t-transparent"}),r.jsx("span",{className:"text-gray-800",children:"Загрузка..."})]})})}),r.jsx(nm,{})]})})})}Mr.createRoot(document.getElementById("root")).render(r.jsx(Qe.StrictMode,{children:r.jsx(sm,{})}));export{pt as _};
//# sourceMappingURL=index-9891546a.js.map
